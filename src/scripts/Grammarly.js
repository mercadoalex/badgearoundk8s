/*! For license information please see Grammarly.js.LICENSE.txt */
var leafPrototypes,e,t,n,r,i,o={30164:(e,t,n)=>{var r=n(62098),i="chrome-extension://__MSG_@@extension_id__/",o="moz-extension://__MSG_@@extension_id__/",s="safari-web-extension://__MSG_@@extension_id__/",a=self.GR_RESOURCE_ROOT||i,c=self.GR_RESOURCE_ROOT||o,u=self.GR_RESOURCE_ROOT||s;e.exports={__css:r.toString().replace(new RegExp(i,"g"),a).replace(new RegExp(o,"g"),c).replace(new RegExp(s,"g"),u),...r.locals}},19075:(e,t,n)=>{n.d(t,{C:()=>i,V:()=>o});var r=n(61986);const i={CheetahFetchSkills:new r.Cc("cheetah_fetch_skills")},o={SmartPlagiarismUphook:new r.KS("smart_plagiarism_uphook",["control","test"]),GrammarlyProM3V2:new r.KS("grammarly_pro_m3_v2",["control","test"])}},78778:(e,t,n)=>{function r(e){return i(e,e.length-1,[])}function i(e,t,n){return function(r){var o=n.concat([r]);return 0===t?e.apply(this,o):i(e,t-1,o)}}n.d(t,{W:()=>r})},85438:(e,t,n)=>{n.d(t,{L0:()=>f,ej:()=>l,kG:()=>p,sH:()=>u,vE:()=>h});var r=n(36059),i=n(81148),o=n(66664),s=n(21101),a=n(80880),c=n(24134),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"(nomessage)";Error.call(this,e),"captureStackTrace"in Error?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name=this.constructor.name};u.prototype=Object.create(Error.prototype);var l=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(e){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"empty";return(0,i._)(this,n),o=t.call(this,"Invariant condition failed: "+(Boolean(e)?e:"(unnamed)")),(0,s._)((0,r._)(o),"input",void 0),o.input=a,o}return(0,o._)(n,[{key:"toString",value:function(){return"".concat(this.message," on input[").concat(this.input,"]")}}]),n}(u),d=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(e){return(0,i._)(this,n),t.call(this,"Matching not exhaustive".concat(Boolean(e)?": unexpected value ".concat(JSON.stringify(e)):""))}return n}(u);function p(e,t,n){if(!e){var r=new l("string"==typeof t?t:t&&t(),void 0!==n&&"string"!=typeof n?n():n);throw r.stack=r.stack.split("\n").filter((function(e){return-1===e.indexOf("errors.")})).join("\n"),r}}function h(e){throw new d(e)}function f(e){return e}},34514:(e,t,n)=>{n.d(t,{CE:()=>C,Fx:()=>v,H6:()=>w,Ov:()=>b,Qr:()=>g,Vx:()=>_,Xy:()=>f,ei:()=>y,qo:()=>m,sq:()=>S,v4:()=>p,vZ:()=>x});var r=n(21101),i=n(46504),o=n(38569),s=n(15384),a=n(63335),c=n(5055),u=n(58303),l=n(39953),d=n(78778),p=function e(t){if("object"!=typeof t)return t;var n,r,i=Object.prototype.toString.call(t);if("[object Object]"===i){if(t.constructor!==Object&&"function"==typeof t.constructor)for(n in r=new t.constructor,t)t.hasOwnProperty(n)&&r[n]!==t[n]&&(r[n]=e(t[n]));else for(n in r={},t)"__proto__"===n?Object.defineProperty(r,n,{value:e(t[n]),configurable:!0,enumerable:!0,writable:!0}):r[n]=e(t[n]);return r}if("[object Array]"===i){for(n=t.length,r=Array(n);n--;)r[n]=e(t[n]);return r}if("[object Date]"===i)return new Date(+t);if("[object RegExp]"===i)return(r=new RegExp(t.source,t.flags)).lastIndex=t.lastIndex,r;return t};var h=Object.prototype.hasOwnProperty;function f(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&f(e[r],t[r]););return-1===r}if(!n||"object"==typeof e){for(n in r=0,e){if(h.call(e,n)&&++r&&!h.call(t,n))return!1;if(!(n in t)||!f(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!=e&&t!=t}function g(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function m(e){return Object.keys(e).map((function(t){return e[t]}))}var b=(0,d.W)((function(e,t,n){var o=n[e],a=(0,s._)(n,[e].map(c._));return(0,i._)((0,r._)({},e,t(u.ij(o))),a)}));(0,d.W)((function(e,t,n){var o=n[e],a=(0,s._)(n,[e].map(c._)),d="function"==typeof t?t(u.ij(o)):t;return(0,l.zG)(d,u.g_((function(){return a}),(function(t){return(0,i._)((0,r._)({},e,t),a)})))}));function _(e,t){return Object.assign({},e,t)}function v(e,t){var n={};for(var r in e){var i=t[r];void 0!==i?n[r]="object"==typeof i?v(e[r],i):i:n[r]=e[r]}return n}function y(e){return function(t){return t[e]}}function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return(0,o._)((0,i._)({},t),(0,r._)({},n,e[n]))}),{})}}function x(e,t){if(e===t)return!0;if(E(e)||E(t))return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!(n in t))return!1;if(!x(e[n],t[n]))return!1}return!0}function E(e){return e!==Object(e)}function S(e){return Array.from(e).reduce((function(e,t){var n=(0,a._)(t,2),s=n[0],c=n[1];return(0,o._)((0,i._)({},e),(0,r._)({},s,c))}),{})}var C=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=(0,i._)({},e);return n.forEach((function(e){return delete o[e]})),o}},62269:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;var n={prod:"grammarly.com",preprod:"ppgr.io",qa:"qagr.io"};t.config=function(e){var t=n[e];return{url:{properties:"https://properties."+t,treatment:"https://treatment."+t,gates:"https://gates."+t}}}},43693:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Experiment=void 0;var n=function(){function e(e,t){this.name=e,this._experiences=t}return Object.defineProperty(e.prototype,"experiences",{get:function(){return Object.fromEntries(this._experiences.map((function(e){return[e,e]})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"experiencesArray",{get:function(){return this._experiences},enumerable:!1,configurable:!0}),e}();t.Experiment=n},54936:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentClient=void 0;var o=n(54391),s=n(45052),a=n(48782),c=function(e,t,n,c,u){var l=this;void 0===u&&(u={}),this._treatmentService=e,this._experiments=t,this._gatesService=n,this._gates=c,this._config=u,this._experimentTreatments=new Map,this._gateTreatments=new Map,this._initialFetched=!1,this.setPrefetchedTreatments=function(e){if(l._startRefreshIfNeeded(),!s.validateTreatmentsWithType(e))throw new Error("Not valid treatments");l._updateTreatmentForExpAndGates(e)},this._updateTreatmentForExpAndGates=function(e){l._treatmentService.refresh&&l._treatmentService.refresh(),l._experimentTreatments=new Map(e.filter((function(e){return e.type===a.ExperimentType.experiment})).map((function(e){return[e.experimentName,e]}))),l._gateTreatments=new Map(e.filter((function(e){return e.type===a.ExperimentType.gate})).map((function(e){return[e.experimentName,e]})))},this.fetchTreatments=function(e){return void 0===e&&(e={}),r(l,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this._startRefreshIfNeeded(),[4,this._fetchTreatments(e.clearCacheOnError)];case 1:return t.sent(),[2]}}))}))},this._fetchTreatments=function(e){return r(l,void 0,void 0,(function(){var t,n,r,o,s,a,c;return i(this,(function(i){switch(i.label){case 0:t=null,n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),r=this._experiments.concat(this._gates),[4,this._treatmentService.getTreatment(r.map((function(e){return e.name})))];case 2:return t=i.sent(),[3,4];case 3:return o=i.sent(),n=o,e&&this._experimentTreatments.clear(),[3,4];case 4:if(t)return this._updateTreatmentForExpAndGates(t),[2];s=null,a=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this._gatesService.getTreatment(this._gates.map((function(e){return e.name})))];case 6:return s=i.sent(),[3,8];case 7:return c=i.sent(),a=c,e&&this._gateTreatments.clear(),[3,8];case 8:if(s&&(this._gateTreatments=new Map(s.map((function(e){return[e.experimentName,e]})))),a||n)throw a||n;return[2]}}))}))},this._startRefreshIfNeeded=function(){l._initialFetched||(l._config.ttl&&(l._refreshTreatment=setInterval((function(){return r(l,void 0,void 0,(function(){var e,t=this;return i(this,(function(n){switch(n.label){case 0:return e=function(){return r(t,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this._fetchTreatments()];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},this._config.ttl&&this._config.useRefreshJitter?(this._delayedRefreshTreatment=setTimeout(e,.1*this._config.ttl*Math.random()),[3,3]):[3,1];case 1:return[4,e()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}),l._config.ttl)),l._initialFetched=!0)},this.dispose=function(){l._refreshTreatment&&clearInterval(l._refreshTreatment),l._delayedRefreshTreatment&&clearTimeout(l._delayedRefreshTreatment)},this.getTreatment=function(e){var t=l.peekTreatment(e);return null!==t&&l.logTreatment(e,t).catch((function(){})),t},this.peekTreatment=function(e){var t=l._experimentTreatments.get(e.name)||l._gateTreatments.get(e.name),n=null==t?void 0:t.groupName;if(n){var r=e.experiencesArray.find((function(e){return o.getGroupNames(e).includes(n)}));if(r)return r}return null},this.logTreatment=function(e,t){if(l._config.ssrDisableLogging)return Promise.resolve();var n=l._experimentTreatments.get(e.name)||l._gateTreatments.get(e.name);if(!n||o.getExperienceName(n.groupName)!==t)throw new Error("Cannot find associated treatment");return(void 0!==n.needLog?n.needLog:n.type!==a.ExperimentType.gate)?l._treatmentService.logTreatment(n):Promise.resolve()},this.isGateEnabled=function(e){return l._getExperienceOfEnabledGate(e.name)===e.experience},this._getExperienceOfEnabledGate=function(e){var t=l._gateTreatments.get(e);return t?o.getExperienceName(t.groupName):null},this.getDynamicConfiguration=function(e){var t=l._experimentTreatments.get(e.name)||l._gateTreatments.get(e.name);return t&&t.dynamicConfiguration?t.dynamicConfiguration:null}};t.ExperimentClient=c},39406:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Gate=void 0;var n=function(e,t){void 0===t&&(t="enabled"),this.name=e,this.experience=t};t.Gate=n},1940:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GatesService=void 0;var o=n(62269),s=n(61602),a=n(45052),c=function(){function e(e,t,n){this.type="gate",this._httpClient=new s.HttpClient(e,t),this._gatesUrl=o.config(n).url.gates+"/gates/get"}return e.prototype.getTreatment=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,this._httpClient.post(this._gatesUrl,e)];case 1:if(t=n.sent(),a.validateTreatmentsWithType(t))return[2,t];throw new Error("Did not get valid gate treatments")}}))}))},e}();t.GatesService=c},61602:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;var o=function(){function e(e,t){var n=this;this._fetch=e,this._config=t,this._fetchWithTimeout=this._config.timeout?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.race([n._fetch.apply(n,e),new Promise((function(e,t){return setTimeout((function(){return t(new Error("Timeout"))}),n._config.timeout)}))])}:this._fetch}return e.prototype.get=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return[4,this._getHeaders()];case 1:return t=r.sent(),[4,this._fetchWithTimeout(e,{credentials:"include",mode:"cors",headers:t})];case 2:return n=r.sent(),[2,this._parseResponse(n)]}}))}))},e.prototype.post=function(e,t){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return[4,this._getHeaders()];case 1:return r=i.sent(),[4,this._fetchWithTimeout(e,{method:"POST",credentials:"include",mode:"cors",headers:n(n({},r),{"Content-Type":"application/json"}),body:JSON.stringify(t)})];case 2:return o=i.sent(),[2,this._parseResponse(o)]}}))}))},e.prototype._filterHeaders=function(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];r&&(t[n]=r)})),t},e.prototype._getHeaders=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return this._config.getApplicationHeaders?(e=this._filterHeaders,[4,this._config.getApplicationHeaders()]):[3,2];case 1:return[2,e.apply(this,[t.sent()])];case 2:throw new Error("Cannot get application headers")}}))}))},e.prototype._parseResponse=function(e){if(!e.ok)throw new Error("Network response was not ok, status "+e.status);return"application/json"===e.headers.get("Content-Type")?e.json():e.text()},e}();t.HttpClient=o},61986:(e,t,n)=>{t.Cc=t.KS=t.XJ=void 0;var r=n(54936);Object.defineProperty(t,"XJ",{enumerable:!0,get:function(){return r.ExperimentClient}});var i=n(48782);var o=n(1940);var s=n(67853);var a=n(43693);Object.defineProperty(t,"KS",{enumerable:!0,get:function(){return a.Experiment}});var c=n(39406);Object.defineProperty(t,"Cc",{enumerable:!0,get:function(){return c.Gate}})},67853:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropertiesClient=void 0;var r=n(62269),i=n(61602),o=function(){function e(e,t,n){this._propertiesUrl=r.config(t).url.properties+"/properties",this._httpClient=new i.HttpClient(e,n)}return e.prototype.getAll=function(){return this._httpClient.get(this._propertiesUrl)},e.prototype.getOne=function(e){var t=this._propertiesUrl+"/"+e;return this._httpClient.get(t)},e.prototype.set=function(e){return this._httpClient.post(this._propertiesUrl,e)},e}();t.PropertiesClient=o},54391:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupNames=t.getExperienceName=void 0;t.getExperienceName=function(e){return e.endsWith("_1")||e.endsWith("_2")?e.slice(0,-2):null};t.getGroupNames=function(e){return[e+"_1",e+"_2"]}},45052:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateTreatmentsWithType=void 0;var n=function(e){return"string"==typeof e};t.validateTreatmentsWithType=function(e){return Array.isArray(e)&&e.reduce((function(e,t){return e&&(n((r=t).experimentName)&&n(r.groupName)&&n(r.experimentId)&&n(r.type));var r}),!0)}},48782:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TreatmentService=t.ExperimentType=void 0;var o=n(62269),s=n(61602),a=n(45052);!function(e){e.experiment="experiment",e.gate="gate"}(t.ExperimentType||(t.ExperimentType={}));var c=function(e){var t=function(e){return e.holdoutTreatment?":"+e.holdoutTreatment.experimentId+t(e.holdoutTreatment):""};return""+(e.groupName+":"+e.userId+":"+e.experimentId)+t(e)},u=function(){function e(e,t,n,r){this._persistentStorageOpts=r,this.type="experiment",this._throttleLogs=new Map,this._sentLogs={},this._httpClient=new s.HttpClient(e,t),this._treatmentUrl=o.config(n).url.treatment+"/treatment"}return e.prototype.getTreatment=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return t=this._treatmentUrl+"/get",n=e,[4,this._httpClient.post(t,n)];case 1:if(r=i.sent(),a.validateTreatmentsWithType(r))return[2,r];throw new Error("Did not get valid treatments")}}))}))},e.prototype.logTreatment=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this._checkShouldThrottle(e)||this._checkSent(e)?[2]:[4,this._sendLogTreatment(e)];case 1:return t.sent(),this._setSentLogs(e),[2]}}))}))},e.prototype.refresh=function(){this._throttleLogs.clear()},e.prototype.initSentLogsStorage=function(){return r(this,void 0,void 0,(function(){var e,t,n=this;return i(this,(function(r){switch(r.label){case 0:if(!this._persistentStorageOpts)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._persistentStorageOpts.get(this._sentLogsStorageKey)];case 2:return e=r.sent()||{},t=new Set(this._persistentStorageOpts.experimentNames),Object.entries(e).forEach((function(e){var r=e[0],i=e[1];t.has(r)&&n._updateSentLogs(r,i)})),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"_sentLogsStorageKey",{get:function(){var t;return e.STORAGE_KEY_PREFIX+(null===(t=this._persistentStorageOpts)||void 0===t?void 0:t.clientName)},enumerable:!1,configurable:!0}),e.prototype._checkShouldThrottle=function(e){var t=c(e),n=this._throttleLogs.get(e.experimentName)===t;return n||this._throttleLogs.set(e.experimentName,t),n},e.prototype._checkSent=function(e){var t=c(e);return this._sentLogs[e.experimentName]===t},e.prototype._setSentLogs=function(e){var t=c(e);this._updateSentLogs(e.experimentName,t,!0)},e.prototype._updateSentLogs=function(e,t,n){void 0===n&&(n=!1),(n||void 0===this._sentLogs[e])&&(this._sentLogs[e]=t),n&&this._persistSentLogs()},e.prototype._persistSentLogs=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this._persistentStorageOpts?[4,this._persistentStorageOpts.set(this._sentLogsStorageKey,this._sentLogs)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[3,4];case 3:return e.sent(),[3,4];case 4:return[2]}}))}))},e.prototype._sendLogTreatment=function(e){var t=this._treatmentUrl+"/log";return this._httpClient.post(t,e)},e.STORAGE_KEY_PREFIX="TreatmentServiceStorage_",e}();t.TreatmentService=u},45786:(e,t,n)=>{n.d(t,{cc:()=>d,cn:()=>f});var r=n(77174),i=n(88723),o=n(93281),s=n(49144),a=n(82823),c=n(65882);class u extends s.X{view(...e){return void 0!==e[0]?"function"==typeof e[0]?new h(this,e[0]):"string"==typeof e[0]?new h(this,r.qC(...e.map(i.Jy())).get):new h(this,(t=>e[0].get(t))):this}}class l extends u{set(e){this.modify((()=>e))}lens(e,...t){return new p(this,"function"==typeof e?i.vg(e):"string"==typeof e?r.qC(i.Jy(e),...t.map((e=>i.Jy(e)))):e,o.q)}}class d extends l{constructor(e){super(e)}get(){return this.getValue()}modify(e){const t=this.getValue(),n=e(t);(0,o.q)(t,n)||this.next(n)}set(e){const t=this.getValue();(0,o.q)(t,e)||this.next(e)}}class p extends l{_source;_lens;_eq;constructor(e,t,n=o.q){super(void 0),this._source=e,this._lens=t,this._eq=n}get(){return this._subscription?this.getValue():this._lens.get(this._source.get())}modify(e){this._source.modify((t=>this._lens.modify(e,t)))}set(e){this._source.modify((t=>this._lens.set(e,t)))}_onSourceValue(e){const t=this.getValue(),n=this._lens.get(e);this._eq(t,n)||this.next(n)}_subscription=null;_refCount=0;subscribe(...e){this._subscription||(this._subscription=this._source.subscribe((e=>this._onSourceValue(e)))),this._refCount++;const t=new a.w((()=>{--this._refCount<=0&&this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}));return t.add(super.subscribe(...e)),t}unsubscribe(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,super.unsubscribe()}}class h extends u{_source;_getter;_eq;constructor(e,t,n=o.q){super(void 0),this._source=e,this._getter=t,this._eq=n}get(){return this._subscription?this.getValue():this._getter(this._source.get())}_onSourceValue(e){const t=this.getValue(),n=this._getter(e);this._eq(t,n)||this.next(n)}_subscription=null;_refCount=0;subscribe(...e){this._subscription||(this._subscription=this._source.subscribe((e=>this._onSourceValue(e)))),this._refCount++;const t=new a.w((()=>{--this._refCount<=0&&this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}));return t.add(super.subscribe(...e)),t}unsubscribe(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,super.unsubscribe()}}class f extends u{_sources;_combineFn;_eq;constructor(e,t,n=o.q){super(void 0),this._sources=e,this._combineFn=t,this._eq=n}get(){return this._subscription?this.getValue():this._combineFn(this._sources.map((e=>e.get())))}_onSourceValues(e){const t=this.getValue(),n=this._combineFn(e);this._eq(t,n)||this.next(n)}_subscription=null;_refCount=0;subscribe(...e){this._subscription||(this._subscription=(0,c.aj)(this._sources).subscribe((e=>this._onSourceValues(e)))),this._refCount++;const t=new a.w((()=>{--this._refCount<=0&&this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}));return t.add(super.subscribe(...e)),t}unsubscribe(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,super.unsubscribe()}}},25770:(e,t,n)=>{n.d(t,{h:()=>r});var r,i=n(49144),o=n(30152),s=n(82823),a=n(78488),c=n(70163),u=n(55446),l=n(45786);!function(e){e.create=function(e){return new l.cc(e)},e.log=function(e,t){const n=(e,t,n)=>console.log("%c"+e,`color: ${t}; font-weight: bold`,n);let r=e.get();return e.subscribe((e=>{"function"==typeof t?t(r,e):(console.group(`UPDATE ${t?`TYPE: ${t} `:""}@ ${(new Date).toTimeString()}`),n("prev state","#9E9E9E",r),n("next state","#4CAF50",e),console.groupEnd()),r=e})),e},e.combine=function(...e){return new l.cn(e.slice(void 0,-1),(t=>e[e.length-1](...t)))},e.fromObservable=function(t){const n=new i.X(null),r=t.pipe((0,a.b)((t=>{const r=n.value;null===r?n.next(e.create(t)):r.set(t)})),(0,c.B)());return new o.y((e=>{const t=new s.w;return t.add(n.pipe((0,u.h)((e=>!!e))).subscribe(e)),t.add(r.subscribe(void 0,(t=>e.error(t)),(()=>e.complete()))),t}))}}(r||(r={}))},93281:(e,t,n)=>{function r(e){const t=[];let n;for(;!(n=e.next()).done;)t.push(n.value);return t}function i(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function o(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}n.d(t,{q:()=>u});const s=function(){const e=Object.prototype.toString;return"[object Arguments]"===e.call(arguments)?function(t){return"[object Arguments]"===e.call(t)}:function(e){return i("callee",e)}}(),a=function(){const e=!{toString:null}.propertyIsEnumerable("toString"),t=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],n=function(){return arguments.propertyIsEnumerable("length")}(),r=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};return"function"!=typeof Object.keys||n?function(o){if(Object(o)!==o)return[];let a,c;const u=[],l=n&&s(o);for(a in o)!i(a,o)||l&&"length"===a||(u[u.length]=a);if(e)for(c=t.length-1;c>=0;)a=t[c],i(a,o)&&!r(u,a)&&(u[u.length]=a),c-=1;return u}:function(e){return Object(e)!==e?[]:Object.keys(e)}}();function c(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}function u(e,t,n=[],s=[]){if(o(e,t))return!0;if(c(e)!==c(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(c(e)){case"Arguments":case"Array":case"Object":if(null!=(l=e)&&"function"==typeof l.then)return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!o(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!o(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1;break;case"Map":case"Set":if(!u(r(e.entries()),r(t.entries()),n,s))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l;const d=a(e);if(d.length!==a(t).length)return!1;let p=n.length-1;for(;p>=0;){if(n[p]===e)return s[p]===t;p-=1}for(n.push(e),s.push(t),p=d.length-1;p>=0;){const r=d[p];if(!i(r,t)||!u(t[r],e[r],n,s))return!1;p-=1}return n.pop(),s.pop(),!0}},74228:(e,t,n)=>{function r(e,t){return function(n,r){return t(n(e(r)),r)}}n.d(t,{K:()=>r})},88723:(e,t,n)=>{n.d(t,{Jy:()=>a,vg:()=>u});var r=n(45819),i=n(77174);const o=new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"return\\s","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*"));new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"(\\$_\\$wf\\(\\d+\\);)?","return\\s","(\\$_\\$w\\(\\d+, \\d+\\),\\s)?","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*"));function s(e){return function(e){const t=o,n=e.match(t);if(n&&n[2])return n[2].split(".");throw new TypeError(`Expected a property expression, got "${e}".\n\n      A property expression should be a referentially transparent (no side-effects),\n      single-expression "getter" function.\n\n      Correct example: "function (x) { return x.some }" or "x => x.some".\n      Incorrect example: "function (x) { var y = x.some; return y }" or "({some}) => some"`)}(e.toString())}function a(e){return void 0===e?e=>i.Ue((t=>t[e]),((t,n)=>(0,r.Dt)(e,t,n))):i.Ue((t=>t[e]),((t,n)=>(0,r.Dt)(e,t,n)))}let c=0;function u(e){const t=s(e);return r.z3&&function(e){if(c<10){c++;const t=`x.${e.join(".")}`,n=`'${e.join("', '")}'`;(0,r.Kp)(`The property expression overload of Atom.lens and Lens.prop are deprecated and will be removed in next versions of Focal. Please use the key name overload for Atom.lens and Lens.key instead. You can convert your code by changing the calls:\n  a.lens(x => ${t}) to a.lens(${n}),\n  Lens.prop((x: T) => ${t}) to Lens.key<T>()(${n}).`)}}(t),i.qC(...t.map(a()))}},77174:(e,t,n)=>{n.d(t,{Ue:()=>o,qC:()=>s});var r=n(74228),i=n(39711);function o(e,t){return{get:e,set:t,modify:(0,r.K)(e,t),compose:n=>o((t=>n.get(e(t))),((r,i)=>t(n.set(r,e(i)),i)))}}function s(...e){if(0===e.length)throw new TypeError("Can not compose zero lenses. You probably want `Lens.identity`.");if(1===e.length)return e[0];{let t=e[0];return e.slice(1).forEach((e=>{t=t.compose(e)})),t}}o((e=>e),((e,t)=>e));(0,i.U)((e=>{}),((e,t)=>t))},39711:(e,t,n)=>{n.d(t,{U:()=>i});var r=n(74228);function i(e,t){return{get:e,set:t,modify:(0,r.K)(e,t),compose:n=>i((t=>{const r=e(t);return void 0!==r?n.get(r):void 0}),((r,i)=>{const o=e(i);return void 0!==o?t(n.set(r,o),i):i}))}}},45819:(e,t,n)=>{n.d(t,{Dt:()=>o,Kp:()=>s,z3:()=>i});var r=n(93281);const i=void 0!==n(44675)&&!1;function o(e,t,n){if(e in n&&(0,r.q)(t,n[e]))return n;{const r={};for(const e in n)r[e]=n[e];return r[e]=t,r}}function s(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("[Focal]: "+e);try{throw new Error(e)}catch(e){}}},48240:(e,t,n)=>{n.d(t,{FU:()=>g,OY:()=>C,PM:()=>h,Td:()=>f,UI:()=>b,XG:()=>S,ab:()=>y,eC:()=>d,ex:()=>x,fo:()=>v,gO:()=>c,r4:()=>_,xq:()=>p});var r=n(90023),i=n(90655),o=n(95907),s=n(58303),a=n(34514);function c(e,t){var n,r,i;const o=null===(i=null===(r=null===(n=null==t?void 0:t.citationBuilder)||void 0===n?void 0:n.domains)||void 0===r?void 0:r[e])||void 0===i?void 0:i.disabled;return void 0!==o?!o:void 0}function u(e,t){return y(t).some((t=>new RegExp(t.domain).test(e)))}function l(e){var t,n;return!(null!==(n=null===(t=e.citationBuilder)||void 0===t?void 0:t.disabled)&&void 0!==n&&n)}function d(e,t){return y(t).some((t=>{const n=new RegExp(t.domain),r=new RegExp(t.pathname);return n.test(e.hostname)&&r.test(e.pathname)}))}function p(e){return s.Y3((()=>{const t=new URL(e).hostname.split(".");return t.slice(t.length-2).join(".")}))}function h(e,t,n){const r=c(e,n);return l(t)&&(void 0===r&&u(e,t)||!0===r)}function f(e,t,n,r){return n?h(e,t,r):function(e,t,n){return l(t)&&u(e,t)&&!1!==c(e,n)}(e,t,r)}function g(e,t){return y(t).some((t=>new RegExp(t.domain).test(e)&&!0===t.reparse))}const m={verticalLocation:"bottom",horizontalLocation:"left",offsetX:17,offsetY:32};function b(e,t){var n;return(null===(n=y(t).find((t=>new RegExp(t.domain).test(e))))||void 0===n?void 0:n.buttonPosition)||m}function _(e,t,n){return l(t)&&(n?!function(e,t){var n,r;return(null!==(r=null===(n=t.citationBuilder)||void 0===n?void 0:n.blockedDomains)&&void 0!==r?r:[]).includes(e)}(e,t):u(e,t))}function v(e,t){var n,r,i;const o=new Set(null!==(r=null===(n=e.citationBuilder)||void 0===n?void 0:n.blockedDomains)&&void 0!==r?r:[]);return Object.entries((null===(i=t.citationBuilder)||void 0===i?void 0:i.domains)||{}).filter((([,e])=>void 0!==e&&!e.disabled)).filter((([e])=>{return t=e,!o.has(t);var t})).map((([e])=>e))}function y(e){var t,n;return null!==(n=null===(t=e.citationBuilder)||void 0===t?void 0:t.sources)&&void 0!==n?n:[]}const w=(0,o.hz)((()=>{const e=document.location.href;return(0,i.KK)(e)})),x=(0,o.hz)((e=>{const t=document.location.href;return{url:t,domain:(0,i.KK)(t),isUrlAllowlisted:d(document.location,e)}})),E=(0,o.hz)((()=>o.iy.create()));function S(e){const t=E(),n=w();return(0,r.zG)(e,a.H6("citeCopyButtonClick","citeCopyIntextClick","citePopupButtonDisable","citePopupButtonShow","citePopupEditClick","citePopupButtonClick","citePopupEditSuccess","citePopupMissingInfoShow","citePopupMissingInfoFormShow","feedbackSentButtonClick","citePopupAddMissingClick"),(e=>Object.assign(Object.assign({},e),{domain:n,sessionId:t})))}function C(e,t){return e.manualInvocation&&!0===c(t.domain,t)}},27443:(e,t,n)=>{function r(){return crypto&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2)}n.d(t,{H:()=>r})},19328:(e,t,n)=>{n.d(t,{l:()=>o});var r=n(27794),i=n(77141);function o(e,t=i.Y.create("lib.tracking.ProductMetricsClient.transport"),n=1e4){return new Proxy({},{get:(i,o)=>(...i)=>Promise.race([e.api.trackProductMetric(i).then((()=>null)),(0,r.gw)(n,new Error("timeout call through bg page"))]).catch((e=>(t.warn("trackProductMetric call failed, reason:",e),e)))})}},93164:(e,t,n)=>{n.d(t,{CN:()=>a,IG:()=>c,Sx:()=>s,Yf:()=>l,_e:()=>u});var r=n(1848),i=n(13584),o=n(26298);function s(e){o.Sx((t=>{if(t.name!==(0,i.$)())return;let n=t.message;null!=n.json&&(n=JSON.parse(n.json)),"message"===n.method&&e({event:n.event,data:n.data})}))}function a(e,t){if(!self.safari||!self.safari.extension)return;const n=document.URL,s={page:{id:o.Hr,url:n,isTop:self===self.top},url:n},a=JSON.stringify({name:(0,i.$)(),target:s,message:{callid:(0,r.M8)(),method:"message",params:{event:e,data:t}}});o.dw("passToBgPage",{json:a})}function c(){o.dw("beginOAuth",null)}function u(e){o.dw("oauthExchange",{redirectUrl:e})}function l(){o.dw("redirectClaimedUser",null)}},26298:(e,t,n)=>{n.d(t,{Hr:()=>r,Sx:()=>a,dw:()=>c});const r=(0,n(1848).M8)();const i="exposedApi.",o=new class{reportActive(){self===self.top&&c("activePage",{url:document.URL})}reportTab(e){c("reportTab",{callId:e})}reportNewFrame(){c("reportFrame",{})}reportFrame(e){c("reportFrame",{tabId:e})}oauthError(e){c(confirm("Oops! Looks like this login attempt failed.\nClick OK to try again.")?"beginOAuth":"closeLoginTab",null)}};let s;function a(e){if(null!=s)throw new Error("Duplicate registerAppMessageHandler() call");s=e}function c(e,t){self.safari.extension.dispatchMessage(e,{meta:{srcPageId:r},data:t})}self.safari&&self.safari.self&&(self===self.top?o.reportTab():o.reportNewFrame(),self.safari.self.addEventListener("message",(e=>{const t=e.name;if(t.startsWith(i)){const n=t.substring(i.length);switch(n){case"reportActive":o.reportActive();break;case"reportTab":self===self.top&&o.reportTab(e.message.callId);break;case"reportFrame":o.reportFrame(e.message.tabId);break;case"oauthError":o.oauthError(e.data&&e.data.error||void 0);break;default:throw new Error(`Unknown exposedApi method ${n}`)}}else null!=s&&s(e)})))},13584:(e,t,n)=>{n.d(t,{$:()=>o});var r=n(48521);let i;function o(){return i||(i="forge-bridge"+(0,r.pB)()),i}},62789:(e,t,n)=>{n.d(t,{ix:()=>s,vG:()=>o});const r="grExtInstalled",i="grExtDisabled";function o(){document.body.dataset[r]=""}function s(e){var t;null===e&&"next"===(null===(t=null===document||void 0===document?void 0:document.body)||void 0===t?void 0:t.dataset[i])||(null===e?function(){var e;(null===(e=null===document||void 0===document?void 0:document.body)||void 0===e?void 0:e.dataset)&&delete document.body.dataset[i]}():document.body.dataset[i]=e)}},94602:(e,t,n)=>{n.d(t,{j:()=>r});const r={HumanWritingReport:new(n(43693).Experiment)("extension_human_writing_report",["control","test"])}},6633:(e,t,n)=>{n.d(t,{D:()=>r});const r={ExtensionDebugReportPrintCircularObject:new(n(39406).Gate)("extension_debug_report_print_circular_object","enabled")}},4663:(e,t,n)=>{n.d(t,{B:()=>f});var r,i=n(82823),o=n(39144),s=n(64965),a=n(55446),c=n(53516),u=n(27794),l=n(28705),d=n(77141),p=n(8865),h=n(36631);!function(e){const t=d.Y.create("Reports");function n(e){var t;const n=null===(t=self.document)||void 0===t?void 0:t.createElement("a");n.href="data:application/octet-stream,"+encodeURIComponent(function(e){const t=e=>{try{return JSON.stringify(e)}catch(t){return String(e)}};return[["Level","Logger","Timestamp","Message"].join("\t"),...e.map((e=>{const n=[e.level,e.loggerName,new Date(e.timestamp).toISOString(),e.message];return e.data&&n.push(t(e.data)),e.exception&&n.push(t(e.exception)),n.join("\t")}))].join("\n")}(e)),n.target="_blank",n.download="grammarly-logs.tsv",n.click()}async function r(e){if(t.debug("start download debug reports"),!(0,c.E)().historyLogsService.isHistoryEnabled())return t.debug("debug reports feature is not enabled"),alert("Logging is not enabled");if(!self.confirm(p.o1))return;t.debug("confirm download debug reports");const r=[];e.sort((e=>e.envName===(0,c.E)().context?1:-1));try{await(0,u.Fb)(l.E0,i())}catch(e){t.warn("cannot get latest app state",e)}for(const t of e){const e=await t.getLogs();r.push(...null!=e?e:[])}r.sort(((e,t)=>e.timestamp-t.timestamp)),n(r)}async function i(){t.info("latest experiments state",await(0,c.E)().bgRpc.api.getExperimentTreatment()),t.info("latest storage state",await(0,c.E)().browserApi.preferences.getAll()),t.info("browser info",(0,h.S)())}e.download=r,e.initKeyboardShortcutHandler=function(e){return(0,s.R)(self,"keydown").pipe((0,a.h)((e=>"KeyS"===e.code&&e.altKey&&e.shiftKey&&(e.ctrlKey||e.metaKey)))).subscribe((()=>{r(e)}))},e.logLatestState=i}(r||(r={}));var f,g=n(48521),m=n(76449),b=n(50796),_=n(72804);!function(e){function t(e){const t=()=>{e.bgRpc.api.sendToPopup({kind:m.I.Kind.sendCsLogs,option:{logs:e.historyLogsService.getLogs(),isIframeIntegration:(0,g.n_)()}})};return e.message.on(m.B.Kind.sendCsLogsToPopup,t),{dispose(){e.message.off(m.B.Kind.sendCsLogsToPopup,t)}}}function n(e){return[new b.r("bg",(()=>e.bgRpc.api.getBGLogs()),b.r.getLogsFromSessionStorageFallbackGetter(_.v.bgHistoryLogs)),new b.r("cs",(()=>Promise.resolve(e.historyLogsService.getLogs())),b.r.getLogsFromSessionStorageFallbackGetter(_.v.csHistoryLogs))]}function s(e){return e.message.on(m.B.Kind.downloadDebugReportsFromCS,c),{dispose(){e.message.off(m.B.Kind.sendCsLogsToPopup,c)}}}function a(e){const t=(0,g.n_)()?new i.w:r.initKeyboardShortcutHandler(n(e));return{dispose(){t.unsubscribe()}}}function c(){const e=n((0,o.OB)());r.download(e)}e.initSendLogsToPopupHandler=t,e.initDownloadDebugReportsListener=s,e.initKeyboardShortcutHandler=a,e.initListeners=function(e){const n=[t(e),a(e),s(e)];return{dispose(){n.forEach((e=>{e.dispose()}))}}},e.download=c}(f||(f={}))},39144:(e,t,n)=>{n.d(t,{OB:()=>m,Xb:()=>g,nD:()=>b});var r=n(23991),i=n(14659),o=n(13999),s=n(35085),a=n(53516),c=n(56745),u=n(6245),l=n(60979),d=n(78461),p=n(72804),h=n(48521),f=n(19328);class g extends a.O{static get isInited(){return void 0!==this._instance}static getInstance(){if(void 0===this._instance)throw new Error("cs Env not inited yet");return this._instance}static init(e){if(void 0!==this._instance)throw new Error("cs Env already inited");const t=new g(e);return this._instance=t,a.O.initShared(t),t.browserApi.message.start&&t.browserApi.message.start(),t}constructor(e){super({browser:e.browser,extensionType:e.extensionType,deploymentType:e.deploymentType,context:"cs",historyLoggerExtraArgs:{enableHistoryLoggerUntil:e=>{var t;null===(t=this.bgRpc)||void 0===t||t.api.enableHistoryLoggerUntil(e)},disableHistoryLogger:()=>{var e;null===(e=this.bgRpc)||void 0===e||e.api.disableHistoryLogger()},backupStorage:new l.f(e.browserApi.sessionStorage,p.v.csHistoryLogs,(async()=>{var t,n;return e.skipWriteLogsToBackupStorage||document.hidden||(0,h.n_)()||!await(null===(t=this.bgRpc)||void 0===t?void 0:t.api.isGateEnabled("SessionStorageLogsBackup"))||!await(null===(n=this.bgRpc)||void 0===n?void 0:n.api.isCurrentTabFocused())})),getExperimentClient:()=>this.experimentClient}}),this.browserApi=e.browserApi,this.message=new u.w(e.browserApi.message),e.skipInitExtensionApi||(0,c.cg)(e.browserApi),this.bgRpc=new i.c(this.message),this.experimentClient=e.createExperimentClient(this.bgRpc),this.csShareStorage=new r.X,this.capiBgRpc=new o.R(this.message),this.staticCapiBgRpc=new s.s(this.message),this.telemetryCallProvider=(0,d._)(this.bgRpc),this.productMetricsCSClient=(0,f.l)(this.bgRpc)}}function m(){return g.getInstance()}function b(e=m()){return e.config.systemInfo.os.isMac}},23991:(e,t,n)=>{n.d(t,{X:()=>r});class r{constructor(){this._storage=this._storage||{}}get _storage(){return self.__CS_SHARE_STORAGE__}set _storage(e){self.__CS_SHARE_STORAGE__=e}clean(){this._storage={}}set(e,t){this._storage[e]=t}get(e){return this._storage[e]}getOnce(e){const t=this._storage[e];return this.remove(e),t}remove(e){delete this._storage[e]}}},32355:(e,t,n)=>{n.d(t,{BJ:()=>s,Eq:()=>c,U_:()=>u,gk:()=>l,lH:()=>i,oJ:()=>o,op:()=>r,wJ:()=>a});const r=2147483647,i=r-1,o=r-2,s=r-3,a=r-5,c=r-6,u=a,l=1350},19776:(e,t,n)=>{var r;n.d(t,{T:()=>r}),function(e){function t(e,t){try{for(const n of Object.keys(t))if(t[n]&&t[n](e))return n;return null}catch(e){return null}}e.isSpecific={draftJs:e=>!(!e.hasAttribute("contenteditable")||!e.querySelector('[data-contents="true"] > [data-editor], [data-block]')),quill:e=>e.classList.contains("ql-editor")||e.classList.contains("ql-container"),redactor:e=>e.className.indexOf("redactor")>-1,prosemirror:e=>e.hasAttribute("pm-container")||e.classList.contains("ProseMirror"),scribe:e=>e.className.indexOf("scribe")>-1,trix:e=>e.className.indexOf("trix")>-1,"medium-editor":e=>e.className.indexOf("medium-editor")>-1,tinymce:e=>{if("IFRAME"!==e.tagName)return!1;const t=e;return t.id.indexOf("mce")>-1||!!(t.contentDocument&&t.contentDocument.querySelectorAll("#tinymce, .mce-content-body").length>0)},ckeditor4:e=>e.matches("iframe.cke_wysiwyg_frame")||e.classList.contains("cke_editable"),ckeditor5:e=>e.classList.contains("ck-editor__editable"),slate:e=>"true"===e.getAttribute("data-slate-editor"),mobiledoc:e=>e.classList.contains("__mobiledoc-editor")},e.isGeneric={contenteditable:e=>{const t=e.attributes.getNamedItem("contenteditable");return!(!function(e){return!(e instanceof HTMLSelectElement)}(e)||!t||"true"!==t.value&&""!==t.value&&"plaintext-only"!==t.value)},textarea:e=>"TEXTAREA"===e.tagName,iframe:t=>{if("IFRAME"===t.tagName){const n=t;return!!(n.contentDocument&&n.contentDocument.body&&e.isGeneric.contenteditable(n.contentDocument.body))}return!1},iframeHost:t=>{if("IFRAME"===t.tagName){const n=t;return!(n.contentDocument&&n.contentDocument.body&&e.isGeneric.contenteditable(n.contentDocument.body))}return!1}},e.get=function(n){return{generic:t(n,e.isGeneric),specific:t(n,e.isSpecific)}}}(r||(r={}))},1720:(e,t,n)=>{n.d(t,{S:()=>r});var r,i=n(64965),o=n(93667),s=n(25989),a=n(57188),c=n(8748),u=n(78084),l=n(20715),d=n(90049),p=n(33090),h=n(64439),f=n(12171),g=n(65647),m=n(60165),b=n(44252),_=n(55446),v=n(13195),y=n(73863),w=n(14765),x=n(28705),E=n(77141),S=n(95907),C=n(90023);!function(e){const t=E.Y.create("universal.cs.integration.observables"),n=e=>(0,i.R)(e,"focus",{capture:!0});function r(e){return e instanceof Element&&e.shadowRoot&&e.shadowRoot.activeElement?r(e.shadowRoot.activeElement):e}function k(e,t){return{document:e,frame:t}}function R(e,n){const r=k(e),i=(0,s.D)(e.getElementsByTagName("iframe")),o=n.pipe((0,v.b)((e=>Array.from(e.addedNodes))),(0,_.h)((e=>"IFRAME"===e.nodeName)));return(0,p.z)(i,o).pipe((0,_.h)((n=>function(e,n){try{const t=e.src;if(t&&"about:blank"!==t&&!t.startsWith("javascript")){return new URL(t,n.baseURI).origin===n.location.origin}return!0}catch(e){return t.warn("Error converting iframe's src to url",e),!0}}(n,e))),(0,f.zg)((e=>{try{return function(e){const t=e.contentDocument;return t&&"complete"===t.readyState}(e)?(0,l.of)(e):(0,h.R)((t=>e.addEventListener("load",t,!0)),(t=>e.removeEventListener("load",t))).pipe((0,g.U)((()=>e)),(0,y.q)(1))}catch(e){return t.warn("failed to receive iframes document",e),(0,l.of)(null)}})),(0,g.U)((e=>{try{if(null!==e&&null!==e.contentDocument)return k(e.contentDocument,e)}catch(e){t.warn("failed to receive iframes document",e)}return null})),(0,_.h)((e=>null!==e))).pipe((0,w.O)(r))}e.createFocusObservable=function(e,t,i=n){return R(e,t).pipe((0,f.zg)((e=>function(e,t,n){const i=e.document,o=(0,a.F)(x.E0),s=e.frame?c.E:(0,u.P)((()=>(0,l.of)(i.activeElement).pipe((0,_.h)((e=>e&&i.defaultView&&i.defaultView.HTMLElement&&e instanceof i.defaultView.HTMLElement))))),h=t(i).pipe((0,g.U)((e=>e.target))),f=e.frame?c.E:(0,d.T)(o,n).pipe((0,_.h)((e=>!!i.defaultView&&"visible"===i.visibilityState&&!!i.activeElement)),(0,g.U)((e=>i.activeElement)),(0,m.x)()),b=(0,d.T)(f,h).pipe((0,_.h)((e=>i.defaultView&&i.defaultView.HTMLElement&&e instanceof i.defaultView.HTMLElement)),(0,g.U)((e=>r(e))));return(0,p.z)(s,b).pipe((0,m.x)())}(e,i,t).pipe((0,g.U)((t=>({element:t,owner:e})))))),(0,m.x)(),(0,b.QV)(o.E))},e.createReadonlyObservable=function(e,t,n){return R(e,t).pipe((0,f.zg)((e=>function(e,t,n){const r=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n]));return t.pipe((0,g.U)((()=>(0,C.zG)(n,e.querySelectorAll.bind(e),Array.from))),(0,m.x)(r),(0,g.U)((e=>(0,C.zG)(e,Array.from,s.D))),(0,f.zg)((e=>e)),(0,_.h)(S.Nf))}(e.document,t,n).pipe((0,g.U)((t=>({element:t,owner:e})))))),(0,m.x)(),(0,b.QV)(o.E))},e.docInfo=k}(r||(r={}))},17064:(e,t,n)=>{var r;n.d(t,{Z:()=>r}),function(e){const t="grammarly-desktop-integration";e.inject=function(e=document.documentElement){var n,r;const i=`\n      div.${t} {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        white-space: nowrap;\n        border: 0;\n        -moz-user-select: none;\n        -webkit-user-select: none;\n        -ms-user-select:none;\n        user-select:none;\n      }\n\n      div.${t}:before {\n        content: attr(data-content);\n      }\n    `,o=document.createElement("style");o.textContent=i;const s=document.createElement("div");s.setAttribute("aria-label","grammarly-integration"),s.setAttribute("role","group"),s.setAttribute("tabindex","-1"),s.setAttribute("class",t);const a=document.createElement(t);return a.attachShadow({mode:"open"}),a.setAttribute("data-grammarly-shadow-root","true"),null===(n=a.shadowRoot)||void 0===n||n.appendChild(o),null===(r=a.shadowRoot)||void 0===r||r.appendChild(s),e.appendChild(a),{activate:({isActive:e,isUserDisabled:t,mode:n})=>{null==s||s.setAttribute("data-content",JSON.stringify(n?{mode:n,isActive:e,isUserDisabled:t}:{isActive:e}))},remove:()=>{var e;null===(e=null==a?void 0:a.parentNode)||void 0===e||e.removeChild(a)}}},e.isInjected=function(){return!!document.querySelector(t)}}(r||(r={}))},84558:(e,t,n)=>{n.d(t,{x:()=>l});var r=n(25770),i=n(55446),o=n(10390),s=n(17064),a=n(80510),c=n(77141),u=n(14108);class l{constructor(e=c.Y.create("DesktopHiddenFieldIntegration"),t=a.Tb){this._log=e,this._getFelog=t,this._integration=null,this._root=document.documentElement,this._state=r.h.create(null),this.getActiveElement=()=>{const e=document.activeElement,t=null==e?void 0:e.shadowRoot,n=null==e?void 0:e.contentDocument;return t&&t.activeElement?t.activeElement:n&&n.activeElement?n.activeElement:e},this.updateState=(e,t,n,r)=>{var i;const s=!o.q.isIntegrationEnabled(r,e,t),a=o.q.isEnabled(t,r)?u.M.limited:u.M.full,c=!n;this._state.set({isActive:s,mode:a,isUserDisabled:c}),c?this.dispose():null===(i=this.integration)||void 0===i||i.activate({isActive:s,mode:a,isUserDisabled:c})},this.updateForFocusedIntegration=()=>{const e=this.getActiveElement(),t=null==e?void 0:e.closest("[role=dialog][aria-modal=true]"),n=null!=t?t:document.documentElement;return n!==this._root&&(this._root=n,this.dispose()),this.integration},this.dispose=()=>{this._integration&&(this._integration.remove(),this._integration=null)},this._state.pipe((0,i.h)(Boolean)).subscribe((e=>{this._log.debug("update DesktopHiddenField state",e)}))}get integration(){if(this._integration)return this._integration;if(s.Z.isInjected())return this._log.debug("DesktopHiddenField is already injected"),null;try{this._integration=s.Z.inject(this._root)}catch(e){return this._log.debug("DesktopHiddenField is not injected",e),this._getFelog().hiddenFieldInjectionFailed(),null}return this._log.debug("DesktopHiddenField is injected into "+(this._root===document.documentElement?"root":"dialog")),this._integration}}},10390:(e,t,n)=>{n.d(t,{q:()=>r});var r,i=n(90655);!function(e){function t(e,t){if(!e||!t)return!0;return!t.includes(e)}function n(e,t){var n;return Boolean((null==t?void 0:t.isDesktopIntegrationEnabled)&&(null===(n=e.llamaIntegration)||void 0===n?void 0:n.enabled))}function r(e,n,r,o){var s,a;const c=o?(0,i.KK)(o):void 0,u=n.isLlamaInstalled&&(null===(s=r.llamaIntegration)||void 0===s?void 0:s.enabled);return t(c,null===(a=r.llamaIntegration)||void 0===a?void 0:a.disabledByDomain)&&(u||"true"===e.showDesktopIntegrationExtensionToggle)}e.isEnabled=n,e.showSettingPopupToggle=r,e.showGrayGButton=function(e,t,i,o){return r(t,e,i,o)&&n(i,e)},e.isIntegrationEnabled=function(e,r,i){var o;return!(!e||!i)&&(t(r,null===(o=i.llamaIntegration)||void 0===o?void 0:o.disabledByDomain)&&n(i,e))}}(r||(r={}))},14108:(e,t,n)=>{var r;n.d(t,{M:()=>r}),function(e){e.full="full",e.limited="limited"}(r||(r={}))},13999:(e,t,n)=>{n.d(t,{R:()=>s});var r=n(70686),i=n(69950),o=n(32795);class s extends i.H{constructor(e){super(new o.rr(r.I.rpcLegacyMessageName,e),new o.rr(r.I.rpcLegacyObservableName,e))}}},14659:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(76623),i=n(10080),o=n(32795);class s extends i.X{constructor(e){super(new o.rr(r.x,e))}}},35085:(e,t,n)=>{n.d(t,{s:()=>s});var r=n(13574),i=n(69950),o=n(32795);class s extends i.H{constructor(e){super(new o.rr(r.U.rpcLegacyMessageName,e),new o.rr(r.U.rpcLegacyObservableName,e))}}},32795:(e,t,n)=>{n.d(t,{Lc:()=>p,OB:()=>f,lM:()=>h,rr:()=>c,vQ:()=>g});var r=n(30152),i=n(55446),o=n(65647),s=n(95907),a=n(10869);class c{constructor(e,t,n=s.iy.create(),i=e){this._rpcMessageName=e,this._message=t,this._clientId=n,this._inboundMessageName=i,this.inbound=new r.y((e=>{const t=t=>{t.clientId===this._clientId&&e.next(t.data)};return this._message.on(this._inboundMessageName,t),()=>this._message.off(this._inboundMessageName,t)})),this.outbound=e=>{this._message.sendBackground(this._rpcMessageName,{clientId:this._clientId,data:e})}}}function u(e,t=s.iy.create()){return{inbound:(0,a.s8)(e.inbound).pipe((0,i.h)((e=>e.clientId===t)),(0,o.U)((e=>e.data))),outbound(n){e.outbound({clientId:t,data:n})}}}function l(e,t){return{inbound:e.inbound,outbound(n){e.outbound({connectionId:t,data:n})}}}function d(e,t,n){return{inbound:new r.y((n=>{function r(e){n.next(e)}return e.on(t,r),()=>e.off(t,r)})),outbound(t){e.sendBackground(n,t)}}}function p(e,t,n=t+"-response"){return d(e,t,n)}function h(e,t,n,r=t+"-response"){return l(d(e,t+"-"+n,r),n)}function f(e,t,n=t+"-response"){return u(d(e,n,t))}function g(e,t,n,r=t+"-response"){return u(l(d(e,r+"-"+n,t),n))}},93307:(e,t,n)=>{n.d(t,{x:()=>r});var r,i=n(93667),o=n(30152),s=n(70163),a=n(44252),c=n(13195),u=n(65647);!function(e){function t(e,t){return n(e,t).pipe((0,s.B)(),(0,a.QV)(i.E))}function n(e,t){return new o.y((n=>{const r=new MutationObserver((e=>n.next(e)));return r.observe(e,t),()=>r.disconnect()}))}e.create=t,e.createUnsafe=n,e.createFlattenHot=function(e,t){return n(e,t).pipe((0,c.b)((e=>e)),(0,s.B)())},e.observeAttribute=function(e,n){return t(e,{attributes:!0,attributeFilter:[n],subtree:!1,childList:!1}).pipe((0,u.U)((t=>e.getAttribute(n))))},e.observeStyle=function(e){return t(e,{attributes:!0,attributeFilter:["style"],subtree:!1,childList:!1}).pipe((0,u.U)((t=>e.style)))},e.observeChildList=function(e){return t(e,{attributes:!1,subtree:!1,childList:!0}).pipe((0,u.U)((t=>e.childNodes)))}}(r||(r={}))},25081:(e,t,n)=>{n.d(t,{X:()=>r});var r,i=n(95907),o=n(87794),s=n(11103);!function(e){const t="grammarly.com",n="qagr.io",r="ppgr.io";e.create=function(e,a,c,u){const l=(e,t,n,r,o)=>"prod"===u?e:"qa"===u?t:"dev-qa"===u?n:"dev-preprod"===u?r:"dev"===u?o:void(0,i.vE)(u),d="https://127.0.0.1:8000",p=l("https://f-log-extension.grammarly.io",d,d,d,d),h=l("https://extension.femetrics.grammarly.io/batch/import","https://femetrics.qagr.io/batch/import","https://femetrics.qagr.io/batch/import","https://femetrics.ppgr.io/batch/import","https://femetrics.qagr.io/batch/import"),f=l(t,n,n,r,n),g=l(t,n,n,r,t),m=l("https://chipmunk.grammarly.com","https://chipmunk.qagr.io","https://chipmunk.qagr.io","https://chipmunk.ppgr.io","https://chipmunk.grammarly.com");return{url:s.F.create(e,g,p,h),gnar:o.UA.create(e,a,c,f),felog:o.Bo.create(e,a,c,u),capi:o.JW.create(e,a,c),chipmunk:o.fI.create("https://chipmunk.grammarly.com"),iterable:o.Rl.create("https://api.iterable.com"),mise:o.Z9.create(m),auth:o.Tg.create(e,a),extensionId:"87677a2c52b84ad3a151a4a72f5bd3c4"}}}(r||(r={}))},91187:(e,t,n)=>{n.d(t,{S:()=>r});var r,i=n(95907),o=n(48178);!function(e){e.create=function(e,t,n,r,i,o,s,a){const c=void 0!==o&&void 0!==s?o:"UNVERSIONED",u=`${e}.${t}.${n}`;return{version:u,fullVersion:`${u}-${[r,["prod"!==i?i:null,c!==r?c:null].filter((e=>!!e)).join(".")].filter((e=>""!==e)).join("/")}`,commitHash:s,gitBranch:o,manifestVersion:a}},e.getManifestVersion=function(e,t,n){switch(e){case"safariAppExtension":switch(t){case"bg":case"popup":return n.safari.extension.displayVersion;default:return}case"chromiumWebExtension":return n.chrome.runtime.getManifest().version;case"firefoxWebExtension":return o.Ud.runtime.getManifest().version;case"safariWebExtension":case"safariIOSWebExtension":return o.a1.runtime.getManifest().version;default:return(0,i.vE)(e)}}}(r||(r={}))},93332:(e,t,n)=>{n.d(t,{_K:()=>i,x2:()=>a});var r,i,o,s,a,c=n(95907);!function(e){e.create=function(e){return(0,c.cq)(["chrome","safari","firefox","edge"],e)},e.isValidTargetBrowser=function(e){return["chrome","safari","firefox","edge"].includes(e)}}(r||(r={})),function(e){e.create=function(e){return(0,c.cq)(["dev","prod","qa","dev-qa","dev-preprod"],e)}}(i||(i={})),function(e){e.create=function(e){return(0,c.cq)(["regular","retail"],e)}}(o||(o={})),function(e){e.create=function(e){return(0,c.cq)(["chromiumWebExtension","firefoxWebExtension","safariAppExtension","safariWebExtension","safariIOSWebExtension"],e)}}(s||(s={})),function(e){e.create=function(e,t,n,r,i){return{browser:e,extensionType:t,deploymentType:n,env:r,context:i}}}(a||(a={}))},43370:(e,t,n)=>{n.d(t,{Rd:()=>a,pM:()=>c});var r=n(95907),i=n(83127);const o=new r.xB((()=>{throw new Error("Global config not initialized")}));let s=()=>o.get();function a(){return s()}function c(e,t,n,r,s,a){const c=i.e.create(e,t,n,r,s,a);return o.init(c),self.GR_CFG=o.get(),c}},83127:(e,t,n)=>{n.d(t,{e:()=>i,y:()=>r});var r,i,o=n(95907),s=n(25081),a=n(91187),c=n(93332),u=n(83319);!function(e){function t(e,t,n,r,i,o,s){return{env:e,major_number:t,build_number:n,release_number:r,git_branch:i,git_commit:o,manifest_version:s}}e.create=t,e.fromBrowserify=function(){return t("prod","9","75","0","UNVERSIONED","UNVERSIONED","2")}}(r||(r={})),function(e){e.getTargetEnv=function(e){if(!e.env)throw new Error("processEnv.env is null or undefined");const t=c._K.create(e.env);if(!t)throw new Error(`Invalid processEnv.env: ${e.env}`);return t},e.create=function(e,t,n,r,i,l,d=self.navigator.userAgent){const p=[i.major_number,i.build_number,i.release_number].map(o.wU);let h;if(3===p.length&&p.every((e=>void 0!==e)))h=p;else{let e;try{e=a.S.getManifestVersion(t,r,self)}catch(e){}const n=(e||"").split(".").map(o.wU);h=3===n.length&&n.every((e=>void 0!==e))?n:[0,0,0]}const[f,g,m]=h;return{buildInfo:a.S.create(f,g,m,e,l,i.git_branch,i.git_commit,i.manifest_version),bundleInfo:c.x2.create(e,t,n,l,r),appConfig:s.X.create(e,t,n,l),systemInfo:u.mx.create(d)}}}(i||(i={}))},87794:(e,t,n)=>{n.d(t,{Bo:()=>i,JW:()=>o,Rl:()=>a,Tg:()=>u,UA:()=>r,Z9:()=>c,fI:()=>s});var r,i,o,s,a,c,u,l=n(23212);!function(e){const t={chromiumWebExtension:"chromeExt",firefoxWebExtension:"firefoxExt",safariAppExtension:"safariExt",safariWebExtension:"safariWebExt",safariIOSWebExtension:"safariIOSExt"};function n(e,n,r){return"retail"===r&&"safariIOSWebExtension"===n?"safariIOSExt-retail":"edge"===e?"chromiumEdgeExt":t[n]}e.getAppName=n,e.create=function(e,t,r,i){return{appName:(0,l.Cq)(n(e,t,r),"gnar app name"),url:`https://gnar.${i}`,ingestionUrl:`https://in.${i}/v1/events`,domain:`.${i}`,sendEmailInfoTracking:!0,sendFluidExperimentData:!1}}}(r||(r={})),function(e){const t={chromiumWebExtension:"extensionChrome",firefoxWebExtension:"extensionFirefox",safariAppExtension:"extensionSafari",safariWebExtension:"extensionSafariWeb",safariIOSWebExtension:"extensionSafariIOS"};e.create=function(e,n,r,i){let o;return o="retail"===r&&"safariIOSWebExtension"===n?"extensionSafariIOS-retail":"edge"===e?"extensionEdge":(0,l.Cq)(t[n],"felog app name"),{appName:o,sendUsageMetrics:!0,sendPerfMetricsType:"dev"===i?"local":"off"}}}(i||(i={})),function(e){const t={chromiumWebExtension:"extension_chrome",firefoxWebExtension:"extension_firefox",safariAppExtension:"extension_safari",safariWebExtension:"extension_safari_web",safariIOSWebExtension:"extension_safari_ios"},n={regular:"inline",retail:"retail_demo"};e.create=(e,r,i)=>({clientType:"edge"===e?"extension_chromium_edge":(0,l.Cq)(t[r],"capi client type"),clientSubType:(0,l.Cq)(n[i],"capi client subType")})}(o||(o={})),function(e){e.create=function(e){return{urls:{fetchMessages:`${e}/api/v1/messages`,acknowledgeMessage:`${e}/api/v1/messages/acknowledge`,dismissMessage:`${e}/api/v1/messages/dismiss`}}}}(s||(s={})),function(e){e.create=function(e){return{urls:{getInAppMessages:`${e}/api/inApp/getMessages`,track:`${e}/api/events/track`,trackInAppOpen:`${e}/api/events/trackInAppOpen`,trackInAppClose:`${e}/api/events/trackInAppClose`,trackInAppConsume:`${e}/api/events/inAppConsume`,trackInAppClick:`${e}/api/events/trackInAppClick`,userUpdate:`${e}/api/users/update`}}}}(a||(a={})),function(e){e.create=function(e){return{urls:{getIterableClientAccessToken:`${e}/token`}}}}(c||(c={})),function(e){const t={chromiumWebExtension:"chromeExt",firefoxWebExtension:"firefoxExt",safariAppExtension:"safariExt",safariWebExtension:"safariWebExt",safariIOSWebExtension:"safariIOSExt"};e.create=function(e,n){return{xClientType:"edge"===e?"chromiumEdgeExt":t[n]}}}(u||(u={}))},83319:(e,t,n)=>{n.d(t,{mx:()=>o});var r,i,o,s=n(36631);!function(e){e.create=function(e){const t=(0,s.S)(e);return{name:t.browserName||"other",version:t.browserVersion,userAgent:e}}}(r||(r={})),function(e){e.create=function(e){const t=(0,s.S)(e);return{name:t.osName,version:t.osVersion,isWindows:-1!==e.indexOf("Win"),isMac:-1!==e.indexOf("Mac"),isChromeOS:-1!==e.indexOf("CrOS")}}}(i||(i={})),function(e){e.create=function(e){return{browser:r.create(e),os:i.create(e)}}}(o||(o={}))},11103:(e,t,n)=>{n.d(t,{F:()=>r});var r,i=n(93032);!function(e){let t;var n;n=t=e.GrStaticUrl||(e.GrStaticUrl={}),n.toGrStaticUrl=e=>"https://assets.extension.grammarly.com/"+e}(r||(r={})),function(e){e.create=function(t,n,r,o){const s="safari"===t?"disableAppsPromotion=true":"";function a(e){const t=`https://${e}.${n}`;return(e="",n="")=>{const r=i.lM([s,n],"&");return i.lM([t+e,r],"?")}}const c=a("www"),u=a("app"),l=a("account"),d=a("redirect"),p=e.GrStaticUrl.toGrStaticUrl,h=`https://data.${n}`,f=`https://auth.${n}/v3`,g=`https://auth.${n}/v4`,m=`https://capi.${n}/api/configuration/cheetah/v1/settings`,b=`https://capi.${n}`,_=`wss://capi.${n}/freews`;return{accountSubscription:l("/subscription"),accountSubscriptionAddBillingInfo:l("/admin/subscription","popup=add_billing_info"),adminAccountSubscription:l("/admin/subscription"),accountAdminSubscriptionAddBillingInfoToUngatedTrial:l("/admin/subscription","popup=ungated_trial"),app:u(),appPersonalDictionary:l("/customize"),featuresSettings:l("/customize/features"),capi:_,capiStatic:_,capiGDocs:`wss://capi.${n}/gdocs`,dapi:h,cheetahSettings:m,editorDictionary:u("/profile/dictionary"),desktop:c("/desktop"),dictionary:`https://capi.${n}/api/defs`,docs:u("/docs"),docsApi:`https://dox.${n}/documents`,newDoc:u("/docs/new"),tokens:`${g}/api`,auth:f,userOrAnonymous:`${f}/user/oranonymous`,userOrAnonymousV4:`${g}/api/userinfo`,signin:c("/signin"),signup:c("/signup"),dialect:`${b}/api/configuration/language/v1/settings`,fbSignin:c("/signin","fromExtensionFb=true"),fbSignup:c("/signup","fromExtensionFb=true"),googleSignin:c("/signin","fromExtensionGoogle=true"),googleSignup:c("/signup","fromExtensionGoogle=true"),resetPassword:c("/resetpassword"),newFelog:r,vmetrics:o,welcomeC:c("/extension-success"),afterInstall:c("/after_install_page/"),planComparison:c("/plans"),businessHomepage:c("/business"),businessPricing:c("/business/pricing"),businessStyleGuide:c("/business/styleguide"),businessBrandTones:c("/business/brand-tones"),uninstall:c("/extension-uninstall"),terms:c("/terms"),policy:c("/privacy-policy"),californiaPolicy:c("/privacy-policy#for-california-users"),extensionSuccess:c("/extension-success"),firefoxPrivatePolicy:"https://addons.mozilla.org/en-US/firefox/addon/grammarly-1/privacy/",dynamicConfigUrl:"https://config.extension.grammarly.com/dynamicConfig.json",pageConfigUrl:"https://config.extension.grammarly.com/browserplugin/config.json",grammarlyDomain:n,grammarlyProtocol:"https:",redirect:d("/redirect"),snippetsApi:`https://goldengate.${n}/snippets/v1/snippets`,snippetsNew:l("/admin/snippets","action=create"),snippetsAdmin:l("/admin/snippets"),snippetsSettings:l("/customize/snippets"),knowledgeHubApi:`https://goldengate.${n}/knowledge-hub/v1/institution`,settingsRegistryApi:`https://goldengate.${n}/settings-registry/v1`,suggestionsSettings:l("/customize/suggestions"),allSettings:l(),styleGuideSettings:l("/admin/style-guide"),writingStyleSettings:l("/admin/style-guide-writing-style"),brandTones:l("/admin/brand-tones"),grammarlyIdeasSelf:u("/ideas/grow/self"),grammarlyIdeasPeer:u("/ideas/grow/peer"),grammarlyIdeasSales:u("/ideas/sales"),iOSApp:"grammarly://home",iOSUpgrade:"grammarly://premium-instructions?deepLinkSource=safari",standWithUkraine:c("/stand-with-ukraine"),standWithUkraineBlockedUserPing:"https://rwsgfy.grammarly.com/stand-with-ukraine",tourGdocs:c("/tour-gdocs"),assets:{assistantOnboardingTourGif:p("assets/assistant/assistant-onboarding-tour"),ownerActivationIPMHeader:p("assets/ipm/owner-activation-ipm-header"),graduationIpmSvg:p("assets/ipm/graduation-campaign-ipm"),writingProgressIpmGif:p("assets/ipm/writing-progress-ipm-header"),onboardingTour:{inlineSuggestionsPreviewImage:p("assets/onboarding/inline-suggestions-preview-image-v2.jpg"),inlineSuggestionsAnimation:p("assets/onboarding/inline-suggestions-v2.mp4"),clickToAcceptAnimation:p("assets/onboarding/click-to-accept-v2.mp4"),happyWritingAnimation:p("assets/onboarding/happy-writing-v2.mp4")},knowledgeShareOnboardingTour:{step1:p("assets/knowledgeShareOnboarding/ks-onboarding-step1.mp4"),step2:p("assets/knowledgeShareOnboarding/ks-onboarding-step2.mp4"),step3:p("assets/knowledgeShareOnboarding/ks-onboarding-step3.mp4")}},support:`https://support.${n}/hc/en-us/requests/new#/`,grammarlyEmployeesBugReportsUrl:"https://in-product.report.grammarly.io/v1/report"}}}(r||(r={}))},9186:(e,t,n)=>{n.d(t,{O:()=>p,P:()=>d});var r=n(4802),i=n(43370),o=n(83127),s=n(88872),a=n(12243),c=n(71393),u=n(24634),l=n(25770);class d{static getInstance(){if(void 0===this._instanceShared)throw new Error("shared Env not inited yet");return this._instanceShared}static initShared(e){if(void 0!==this._instanceShared)throw new Error("shared Env already inited");this._instanceShared=e}constructor(e,t=l.h.create(!1),n=l.h.create(!1)){this._enableHistoryLoggerInProd=t,this._enableAdvancedHistoryLoggerInProd=n,this.enableHistoryLoggerInProd=(e=!0)=>{e&&!this._enableHistoryLoggerInProd.get()?(console.warn("Debug reports have been enabled"),this._enableHistoryLoggerInProd.set(!0)):!e&&this._enableHistoryLoggerInProd.get()&&(console.warn("Debug reports have been disabled"),this._enableHistoryLoggerInProd.set(!1))},this.enableAdvancedHistoryLoggerInProd=(e=!0)=>{e&&!this._enableAdvancedHistoryLoggerInProd.get()?(console.warn("Advanced logging has been enabled"),this._enableAdvancedHistoryLoggerInProd.set(!0)):!e&&this._enableAdvancedHistoryLoggerInProd.get()&&(console.warn("Advanced logging has been disabled"),this._enableAdvancedHistoryLoggerInProd.set(!1))};const r=e.testArgs,s=r&&r.processEnv?r.processEnv:o.y.fromBrowserify(),a=o.e.getTargetEnv(s);this._initLogger(e,a);const c=(0,i.pM)(e.browser,e.extensionType,e.deploymentType,e.context,s,a);this.context=e.context,this.config=c}_initLogger(e,t){this.historyLogsService=r.Lr.create(Object.assign(Object.assign({},e.historyLoggerExtraArgs),{enabledInProd:this._enableHistoryLoggerInProd,enableAdvancedInProd:this._enableAdvancedHistoryLoggerInProd}));const n="prod"!==t||"cs"!==e.context,i={create:(e,t)=>new a.x(e,{writer:new u.n,filterFn:n?e=>!0:(0,c.x)(s.i.ERROR)},this.historyLogsService,t)};this.logger=i}}function p(){return d.getInstance()}},43801:(e,t,n)=>{n.d(t,{p:()=>s});var r=n(61986),i=n(19075),o=n(94602);const s=Object.assign(Object.assign(Object.assign({},i.V),o.j),{ClientControlsDlp:new r.KS("client_controls_dlp_manakin",["enabled"]),ClientControlsDlpBuffering:new r.KS("client_controls_dlp_buffering_manakin",["enabled"]),FeMetrics:new r.KS("extension_fe_metrics",["enabled"]),ToneDetectorUphook:new r.KS("tone_detector_uphook",["control","test"]),ReaderV1External:new r.KS("reader_v1_external",["control","test"]),KnowledgeHubAtlassian:new r.KS("extension_knowledge_hub_atlassian",["control","test"]),KnowledgeHubInSharedGdocs:new r.KS("extension_knowledge_hub_in_shared_gdocs",["control","test"]),BusinessUphookQtLogic:new r.KS("ext_business_uphook_qt_logic",["control","test"]),SherlockOnDevice:new r.KS("sherlock_on_device_test",["control","test"]),GetStartedChecklist:new r.KS("in_product_checklist",["control","auto_open","existing_tour"]),ChecklistUX:new r.KS("checklist_ux",["control","test"]),GbSnippetsSelectionPopup:new r.KS("gb_snippets_selection_popup",["control","test"]),GbUpgradeHookSharedDocumentFreeV2:new r.KS("gb_upgrade_hook_shared_document_free_v2",["control","test"]),GbUpgradeHookSharedDocumentPremiumV2:new r.KS("gb_upgrade_hook_shared_document_premium_v2",["control","test"]),GbUpgradeHookWorkplaceAppsFreeV2:new r.KS("gb_upgrade_hook_workplace_apps_free_v2",["control","test"]),GbUpgradeHookWorkplaceAppsPremiumV2:new r.KS("gb_upgrade_hook_workplace_apps_premium_v2",["control","test"]),SingleCardAssistantNextToTextField:new r.KS("sca_positioned_next_to_text_field",["control","test"]),InlineYellowUnderlines:new r.KS("inline_yellow_underlines_ext",["control","test"]),InlineYellowUnderlinesV2:new r.KS("inline_yellow_underlines_ext_v2",["control","test"]),LockedUIChrome:new r.KS("locked_ui_chrome_ext_2",["control","unlimited_pool"]),LockedUIGDoc:new r.KS("locked_ui_ext_gdoc_2",["control","unlimited_pool"]),LockedUIWithNewUx:new r.KS("locked_ui_iteration_1",["control","published_limit","non_published_limit"]),ProgressiveExposure:new r.KS("progressive_exposure",["control","test"]),GBUphookStyleGuideFooterV1:new r.KS("gb_upgrade_hooks_style_guide_v1",["control","test"]),GBUphookBrandTonesFooterV1:new r.KS("gb_upgrade_hooks_brand_tones_v1",["control","test"]),UpgradeCardFromCAPI:new r.KS("extension_upgrade_card_sdui",["control","test"]),UpgradeCardGBRebrand:new r.KS("gb_upgrade_hooks_advanced_issues_v1",["control","test"]),Iterable:new r.KS("iterable_experiment_ext",["enabled"]),GDocsInternalsForReplacementExperiment:new r.KS("gdocs_internals_replacement",["disabled"]),GDocsForceFullRenderExperiment:new r.KS("gdocs_force_full_render",["control","test"]),SharedAssistantExtension:new r.KS("sharedassistant_extension",["control","splitSharedAssistants","mergedSharedAssistant"]),SharedAssistantGDocs:new r.KS("sharedassistant_gdocs",["control","splitSharedAssistants","mergedSharedAssistant"]),CheetahSelectionContextUpdates:new r.KS("ggo_context_management_selection_changes",["control","test"]),PerformanceScoreSuccessState:new r.KS("performance_score_success_state",["control","test"]),QualityScore:new r.KS("quality_score",["control","progress_bar","text"]),RemoveSetGoalsGDocs:new r.KS("remove_set_goals_gdocs",["control","test"]),GDocsPartialByFragment:new r.KS("gdocs_partial_mapping_by_fragment",["control","test"]),FullySignedInExperience:new r.KS("fully_signedin",["control","suggestions","friction","privacy","same"]),AspToneInlinePillGmail:new r.KS("asp_tone_email",["control","test"]),GOSRollout:new r.KS("extension_gos_rollout_exp",["control","test"]),OggyOnGOS:new r.KS("extension_oggy_on_gos_exp",["control","test"]),AsyncAlertsAndHighlightsProcessing:new r.KS("extension_async_alerts_and_highlights_processing",["control","test"]),FullSentenceRewriteBatchApply:new r.KS("fsr_batch_apply_extension",["control","test"]),FullSentenceRewriteBatchApplyInternal:new r.KS("fsr_batch_apply_extension_internal",["control","test"]),G2NonGDocs:new r.KS("sidelines_ext_v1",["control","test1_current_inline","test2_aggressive"]),G2GDocs:new r.KS("g2_extension_gdocs",["control","test"]),PreserveFormatting:new r.KS("extension_preserve_formatting",["control","test"]),BundleGnarEvents:new r.KS("extension_bundle_gnar_events",["control","test"]),GhostProtocol:new r.KS("ghost_protocol",["control","test"]),GrammarlyPro:new r.KS("grammarly_pro_m3_v2",["control","test"])})},21194:(e,t,n)=>{n.d(t,{K:()=>s});var r=n(61986),i=n(19075),o=n(6633);const s=Object.assign(Object.assign(Object.assign({},i.C),o.D),{StandWithUkraineGrammarlySuspended:new r.Cc("standWithUkraineExtensionSuspended","enabled"),StandWithUkraineTheme:new r.Cc("standWithUkraineExtensionTheme","enabled"),ReaderV1Internal:new r.Cc("reader_v1_internal","enabled"),ToneAIPersonableStable:new r.Cc("toneai_personable_stable","enabled"),RtfSnippets:new r.Cc("rtf_snippets","enabled"),LoadSnippetsViaGoldenGate:new r.Cc("load_snippets_via_goldengate","enabled"),StudentsOFEGdocs:new r.Cc("citations_rollout_gdocs","enabled"),StudentsOFEInternal:new r.Cc("citations_rollout_internal","enabled"),CitationBuilderInternal:new r.Cc("citation_builder_internal","enabled"),CitationBuilder:new r.Cc("citation_builder","enabled"),CitationBuilderEditing:new r.Cc("citation_builder_editing","enabled"),CitationBuilderManualInvocation:new r.Cc("citation_builder_manual_invocation","enabled"),IPMExtensionRelease:new r.Cc("ipm_extension_release","enabled"),ExtensionDebugReport:new r.Cc("extension_debug_report","enabled"),SduiBulkAccept:new r.Cc("sdui_bulk_accept","enabled"),SduiBulkDismiss:new r.Cc("sdui_bulk_dismiss","enabled"),GrammarlyBusinessLoggedOutUser:new r.Cc("gb_logged_out_user_extension_gen_launch","enabled"),KnowledgeHubGdocs:new r.Cc("knowledge_hub_gdocs","enabled"),KnowledgeHubGmail:new r.Cc("knowledge_hub_gmail","enabled"),KnowledgeHubSlack:new r.Cc("knowledge_hub_slack","enabled"),KnowledgeHubWord:new r.Cc("windowsextension_knowledge_hub_word","enabled"),GmailReadonlyLayout:new r.Cc("gmail_readonly_layout","enabled"),EnableFirstVisibleHighlightTracking:new r.Cc("extension_track_first_visible_highlight","enabled"),KnowledgeHubCheetahIntegration:new r.Cc("gbgo_knowledge_share_web","enabled"),GdocsMultiColumnAllCombinations:new r.Cc("gdocs_canvas_multicolumn_compare_all_combination","enabled"),SuggestionDeliveryAutoApply:new r.Cc("suggestion_delivery_autoapply_extension_gate_23q3","enabled"),IndianEnglishDialect:new r.Cc("indian_english_dialect","enabled"),IndianEnglishDialectInternal:new r.Cc("indian_english_dialect_internal","enabled"),StaticWSGmail:new r.Cc("static_ws_gmail","enabled"),ConstructableStylesheets:new r.Cc("constructable_stylesheets","enabled"),GrammarlyGuard:new r.Cc("gb_grammarly_guard","enabled"),CheetahFeatureFlagCompose:new r.Cc("cheetah_extension_feature_flag_compose","enabled"),CheetahFeatureFlagRewrite:new r.Cc("cheetah_extension_feature_flag_rewrite","enabled"),CheetahFeatureFlagInlineRewrite:new r.Cc("cheetah_extension_feature_flag_inline_rewrite","enabled"),CheetahFeatureFlagMagicRewrite:new r.Cc("cheetah_extension_feature_flag_magic_rewrite","enabled"),CheetahFeatureFlagQuickReply:new r.Cc("cheetah_extension_feature_flag_quick_reply","enabled"),CheetahFeatureFlagInlineQuickReply:new r.Cc("cheetah_extension_feature_flag_inline_quick_reply","enabled"),CheetahFeatureFlagGDocsInlineRewrites:new r.Cc("cheetah_extension_feature_flag_gdocs_inline_rewrites","enabled"),CheetahFeatureFlagOnboarding:new r.Cc("cheetah_extension_feature_flag_onboarding","enabled"),CheetahStudentsOnboarding:new r.Cc("ggo_students_onboarding","enabled"),CheetahStudentBTS:new r.Cc("ggo_student_bts","enabled"),CheetahStudentPromptsInternal:new r.Cc("ggo_student_prompts_internal","enabled"),GDocsTextCorruptionValidateTextBeforeAlertApply:new r.Cc("gDocs_tc_validate_text_before_alert_apply","enabled"),GDocsGetFormatMap:new r.Cc("gdocs_get_format_map","enabled"),NonGDocsGetFormatMap:new r.Cc("extension_get_format_map","enabled"),GDocsPartialByFragmentForGrammarians:new r.Cc("gdocs_partial_by_fragment_for_grammarians","enabled"),Iterable:new r.Cc("iterable_gate_ext","enabled"),IterableRefreshKeyAndToken:new r.Cc("iterable_gate_refresh_key_and_token_ext","enabled"),IterableGDocsSidebarInitializedTrigger:new r.Cc("iterable_gate_gdoc_sidebar_initialized_ext","enabled"),IterableUserSessionInitializedTrigger:new r.Cc("iterable_gate_user_session_initialized_ext","enabled"),IterablePauseInTypingTrigger:new r.Cc("iterable_gate_pause_in_typing_ext","enabled"),IterableEngagedByAlertsAcceptedTrigger:new r.Cc("iterable_gate_alerts_accepted_ext","enabled"),IterableTargetDomain:new r.Cc("iterable_target_domain_ext","enabled"),IterableMetrics:new r.Cc("iterable_metrics_ext","enabled"),IterableLogs:new r.Cc("iterable_logs_ext","enabled"),IterablePersistClientAccessTokens:new r.Cc("iterable_persist_client_access_tokens_ext","enabled"),DialectSettingsService:new r.Cc("gb_org_dialect_ext","enabled"),SessionStorageLogsBackup:new r.Cc("session_storage_logs_backup","enabled"),SduiPopoverNotifications:new r.Cc("sdui_popover_manager_ext","enabled"),ClientControlsFallback:new r.Cc("gb_client_controls_fallback_ext","enabled"),TextChangeBufferUseLegacy:new r.Cc("text_change_buffer_use_legacy_3","enabled"),TextChangeBufferDontFlushOnApply:new r.Cc("text_change_buffer_dont_flush_on_apply_1","enabled"),DontSyncAlertApplicationsWithInlineMode:new r.Cc("dont_sync_alert_applications_with_inline_mode","enabled"),KnowledgeEngineSearchV2Alpha:new r.Cc("knowledge_engine_search_v2alpha","enabled"),HideReportBugByGrammarlyEmployeeFeature:new r.Cc("hide_report_bug_by_grammarly_employee_feature","enabled"),ExtensionFeatureFlagCAPIClientStorage:new r.Cc("extension_feature_flag_capi_client_storage","enabled"),ExtensionFeatureFlagCAPIClientStorageCleanup:new r.Cc("extension_feature_flag_capi_client_storage_cleanup","enabled"),ExtensionFeatureFlagCAPIClientStorageLogWarnings:new r.Cc("extension_capi_client_storage_log_warnings","enabled"),ExtensionFeatureFlagCAPIClientStorageRunCleanupRequests:new r.Cc("extension_capi_client_storage_run_cleanup_requests","enabled"),CAPIDistinctConnectionStatus:new r.Cc("extension_capi_distinct_connection_status","enabled"),TransformReplacementBeforeApplyFeature:new r.Cc("extension_feature_transform_replacement_before_apply","enabled"),ZendeskTransformReplacementOnlyForString:new r.Cc("extension_zendesk_transform_replacement_only_for_string","enabled"),PromiseReplacementValidation:new r.Cc("extension_feature_promise_replacement_validation","enabled"),GDocsInitGbuttonInsideCommentsField:new r.Cc("gdocs_init_gbutton_inside_comments_field","enabled"),GDocsCreateRichText:new r.Cc("gdocs_create_rich_text","enabled"),GDocsFormatGetFontFamily:new r.Cc("gdocs_format_get_font_family","enabled"),GDocsFormatGetColor:new r.Cc("gdocs_format_get_color","enabled"),GDocsAlignBasicStyleForTextDiff:new r.Cc("gdocs_align_basic_style_for_text_diff","enabled"),GDocsRemoveSelectionIfNeeded:new r.Cc("gdocs_do_not_remove_selection","enabled"),GDocsLastNewLineCharShouldAddToRemovedIndices:new r.Cc("gdocs_last_new_line_char_should_add_to_removed_indices","enabled"),GDocsReturnAppliedForRichText:new r.Cc("gdocs_return_applied_for_rich_text","enabled"),GDocsAsyncValidateForRichText:new r.Cc("gdocs_async_validate_for_rich_text","enabled"),GDocsCheckTextForSuggestionMode:new r.Cc("gdocs_check_text_for_suggestion_mode","enabled"),ExtensionA11yUIFixes:new r.Cc("extension_a11y_ui_fixes","enabled"),ExtensionA11yKeyboardNavigation:new r.Cc("extension_a11y_keyboard_navigation","enabled"),AutocorrectKeydownCaptureUserInput:new r.Cc("extension_autocorrect_keydown_capture_user_input","enabled"),AutocorrectAllowCaptureNonTrustedUserEvents:new r.Cc("extension_autocorrect_allow_capture_not_trusted_user_events","enabled"),DispatchDeltaDeleteEvent:new r.Cc("extension_dispatch_deleta_delete_event","enabled"),WhatsAppBeforeInputReplacementEvent:new r.Cc("extension_whatsapp_before_input_replacement_event","enabled"),WhatsAppExecCommandReplacementEvent:new r.Cc("extension_whatsapp_exec_command_replacement_event","enabled"),DiscordTransformInsertToReplace:new r.Cc("extension_discord_transform_insert_to_replace","enabled"),DiscordExecComandReplacementService:new r.Cc("extension_discord_exec_comand_replacement","enabled"),DiscordDelayAfterReplacementInBatch:new r.Cc("extension_discord_delay_after_replacement_in_batch","enabled"),MSTeamsCustomTransformReplacementWithSpaces:new r.Cc("extension_ms_teams_transform_replacement_with_spaces","enabled"),ReplacementExecutionTimeoutValidation:new r.Cc("extension_replacement_execution_timeout_validation","enabled"),CheetahSelectionContextUpdates:new r.Cc("cheetah_selection_context_updates","enabled"),CheetahSelectionContextUpdatesServer:new r.Cc("cheetah_selection_context_updates_server","enabled"),CheetahMergedWithGDocsInternalLabel:new r.Cc("cheetah_oggy_gdocs_internal_label","enabled"),GDocsInternalsLayoutTreeAvailability:new r.Cc("gdocs_internals_layout_tree_availability","enabled"),GdocsWithoutMapUseClosestOffset:new r.Cc("gdocs_without_map_use_closest_offset","enabled"),GdocsWithoutTextReplaceSpaceFragment:new r.Cc("gdocs_without_text_map_remove_space_fragment","enabled"),UseBodyToGetViewportDimentions:new r.Cc("extension_use_body_to_get_viewport_dimentions","enabled"),CLEditorIntegration:new r.Cc("extension_cleditor_integration","enabled"),KnowledgeShareInGdocsRollout:new r.Cc("extension_knowledge_hub_in_shared_gdocs_rollout","enabled"),GOSRollout:new r.Cc("extension_gos_rollout","enabled"),GOSTelemetry:new r.Cc("extension_gos_telemetry","enabled"),CentralizeStopEventPropagation:new r.Cc("extension_centralize_stop_event_propagation","enabled"),CollectDataForPreserveFormatting:new r.Cc("extension_collect_data_for_preserve_formatting","enabled"),FormattingUseBatchWhenHaveListItems:new r.Cc("extension_preserve_formatting_skip_list_items","enabled"),FormattingReplaceEmptyStringToNonBreakingSpaceEntity:new r.Cc("extension_formatting_support_continuous_white_spaces","enabled"),GDocsCollectLayoutRenderingStats:new r.Cc("gdocs_collect_layout_rendering_stats","enabled"),GDocsInternalsFilterStrikethrough:new r.Cc("gdocs_internals_filter_strikethrough","enabled"),GDocsTrackUnderline:new r.Cc("gdocs_track_underline","enabled"),GDocsTrackStrikeThrough:new r.Cc("gdocs_track_strikethrough","enabled"),GDocsInternalsFilterCodeBlocks:new r.Cc("gdocs_internals_filter_code_blocks","enabled"),GDocsDebounceDataRendering:new r.Cc("gdocs_debouncing_data_rendering","enabled"),GDocsExtractSuggestionByContainer:new r.Cc("gdocs_extract_suggestion_by_container","enabled"),GDocsCanReTryExtractAnnotationContainer:new r.Cc("gdocs_can_retry_extract_annotation_container","enabled"),GDocsSelectionRangeFromController:new r.Cc("gdocs_extract_selection_range_from_controller","enabled"),GDocsUseCacheableSelectionWrapper:new r.Cc("gdocs_use_cacheable_selection_warpper","enabled"),GDocsExtractLinkFromGoogleInternals:new r.Cc("gdocs_extract_link_from_internals","enabled"),GDocsExtractSelectionControllerWithRetry:new r.Cc("gdocs_extract_selection_controller_with_retry","enabled"),GDocsExtractSelectionControllerWithTolerance:new r.Cc("gdocs_extract_selection_controller_with_tolerance","enabled"),TrackInstitutionIdToGnar:new r.Cc("extension_track_institution_id_to_gnar","enabled"),GdocsTrackFatalPopup:new r.Cc("extension_gdocs_track_fatal_popup","enabled"),VbarsGlobal:new r.Cc("vbars_global","enabled"),CheetahOnboardingContextProviderFix:new r.Cc("cheetah_extension_external_onboarding_context_provider_fix","enabled"),CheetahClearSDUIBufferOnReconnect:new r.Cc("cheetah_extension_clear_sdui_buffer_on_reconnect","enabled"),InactiveIntegration:new r.Cc("extension_inactive_integration","enabled"),UseOAuth2Api:new r.Cc("extension_oauth2_rollout","enabled"),VbarsInGdocs:new r.Cc("vbars_in_gdocs","enabled"),HbarsInGdocs:new r.Cc("hbars_in_gdocs","enabled"),UseApproximateTCValidation:new r.Cc("use_approximate_tc_validation","enabled"),GDocsCanUseTransformBeforeValidate:new r.Cc("gdocs_can_use_trasfrom_before_validate","enabled"),GDocsSendValidationInfoForBatchReplacement:new r.Cc("gdocs_send_validation_info_for_batch_replacement","enabled"),CanIgnoreNonWidthCharsForTCValidation:new r.Cc("extension_ignore_non_width_chars_for_tc_validaition","enabled"),GDocsCanIgnoreEndNewLine:new r.Cc("gdocs_ignore_end_new_line_for_tc_validaition","enabled"),GDocsWhitespaceSelectionRetry:new r.Cc("gdocs_whitespace_selection_retry","enabled"),OAuth2SelectiveLogout:new r.Cc("extension_oauth2_selective_logout","enabled"),OAuth2LastAuthnEventLogout:new r.Cc("extension_oauth2_last_authn_event_logout","enabled"),WritingExpertPullMode:new r.Cc("extension_writing_expert_pull_mode"),WritingExpertInAssistantInternal:new r.Cc("writing_expert_in_assistant"),WritingExpertInAssistantNative:new r.Cc("writing_expert_in_assistant_native"),LockedUIRollout:new r.Cc("locked_ui_rollout","unlimited_pool"),RetryAtmAfterFallbackToWithoutText:new r.Cc("retry_atm_after_fallback_to_without_text","enabled"),PendingTextRevisionsProcessor:new r.Cc("extension_pending_text_revisions_processor"),DebouncedInlineCardUpdate:new r.Cc("extension_debounced_inline_card_update"),GDocsShouldCheckIfMappedSomething:new r.Cc("gdocs_map_result_must_mapped_some_text"),GDocsCheckIndexBoundaryWhenTranslateIndex:new r.Cc("gdocs_check_index_boundary_when_translate_index"),GDocsOnlyAddIncompleteResult:new r.Cc("gdocs_only_add_incomplete_result"),GDocsPageInputValidationForParser:new r.Cc("gdocs_page_input_validation_for_parser"),CheetahProfuseEventsTracking:new r.Cc("cheetah_profuse_events_tracking"),BundleGnarEvents:new r.Cc("extension_bundle_gnar_events"),RedditReplacementDuplicationFix:new r.Cc("reddit_replacement_duplication_fix"),RedditNewUseOverlayLayout:new r.Cc("reddit_new_use_overlay_layout"),RedditUseClipboardForCreatePost:new r.Cc("extension_reddit_use_clipboard_for_create_post"),SalesforceServiceConsoleReplacementFix:new r.Cc("salesforce_service_console_replacement_fix"),SalesforceFilterEmailThread:new r.Cc("salesforce_filter_email_thread"),SalesforceDetailsTextareaRichReplacementServiceDelay:new r.Cc("salesforce_details_textarea_replacement_service_delay"),StravaReplacementSelectionDelay:new r.Cc("extension_strave_replacement_selection_delay"),WordPressGutenbergEditorGButtonPositioning:new r.Cc("extension_wordpress_gutenberg_editor_gbutton_positioning"),SkipParallelAutoFixReplacement:new r.Cc("skip_parallel_autofix_replacement"),OggyOnGOS:new r.Cc("extension_oggy_on_gos","enabled"),UnfixFast570:new r.Cc("extension_unfix_fast_570"),LatticeReplacementDuplicationFix:new r.Cc("lattice_replacement_duplication_fix"),NewSessionEndWithConnectionStats:new r.Cc("new_session_end_with_connection_stats"),GDocsReplacementValidateOnlyFullTextBeforeReplacement:new r.Cc("gdocs_replacement_only_validate_full_text_before_replacement"),GDocsReplacementValidateOnlyFragmentText:new r.Cc("gdocs_replacement_only_validate_fragment_text"),GDocsParserMiddleware:new r.Cc("gdocs_parser_middleware"),OggyIframeWrappers:new r.Cc("extension_oggy_use_iframe_wrappers"),LoadAppActionsFromAppletCdn:new r.Cc("app_actions_applet_cdn_extension"),SkipEmptyChangesForActiveAlertOverride:new r.Cc("extension_skip_empty_changes_for_active_alert_override"),DebugPage:new r.Cc("extension_debug_page"),PerformanceScoreOggy:new r.Cc("performance_score_oggy"),PerformanceIgnorePageHidden:new r.Cc("performance_ignore_page_hidden"),MeasureTextInputLatency:new r.Cc("extension_measure_text_input_latency"),MeasureScrollLatency:new r.Cc("extension_measure_scroll_latency"),MeasureResizeLatency:new r.Cc("extension_measure_resize_latency"),TrackInlineAlertApplyMetric:new r.Cc("extension_track_inline_alert_apply_metric"),WhatsAppBeforeInputDeleteEvent:new r.Cc("extension_whatsapp_before_input_delete_event","enabled"),TrackInlineAlertDisplayMetric:new r.Cc("extension_track_inline_alert_display_metric"),TrackGButtonDisplayMetric:new r.Cc("extension_track_gbutton_display_metric"),PreserveSameRangeAlerts:new r.Cc("extension_preserve_same_range_alerts"),TrackHighlightDisplayMetric:new r.Cc("extension_track_highlight_display_metric"),TrackGButtonInitializeMetric:new r.Cc("extension_track_gbutton_initialize_metric"),UseHistogramStrikesBack:new r.Cc("extension_use_histogram_strikes_back"),SessionTimeout:new r.Cc("extension_session_timeout"),Connector:new r.Cc("extension_connector"),FieldIntegrationManager:new r.Cc("extension_field_integration_manager"),CheetahExecReplacementOnlyWhenItsExists:new r.Cc("extension_cheetah_exec_replacement_only_when_its_exists"),SendChangesToCAPIAfterSequentialApply:new r.Cc("extension_send_changes_to_capi_after_sequential_apply"),DatabricksPerformanceMetrics:new r.Cc("extension_databricks_performance_metrics"),ToggleSiteButtonBugFix:new r.Cc("toggle_site_button_bug_fix")});new r.Cc("gdocs_dummy_scrolling_restricted","disabled")},48178:(e,t,n)=>{n.d(t,{Ud:()=>i,a1:()=>o});var r=n(95907);const i=(0,r.DV)((()=>browser),(()=>self.browser)),o=(0,r.DV)((()=>browser),(()=>self.browser));self.chrome=self.chrome},56745:(e,t,n)=>{n.d(t,{P4:()=>a,SL:()=>s,cg:()=>o});var r=n(23212);const i=n(77141).Y.create("extension-api");function o(e){self.extensionContentScriptApi&&i.warn("Content Script Extension Api init called more than once"),self.extensionContentScriptApi=self.extensionContentScriptApi||e}function s(){return(0,r.Cq)(self.extensionPopupApi,"popup extension api was not initialized")}function a(){return(0,r.Cq)(self.extensionContentScriptApi,"content script extension api was not initialized")}},13826:(e,t,n)=>{n.d(t,{t:()=>i});var r=n(78466);class i{constructor(){this.kind="memory",this._data={},this._listeners=[],this.get=e=>r.O.sync((()=>(Array.isArray(e)?e:[e]).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:this._data[t]})),{}))),this.set=e=>r.O.sync((()=>{this._data=Object.assign(Object.assign({},this._data),e),this._callListeners()})),this.getAll=()=>r.O.sync((()=>this._data)),this.remove=e=>r.O.sync((()=>{(Array.isArray(e)?e:[e]).forEach((e=>{e in this._data&&delete this._data[e]})),this._callListeners()})),this.removeAll=()=>r.O.sync((()=>{this._data={},this._callListeners()})),this.onChange=e=>(this._listeners.push(e),()=>this._listeners.splice(this._listeners.indexOf(e),1))}_callListeners(){this._listeners.forEach((e=>e(this._data)))}}},3679:(e,t,n)=>{n.d(t,{HW:()=>c,Qw:()=>o,WD:()=>s,Wy:()=>a,bm:()=>i});const r="data-enable-grammarly",i=["data-gramm_editor","data-gramm","data-gramm_id","gramm_editor","readonly","disabled"],o=["pm-container",{name:"class",value:"ProseMirror"},"data-synchrony",{name:"data-gramm",value:"false"},{name:r,value:"false"},{name:"aria-label",value:"Search Facebook"}],s=[...i,...o],a={name:r,value:"true"},c=["changed-user","changed-plan","changed-dialect","cleanup","editor-fix","llama-action","close-current-tab"]},73397:(e,t,n)=>{n.d(t,{Jt:()=>o,Ku:()=>c,Ne:()=>a,cs:()=>d,k3:()=>s,og:()=>i,on:()=>u,rR:()=>p});var r=n(30468);function i(e,t,n){t?function(e,t){if(e){if(-1===t.indexOf(" "))return e.classList.add(t);{const n=t.split(" ");for(let t=0;t<n.length;t++)e.classList.add(n[t])}}}(e,n):function(e,t){if(e&&e.classList)e.classList.remove(t)}(e,n)}function o(e,t){let n=e.parentNode;for(;null!==n;){if(c(n,t))return n;n=n.parentNode}return!1}function s(e){let t=e.parentNode;for(;null!==t;){if(a(t))return t;t=t.parentNode}return!1}function a(e){return"true"===e.contentEditable||"plaintext-only"===e.contentEditable}function c(e,t){if(!e)return!1;const n=e.matches||e.msMatchesSelector||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector;return!!n&&n.apply(e,[t])}function u(e,t=null,n){return this.addEventListener(e,t,n),{off:()=>l.apply(this,[e,t,n])}}function l(e,t,n){this.removeEventListener(e,t||null,n)}function d(...e){return e.reduce(((e,t)=>e.concat((0,r.Kn)(t)?Object.keys(t).filter((e=>t[e])):t)),[]).filter((e=>Boolean(e))).join(" ")}function p(e=document){if(void 0===e.body.style.transform){if(void 0!==e.body.style.WebkitTransform)return"WebkitTransform";if(void 0!==e.body.style.MozTransform)return"MozTransform"}return"transform"}},33302:(e,t,n)=>{n.d(t,{E:()=>o,o:()=>i});const r=(0,n(1848).M8)();function i(e,t,n,o,s=!1){if(null==e)return;const a=e;if("string"!=typeof t)return Object.keys(t).forEach((e=>{t[e]&&i(a,e,t[e],o)}));{if(!n)return;const e=a[r]||[];return a[r]=e,o?(a[r]=e.filter((e=>!(e.event===t&&e.cb===n))),a.removeEventListener(t,n,s)):(e.push({event:t,cb:n}),a.addEventListener(t,n,s)),{el:a,event:t,cb:n,bubble:s}}}function o(e,t,n,s){const a=e;t||null==a[r]?i(a,t,n,!0,s):a[r].forEach((e=>o(a,e.event,e.cb,e.bubble)))}},90655:(e,t,n)=>{n.d(t,{KK:()=>a,Lu:()=>u,Qr:()=>c,ge:()=>s,t_:()=>l});var r=n(48521);const i=["facebook.com","messenger.com","work.fb.com","business.facebook.com"],o=e=>e.replace("www.","");function s(e){const t=e&&e.ownerDocument||document,n=t.location||t.defaultView.location;return n?o(n.hostname):""}function a(e){return(0,r.pZ)()&&/^about:/.test(e)?e:""===e?"":o(new URL(e).hostname)}const c=()=>i.includes(s()),u=()=>/\/document\//.test(d())&&"docs.google.com"===s(),l=()=>/\/document\/d\/.*$/.test(d())&&"docs.google.com"===s();function d(e){const t=e&&e.ownerDocument||document,n=t.location||t.defaultView.location;return n?n.pathname+n.search:""}},48521:(e,t,n)=>{n.d(t,{$R:()=>x,Am:()=>u,CB:()=>d,ED:()=>p,G6:()=>a,L6:()=>w,U8:()=>f,Um:()=>_,bo:()=>m,dU:()=>b,i7:()=>s,jR:()=>v,kD:()=>l,n0:()=>c,n_:()=>y,oX:()=>g,pB:()=>i,pZ:()=>o,qs:()=>h});var r=n(43370);function i(){return r.Rd().appConfig.extensionId}function o(){return"firefox"===r.Rd().bundleInfo.browser}function s(){return"chrome"===r.Rd().bundleInfo.browser}function a(){return"safari"===r.Rd().bundleInfo.browser}function c(){return"safariAppExtension"===r.Rd().bundleInfo.extensionType}function u(){return"safariIOSWebExtension"===r.Rd().bundleInfo.extensionType}function l(){return"edge"===r.Rd().bundleInfo.browser}function d(){return s()||l()}function p(){return r.Rd().systemInfo.os.isWindows}function h(){return r.Rd().bundleInfo.browser}function f(){return r.Rd().bundleInfo.extensionType}function g(){return r.Rd().bundleInfo.deploymentType}function m(){return r.Rd().buildInfo.version}function b(){return r.Rd().bundleInfo.env}function _(){return r.Rd().appConfig.url}function v(){return r.Rd().appConfig.gnar.appName}function y(){try{return self.parent!==self}catch(e){return!0}}function w(){return"undefined"!=typeof fetch}function x(){return`extension-${r.Rd().bundleInfo.browser}`}},86057:(e,t,n)=>{n.d(t,{F:()=>a,I:()=>c});var r=n(3679),i=n(73397),o=n(33302);function s(e){return e.getRangeAt(0).getBoundingClientRect()}function a(e,t){const n=e.anchorNode;if(!n)return!1;const o=r.bm.map((e=>Array.isArray(e)?`[${e[0]}="${e[1]}"]`:`[${e}]`)).join(","),s=t.activeElement,a=e.toString().trim(),c="TEXTAREA"!==n.tagName&&"INPUT"!==n.tagName,u=!s||"INPUT"!==s.tagName&&"TEXTAREA"!==s.tagName,l=!(0,i.Ne)(n),d=!(0,i.Jt)(n,o)&&!(0,i.Ku)(n,o),p=!(0,i.Jt)(n,"[contenteditable=true],[contenteditable=plaintext-only]")&&!(0,i.k3)(n);return!!(a&&c&&u&&l&&d&&p)}class c{constructor(e,t,n){this._doc=e,this._selectHandler=t,this._deselectHandler=n,this._select=!1,this.release=()=>(0,o.E)(this._doc,"click",this.check),this.check=e=>{if(2!==e.detail)return void(this._select&&(this._deselectHandler(),this._select=!1));this._select=!0;const t=this._doc.getSelection();if(!a(t,this._doc))return;const n=t.anchorNode.textContent,r=t.toString();if(r.match(/[0-9_±!@#$%^&*:"|<>?~().,:}{’=']/))return;let i={v:r,s:0,e:r.length};const o=t.getRangeAt(0);if(o.ownerDocument=this._doc,t.anchorNode===t.focusNode){const e=t.anchorOffset;i=function(e,t,n){if(!e)return null;const r=e.split(/[.;!?]/g);let i=0,o=0;for(let e=0;e<r.length;e++){if(o=i+r[e].length,t>=i&&n<=o)return{v:r[e],s:t-i,e:n-i};i=o+1}return null}(n,e,e+r.length)}null!==i&&this._selectHandler({data:{v:i.v,s:i.s,e:i.e,w:r},pos:s(t),el:o,event:e})},(0,o.o)(e,"click",this.check)}}},65467:(e,t,n)=>{n.d(t,{_x:()=>a,in:()=>c});var r,i=n(28705),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};!function(e){e.lessThan1Week="lessThan1Week",e.weekTo4Weeks="weekTo4Weeks",e.moreThan4weeks="moreThan4weeks",e.moreThan3Months="moreThan3Months"}(r||(r={}));new Map([[Date.now(),r.lessThan1Week],[Date.now()-i.an(7),r.weekTo4Weeks],[Date.now()-i.an(28),r.moreThan4weeks],[Date.now()-i.an(90),r.moreThan3Months]]);const s={stats:"ex_perfstats",csInit:"ex_csInitPerf",viewInjection:"viewInjectionPerf"};function a(e){const{_tag:t}=e,n=o(e,["_tag"]);return{[s[e._tag]]:n}}var c;!function(e){e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(c||(c={}))},80510:(e,t,n)=>{n.d(t,{Tb:()=>c});var r=n(43370),i=n(77141),o=n(9186),s=n(14418);i.Y.create("lib.tracking.logger");let a;function c(){if(!a){const e=(0,o.O)().telemetryCallProvider;a=new s.M0(e.sendFelog,e.sendFelogUsageEvent,e.setUserInfo,e.setContainerId,r.Rd().appConfig.felog.sendUsageMetrics,function(){r.Rd().appConfig.felog.sendPerfMetricsType,0;return}(),e.sendFelogEvent,e.sendFelogCrashLogs,void 0,(()=>{var t;return null===(t=e.enableDataSharing)||void 0===t?void 0:t.call(e)}),void 0,e.sendFelogMetricEvent,e.sendFemetricsRate,e.startFemetricsTimer,e.endFemetricsTimer,e.sendFemetricsTimer)}return a}},36631:(e,t,n)=>{n.d(t,{S:()=>o});var r=n(94100);const i=e=>e.split(".")[0],o=(e=self.navigator.userAgent)=>{const t=new r.UAParser(e).getResult();return{browserName:t.browser.name||"unknown",browserVersion:t.browser.version?i(t.browser.version):void 0,osName:t.os.name||"unknown",osVersion:t.os.version?i(t.os.version):void 0,userAgent:e}}},1848:(e,t,n)=>{function r(){return self.chrome&&self.chrome.runtime&&self.chrome.runtime.lastError}function i(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function o(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}function s(){}function a(e){return new Promise((t=>setTimeout(t,e)))}n.d(t,{DG:()=>p,M8:()=>o,_f:()=>s,gw:()=>a,kC:()=>h,lQ:()=>c,p6:()=>u,qH:()=>l,rw:()=>d,s6:()=>r});const c=["January","February","March","April","May","June","July","August","September","October","November","December"];function u(e){if(!e)return;const t=new Date(e);return"Invalid Date"!==t.toString()?c[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear():void 0}function l(e){const t=function(){};return t.prototype=e(),t}function d(e){return e.which||e.charCode||e.keyCode||0}const p=27;function h(e){return e.charAt(0).toUpperCase()+e.slice(1)}},49855:(e,t,n)=>{n.d(t,{M:()=>i});var r=n(77141);class i{constructor(e){this._baseApi=e,this._log=r.Y.create("BaseMessageService"),this._initializedListenerEvents=new Set,this._listeners={},this._logError=e=>{this._log.error(`${i.name} handle an error: ${e.message}`)},this.on=(e,t)=>{var n;this._listeners[e]=null!==(n=this._listeners[e])&&void 0!==n?n:[],this._listeners[e].push(t),this._initializedListenerEvents.has(e)||(this._initializedListenerEvents.add(e),this._baseApi.listen(e,((...t)=>{var n;const r=null!==(n=this._listeners[e])&&void 0!==n?n:[];for(const e of r)try{e(...t)}catch(e){this._logError(e)}})))},this.once=(e,t)=>{const n=(...r)=>{this.off(e,n);try{t(...r)}catch(e){this._logError(e)}};this.on(e,n)},this.off=(e,t)=>{if(!this._listeners[e])return;const n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1),0===this._listeners[e].length&&delete this._listeners[e]}}}},6245:(e,t,n)=>{n.d(t,{w:()=>i});var r=n(49855);class i extends r.M{constructor(e){super(e),this._api=e,this.sendBackground=(e,t)=>{try{this._api.broadcastBackground(e,t)}catch(e){this._logError(e)}}}}},76449:(e,t,n)=>{var r,i;n.d(t,{B:()=>r,I:()=>i}),function(e){let t;!function(e){e.disableOnTab="disableOnTab",e.reloadTab="reloadTab",e.showOnboardingDialog="showOnboardingDialog",e.hideGdocsSigninPopupMessage="hideGdocsSigninPopupMessage",e.sendCsLogsToPopup="sendCsLogsToPopup",e.downloadDebugReportsFromCS="downloadDebugReportsFromCS"}(t=e.Kind||(e.Kind={}))}(r||(r={})),function(e){let t;!function(e){e.sendCsLogs="sendCsLogs"}(t=e.Kind||(e.Kind={}))}(i||(i={}))},70686:(e,t,n)=>{var r;n.d(t,{I:()=>r}),function(e){e.rpcLegacyMessageName="cs-to-bg-rpc-1587687052565",e.rpcLegacyObservableName="cs-to-bg-observable-rpc-1587687052565"}(r||(r={}))},76623:(e,t,n)=>{n.d(t,{x:()=>r});const r="cs-to-bg-rpc-1557421403805";var i;!function(e){e.syncDevtoolsInitialStateWithTab="syncDevtoolsInitialStateWithTab"}(i||(i={}))},13574:(e,t,n)=>{var r;n.d(t,{U:()=>r}),function(e){e.rpcLegacyMessageName="cs-to-bg-static-capi-rpc-1668544923207",e.rpcLegacyObservableName="cs-to-bg-static-capi-observable-rpc-1668544923207"}(r||(r={}))},69950:(e,t,n)=>{n.d(t,{H:()=>d});var r=n(30152),i=n(55446),o=n(95907),s=n(78466),a=n(77141),c=n(44723),u=n(95737),l=n(10869);class d{constructor(e,t,n=a.Y.create("GenericObservableRpcClient"),r){this._transport=e,this._observableTransport=t,this._log=n,this._serverId=r,this._calls=new Map,this._subscribeRelatedCalls=new Map,this._observables=new Map,this._subscribers=new Map,this._transportSubscription=(0,l.s8)(this._transport.inbound).pipe((0,i.h)(c.ZQ)).subscribe((e=>{this._processResponse(e)})),this._observableTransportSubscription=(0,l.s8)(this._observableTransport.inbound).pipe((0,i.h)(c.ZQ)).subscribe((e=>{this._processObservableMessage(e)})),this.api=new Proxy({},{get:(e,t)=>"then"===t?void 0:(...e)=>this._handleCall(t,e)})}_processResponse(e){const t=this._calls.get(e.id);if(t)try{if("err"in e)t.reject(e.err);else if(c.JL.isObservableResult(e))try{const n=new r.y((t=>this._createSubscribeHandler(e.subscribableId,t)));this._observables.set(e.subscribableId,n),t.resolve(n)}catch(t){this._observables.delete(e.subscribableId)}else t.resolve(this.transformResult(e.res))}finally{this._calls.delete(e.id)}else this._log.warn(`received rpc call response for unregistered call ${e.id}`)}transformResult(e){return e}_processObservableMessage(e){if("subscribed"in e){const t=this._subscribeRelatedCalls.get(e.id);if(t)try{t.resolve()}finally{this._subscribeRelatedCalls.delete(e.id)}else this._log.warn(`received rpc call subscribed response for unregistered subscribe call ${e.id}`)}else if("unsubscribed"in e){const t=this._subscribeRelatedCalls.get(e.id);if(t)try{t.resolve()}finally{this._subscribeRelatedCalls.delete(e.id),this._subscribers.delete(e.id)}else this._log.warn(`received rpc call unsubscribed response for unregistered unsubscribe call ${e.id}`)}else if("next"in e)try{const t=this._subscribers.get(e.subscriptionId);t?t.subscriber.next(e.next):this._log.warn(`received observable next message for unregistered subscription ${e.subscriptionId}`)}catch(t){this._subscribers.delete(e.subscriptionId)}else if("complete"in e)try{const t=this._subscribers.get(e.subscriptionId);t?(t.subscriber.complete(),this._subscribers.delete(e.subscriptionId)):this._log.warn(`received observable complete for unregistered subscription ${e.subscriptionId}`)}catch(t){this._subscribers.delete(e.subscriptionId)}else if("err"in e)try{const t=this._subscribers.get(e.subscriptionId);t?t.subscriber.error(e.err):this._log.warn(`received observable error for unregistered subscription  ${e.subscriptionId}`)}finally{this._subscribers.delete(e.subscriptionId)}else if("subErr"in e){const t=this._subscribeRelatedCalls.get(e.id);try{const n=this._subscribers.get(e.id);n?n.subscriber.error(e.subErr):this._log.warn(`received subscription error response for unregistered call ${e.id}`)}finally{t&&(t.reject(e.subErr),this._subscribeRelatedCalls.delete(e.id)),this._observables.delete(e.subscribableId),this._subscribers.delete(e.id)}}else if("ping"in e)try{this._observables.get(e.ping)?this._observableTransport.outbound({pong:e.ping}):this._log.warn(`received ping for unregistered observable ${e.ping}`)}finally{(0,o.EI)()}}_handleCall(e,t){let n=o.iy.create();for(;this._calls.has(n);)n=o.iy.create();const r=s.O.createCompletionSource();this._calls.set(n,r);const i=t.map((e=>(0,u.R)(e)?e.toJSON():e));return this._transport.outbound({id:n,method:e,args:i,serverId:this._serverId}),r.promise}_createSubscribeHandler(e,t){let n=o.iy.create();for(;this._subscribeRelatedCalls.has(n);)n=o.iy.create();const r=s.O.createCompletionSource();return this._subscribeRelatedCalls.set(n,r),this._observableTransport.outbound({id:n,subscribableId:e,action:"subscribe"}),this._subscribers.set(n,{subscribableId:e,subscriber:t}),()=>{this._handleUnsubscribe(n,e)}}_handleUnsubscribe(e,t){let n=o.iy.create();for(;this._subscribeRelatedCalls.has(n);)n=o.iy.create();const r=s.O.createCompletionSource();return this._subscribeRelatedCalls.set(n,r),this._observableTransport.outbound({id:n,subscriptionId:e,subscribableId:t,action:"unsubscribe"}),this._subscribers.delete(e),r.promise}dispose(){for(const e of this._observables.keys())this._observableTransport.outbound({id:o.iy.create(),subscribableId:e,action:"dispose"});this._observables.clear(),this._transportSubscription.unsubscribe(),this._observableTransportSubscription.unsubscribe(),this._calls.clear(),this._subscribeRelatedCalls.clear()}}},10080:(e,t,n)=>{n.d(t,{X:()=>o});var r=n(95907),i=n(78466);class o{constructor(e,t){this._transport=e,this._log=t,this._calls=new Map,this._sub=this._transport.inbound.subscribe((e=>{var t;const n=this._calls.get(e.id);if(n)try{"err"in e?n.reject(e.err):n.resolve(e.res)}finally{this._calls.delete(e.id)}else null===(t=this._log)||void 0===t||t.warn(`received rpc call response for unregistered call ${e.id}`)})),this.api=new Proxy({},{get:(e,t)=>"then"===t?void 0:(...e)=>this._handleCall(t,e)})}_handleCall(e,t){let n=r.iy.create();for(;this._calls.has(n);)n=r.iy.create();const o=i.O.createCompletionSource();return this._calls.set(n,o),this._transport.outbound({id:n,method:e,args:t}),o.promise}dispose(){this._sub.unsubscribe()}}},44723:(e,t,n)=>{function r(e){return"tunnel"===e.tag}function i(e){return"tunnel"!==e.tag}function o(e){return i(e.data)}function s(e){return t=>e(t.data)}var a;n.d(t,{JL:()=>a,Mk:()=>s,ZQ:()=>i,hs:()=>r,uN:()=>o}),function(e){e.isSubscribe=e=>"action"in e.data&&"subscribe"===e.data.action,e.isUnsubscribe=e=>"action"in e.data&&"unsubscribe"===e.data.action,e.isDispose=e=>"action"in e.data&&"dispose"===e.data.action,e.isPong=e=>"pong"in e.data,e.isPing=e=>"ping"in e.data,e.isObservableResult=e=>"subscribableId"in e}(a||(a={}))},95737:(e,t,n)=>{n.d(t,{R:()=>i,l:()=>r});const r=Symbol();function i(e){return Boolean(e)&&e._tag===r}},22505:(e,t,n)=>{n.d(t,{cS:()=>i});var r=n(90411);const i={source:r.c.local,version:"0",newRichTextFieldsEnabled:!0,fluidDisabledForFirefox:!1,fluidDisabledForSafari:!1,fullSentenceRewritesDisabled:!1,overrideKey:"dynamicConfigOverrideKey",ungatingRenewalNotificationEnabled:!1,quillJSCatchAllDisabled:!1}},90411:(e,t,n)=>{var r;n.d(t,{c:()=>r}),function(e){e.empty="empty",e.local="local",e.server="server",e.localOverride="localOverride"}(r||(r={}))},21595:(e,t,n)=>{var r,i;n.d(t,{F:()=>r,n:()=>i}),function(e){e.anonymous="anonymous",e.registered="registered",e.premium="premium",e.business="business",e.edu="edu",e.ngo="ngo",e.k12="k12",e.gov="gov"}(r||(r={})),function(e){function t(e){return!e.anonymous&&e.premium}function n(e){var t;return["BUSINESS","NGO","GOV"].includes((null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)||"")}function i(e){return!!e.institutionInfo}function o(e){var t;return"EDU"===(null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)}function s(e){var t;return"K12"===(null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)}function a(e){var t;return"NGO"===(null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)}function c(e){var t;return"GOV"===(null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)}e.getType=function(e){return i(e)?a(e)?r.ngo:o(e)?r.edu:c(e)?r.gov:s(e)?r.k12:r.business:e.premium?r.premium:e.anonymous?r.anonymous:r.registered},e.isFree=function(e){return!e.anonymous&&!e.premium},e.isPremium=t,e.isFreeTrial=function(e){return!!(t(e)&&e.customFields&&e.customFields.frontend_premiumTrialEndDate)&&new Date<new Date(e.customFields.frontend_premiumTrialEndDate)},e.getUserRole=function(e,t){var n;return null===(n=e.roles)||void 0===n?void 0:n.find((e=>e.type===t))},e.isEdcBlocked=function(e){return!!e.edc&&!e.edc.compliant},e.isDocsDisabled=function(e){var t,n;return null!==(n=null===(t=e.editorFeatures)||void 0===t?void 0:t.docsDisabled)&&void 0!==n&&n},e.hasRole=function(e){return!!e.customFields&&(void 0!==e.customFields.frontend_role&&""!==e.customFields.frontend_role)},e.hasSoundFluentGoals=function(e){return!!e.customFields&&(void 0!==e.customFields.frontend_soundFluent&&""!==e.customFields.frontend_soundFluent)},e.hasPrimaryLanguage=function(e){return!!e.customFields&&(void 0!==e.customFields.frontend_primaryLanguage&&""!==e.customFields.frontend_primaryLanguage)},e.isBusinessAdmin=function(e){var t;return Boolean(n(e)&&(null===(t=null==e?void 0:e.institutionInfo)||void 0===t?void 0:t.admin))},e.doesUserBelongToBusinessInstitution=n,e.doesUserBelongToInstitution=i,e.doesUserBelongToEDUInstitution=o,e.doesUserBelongToK12Institution=s,e.doesUserBelongToNGOInstitution=a,e.doesUserBelongToGOVInstitution=c,e.isClaimed=function(e){return e.groups.includes("claimed-invitation")};e.isGrammarlyEmployee=function(e){var t;return e.email.endsWith("@grammarly.com")&&624392205===(null===(t=e.institutionInfo)||void 0===t?void 0:t.id)},e.isTestUser=function(e){return e.email.endsWith("@bh.exacttarget.com")},e.isConsumerUser=function(e){return!i(e)},e.defaultUser={anonymous:!0,groups:[],id:"",premium:!1,isTest:!1,settings:{},subscriptionFree:!1,type:"anonymous",email:"",registrationDate:(new Date).toString(),firstName:""}}(i||(i={}))},93032:(e,t,n)=>{function r(e,t){return[].concat(...e.map(t))}function i(e){return[].concat(...e)}function o(e){return[...new Set(e)]}function s(e,t){return void 0!==t?Array.from(Array(t-e),((t,n)=>n+e)):Array.from(Array(e),((e,t)=>t))}function a(e,t=((e,t)=>e===t)){if(0===e.length)return[];const n=[[e[0]]];for(let r=1;r<e.length;r+=1){const i=n[n.length-1][0],o=e[r];t(i,o)?n[n.length-1].push(o):n.push([o])}return n}function c(e,t){return e.filter((e=>!!e)).join(t)}function u(e,t){return e.sort(((e,n)=>e[t]-n[t]))}n.d(t,{Bd:()=>u,EB:()=>o,VS:()=>r,lM:()=>c,m:()=>a,w6:()=>s,xH:()=>i})},23212:(e,t,n)=>{n.d(t,{Cq:()=>o,hu:()=>i});class r extends Error{constructor(e){super(`Assertion failed: ${e?"string"==typeof e?e:e():"(unnamed)"}`)}}function i(e,t){if(!e)throw new r(t)}function o(e,t){if(null==e)throw new r((()=>t?`Expected ${t} to be non-null`:"Expected non-null"));return e}},76823:(e,t,n)=>{function r(e){return new Proxy({},{get(t,n){const r=e[n];return r&&"function"==typeof r?r.bind(e):void 0}})}n.d(t,{a:()=>r})},28442:(e,t,n)=>{n.d(t,{P:()=>r});class r{constructor(e){if(this.capacity=e,this._start=0,this._end=0,this._isFull=!1,e<=0)throw new Error("Invalid capacity "+e);this._buffer=new Array(e)}get size(){return this._isFull?this._buffer.length:(this._end-this._start+this._buffer.length)%this._buffer.length}get isEmpty(){return 0===this.size}get isFull(){return this._isFull}get head(){return this.isEmpty?null:this._buffer[this._start]}get tail(){return this.isEmpty?null:this._buffer[0===this._end?this.capacity-1:this._end-1]}enqueue(e){let t=null;return this.isFull&&(t=this._buffer[this._start],this._startInc()),this._buffer[this._end]=e,this._endInc(),this._start===this._end&&(this._isFull=!0),t}dequeue(){if(this.isEmpty)return null;const e=this._buffer[this._start];return this._buffer[this._start]=null,this._startInc(),this._isFull=!1,e}delete(e){const t=this._buffer.indexOf(e);if(t>=0){if(t<this._end){for(let e=t;e<this._end-1;e++)this._buffer[e]=this._buffer[e+1];this._buffer[--this._end]=null}else{for(let e=this._start;e<t;e++)this._buffer[e+1]=this._buffer[e];this._buffer[this._start]=null,this._startInc()}return this._isFull=!1,!0}return!1}_startInc(){this._start++,this._start===this.capacity&&(this._start=0)}_endInc(){this._end++,this._end===this.capacity&&(this._end=0)}clear(){this._buffer=new Array(this.capacity),this._start=this._end=0,this._isFull=!1}toArray(){let e;if(this.isEmpty)e=[];else if(this._start<this._end)e=this._buffer.slice(this._start,this._end);else{e=new Array(this.size);let t=0;for(let n=this._start;n<this.capacity;++n,++t)e[t]=this._buffer[n];for(let n=0;n<this._end;++n,++t)e[t]=this._buffer[n]}return e}}},91016:(e,t,n)=>{function r(e){return"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message}n.d(t,{H:()=>r})},95907:(e,t,n)=>{n.d(t,{DV:()=>d,EI:()=>p,HO:()=>b,Nf:()=>g,P2:()=>_,Vo:()=>w,X0:()=>f,XD:()=>v,bc:()=>E,cq:()=>a,fQ:()=>h,fS:()=>o,hr:()=>S,hz:()=>m,iy:()=>x,vE:()=>u,wU:()=>l,xB:()=>s});var r=n(93281),i=n(27794);const o=r.q;class s{constructor(e){this._getFallbackValue=e}init(e){if(void 0!==this._value)throw new Error("Global value already initialized.");this._value=e}get(){if(void 0===this._value){if(void 0===this._getFallbackValue)throw new Error("Global value not initialized and no fallback value provided.");this._value=this._getFallbackValue()}return this._value}}function a(e,t){return e.some((e=>e===t))?t:void 0}class c extends Error{constructor(e){super(`Matching not exhaustive: unexpected value ${JSON.stringify(e)}`)}}function u(e){throw new c(e)}function l(e){if("string"==typeof e){const t=parseInt(e,10);return isNaN(t)?void 0:t}return"number"==typeof e?e:void 0}function d(e,t){try{return e()}catch(e){return t(e)}}function p(){}function h(e){return!!e}function f(e){return!e}function g(e){return null!=e}function m(e){let t,n=!1;return(...r)=>(n||(n=!0,t=e(...r)),t)}function b(e,t,n){const r=new Set;let i;return(...o)=>{const s=t(...o);return r.has(s)||(r.add(s),i=e(...o)),null==n||n(...o),i}}function _(e,t){let n,r,o=!0;function s(e,n){return o&&(o=!1,r=(0,i.II)(),setTimeout((()=>{try{r.resolve(t(...n))}catch(e){r.reject(e)}finally{o=!0}}),e)),r.promise}return(...t)=>{const r=n;return n=Date.now(),s(void 0===r||n-r>=e?0:e-(n-r),t)}}async function v(e,t,n){const r=n();if(!(e>0))return r;try{return await r}catch(r){return await(0,i.gw)(t),v(e-1,t,n)}}class y{constructor(e){this._factory=e,this._hasValue=!1}get hasValue(){return this._hasValue}get(){return this._hasValue||(this._value=this._factory(),this._hasValue=!0),this._value}map(e){return new y((()=>e(this.get())))}}function w(e){return new y(e)}var x;!function(e){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.create=function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(x||(x={}));void 0!==self.requestIdleCallback&&self.requestIdleCallback;function E(...e){return e}function S(e){return e.replace(/[.*+?()[\]{}^$\\/|]/g,"\\$&")}},85985:(e,t,n)=>{n.d(t,{x:()=>r});var r,i=n(6633),o=n(77141),s=n(30468),a=n(92876);!function(e){function t(e){return{message:e.message,stack:e.stack}}function n(e){try{return!(0,a.HD)(JSON.stringify(e))}catch(e){return e.message.includes("Converting circular structure to JSON")}}e.normalizeException=t,e.isCircularObject=n,e.normalizeData=function e(r,a,c=new WeakSet){try{if(self.HTMLElement&&r instanceof self.HTMLElement)return{type:(u=r).nodeName,html:u.outerHTML,attributes:Array.from(u.attributes).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.nodeName]:t.nodeValue})),{})};if(r instanceof Error)return t(r);if(Array.isArray(r))return r.map((t=>e(t,a,c)));if("function"==typeof r)return`${r.name}()`;if((0,s.Kn)(r)){if(null==a?void 0:a.isGateEnabled(i.D.ExtensionDebugReportPrintCircularObject)){if(c.has(r))return"circular data!";c.add(r)}else if(n(r))return t(new Error("Couldn't normalize circular data!"));return Object.keys(r).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:e(r[n],a,c)})),{})}return r}catch(e){return o.Y.create("HistoryLogNormalizer").error("cannot normalize data",e,r),t(new Error("Data normalization fail!"))}var u}}(r||(r={}))},60979:(e,t,n)=>{n.d(t,{f:()=>u});var r,i=n(28705),o=n(95907),s=n(77141),a=n(88872),c=n(50796);!function(e){e.UPDATE_BACKUP_STORAGE_TIMEOUT=i.m9(5),e.BACKUP_STORAGE_LOGS_CAPACITY=100}(r||(r={}));class u{constructor(e,t,n,i=o.P2,a=s.Y.create(u.name,{skipWriteToHistoryLogger:!0})){this._sessionStorage=e,this._key=t,this._skipSetLogs=n,this._throttle=i,this._log=a,this.get=()=>this._get(),this._get=c.r.getLogsFromSessionStorageFallbackGetter(this._key,(()=>this._sessionStorage)),this.set=this._throttle(r.UPDATE_BACKUP_STORAGE_TIMEOUT,this._set.bind(this))}async _set(e){var t;if(await(null===(t=this._skipSetLogs)||void 0===t?void 0:t.call(this)))return void this._log.trace("set logs is skipped");const n=null==e?void 0:e.slice(-r.BACKUP_STORAGE_LOGS_CAPACITY).map((e=>{try{return JSON.stringify(e)}catch(t){return this._log.warn("cannot parse properly backup storage data",t,e),JSON.stringify({level:a.i.WARN,loggerName:e.loggerName,message:e.message,timestamp:e.timestamp,exception:`cannot parse properly backup storage data: ${t.message}`})}}));return this._log.trace("set new logs to session storage"),this._sessionStorage.set({[this._key]:n}).then((()=>this._log.trace("logs was successfully set"))).catch((e=>{this._log.warn(`error: on set ${this._key} logs to backup storage`,e),this._sessionStorage.remove(this._key).catch((e=>this._log.warn(`error: on remove ${this._key} logs from backup storage`,e)))}))}}},88872:(e,t,n)=>{var r;n.d(t,{i:()=>r,p:()=>o}),function(e){e.TRACE="TRACE",e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.FATAL="FATAL"}(r||(r={}));const i={[r.TRACE]:1,[r.DEBUG]:2,[r.INFO]:3,[r.WARN]:4,[r.ERROR]:5,[r.FATAL]:6};function o(e){return i[e]||0}},12243:(e,t,n)=>{n.d(t,{x:()=>i});var r=n(31219);class i extends r.rK{constructor(e,t,n,r){var i,o;super(e),this._config=t,this._historyLogsService=n,this._loggerSettings=r,this._buffer=(null===(i=this._loggerSettings)||void 0===i?void 0:i.historyBufferSettings)?{name:this.name,settings:null===(o=this._loggerSettings)||void 0===o?void 0:o.historyBufferSettings}:null}handleEvent(e){var t,n;this._config.filterFn(e)&&!(null===(t=this._loggerSettings)||void 0===t?void 0:t.skipWriteToConsole)&&this._config.writer.write(e),this._historyLogsService.isHistoryEnabled()&&!(null===(n=this._loggerSettings)||void 0===n?void 0:n.skipWriteToHistoryLogger)&&this._historyLogsService.pushLog(this._buffer,e)}isHistoryEnabled(){return this._historyLogsService.isHistoryEnabled()}isAdvancedHistoryEnabled(){return this._historyLogsService.isAdvancedHistoryEnabled()}}},4802:(e,t,n)=>{n.d(t,{Lr:()=>c});var r=n(48521),i=n(28442),o=n(85985);const s="common";function a(e){return e===s?"common.":""}class c{constructor(e){var t;this._historyArgs=e,this._historyBuffers={},this.isHistoryEnabled=()=>{var e;return Boolean("prod"!==(0,r.dU)()||(null===(e=this._historyArgs.enabledInProd)||void 0===e?void 0:e.get()))},this.isAdvancedHistoryEnabled=()=>{var e,t;return Boolean("prod"!==(0,r.dU)()||(null===(e=this._historyArgs.enabledInProd)||void 0===e?void 0:e.get())&&(null===(t=this._historyArgs.enableAdvancedInProd)||void 0===t?void 0:t.get()))},this.getLogs=()=>Object.entries(this._historyBuffers).map((([e,t])=>t.toArray().map((t=>{var n,r;return Object.assign(Object.assign({},t),{data:o.x.normalizeData(t.data,null===(r=(n=this._historyArgs).getExperimentClient)||void 0===r?void 0:r.call(n)),loggerName:a(e)+t.loggerName,exception:t.exception?o.x.normalizeException(t.exception):void 0})})))).flat(),this._updateBackupStorage=()=>{var e;null===(e=this._historyArgs.backupStorage)||void 0===e||e.set(this._getBuffer(null).toArray())},this._initCliCommands(),this._historyBuffers.common=new i.P(null!==(t=this._historyArgs.maxEventsToStore)&&void 0!==t?t:1e3)}_getBuffer(e){return e?(this._historyBuffers[e.name]||(this._historyBuffers[e.name]=new i.P(e.settings.limit)),this._historyBuffers[e.name]):this._historyBuffers.common}pushLog(e,t){this._getBuffer(e).enqueue(t),this._updateBackupStorage()}_initCliCommands(){self.GRIsDebugEnabled=()=>this.isHistoryEnabled(),self.GREnableHistoryLogger=(e=60)=>{var t,n;null===(n=(t=this._historyArgs).enableHistoryLoggerUntil)||void 0===n||n.call(t,Date.now()+60*e*1e3)},self.GRDisableHistoryLogger=()=>{var e,t;null===(t=(e=this._historyArgs).disableHistoryLogger)||void 0===t||t.call(e)}}static create(e){return e.isBG?new u(e):new l(e)}}class u extends c{constructor(e){super(e),this._historyArgs=e,this._syncInitialStateWithStorage()}_syncInitialStateWithStorage(){var e;null===(e=this._historyArgs.backupStorage)||void 0===e||e.get().then((e=>{if(!e)return;const t=this._getBuffer(null),n=t.toArray();t.clear(),e.forEach((e=>t.enqueue(e))),n.forEach((e=>t.enqueue(e))),this._updateBackupStorage()}))}}class l extends c{}},77141:(e,t,n)=>{n.d(t,{Y:()=>r});var r,i=n(9186),o=n(31219);!function(e){e.create=function(e,t){return new o.rl(e,(()=>(0,i.O)().logger.create(e,t)))}}(r||(r={}))},71393:(e,t,n)=>{n.d(t,{x:()=>i});var r=n(88872);const i=e=>t=>(0,r.p)(t.level)>=(0,r.p)(e)},76986:(e,t,n)=>{n.d(t,{g:()=>r});var r,i=n(88872),o=n(6686);!function(e){e.LEVEL={[i.i.TRACE]:"color: white; background: orange;",[i.i.DEBUG]:"color: black; background: #ffdc00;",[i.i.INFO]:"color: black; background: #abdcfb",[i.i.WARN]:"color: white; background: darkorange;",[i.i.ERROR]:"color: white; background: red;",[i.i.FATAL]:"color: white; background: darkred;"},e.GRAMMARLY="color: black; background: #bada55;";const t=new Map;function n(e,t){return e+Math.floor(Math.random()*(t-e+1))}function r(e){return`color: ${e.isDark?"white":"black"}; background: rgb(${e.red}, ${e.green}, ${e.blue})`}e.getLoggerName=function(e){const i=t.get(e);if(i)return r(i);const o=n(0,255),s=n(0,255),a=n(0,255),c={red:o,green:s,blue:a,isDark:Math.sqrt(o*o*.299+s*s*.587+a*a*.114)<127.5};return t.set(e,c),r(c)},e.RESET_DEFAULT="color: reset;",e.RESET_DEBUG=`color: ${(0,o.Y)()?"white":"black"};`,e.getReset=function(t){return t!==i.i.TRACE&&t!==i.i.DEBUG?e.RESET_DEFAULT:t===i.i.TRACE||t===i.i.DEBUG?e.RESET_DEBUG:e.RESET_DEFAULT},e.outputLog=function(e){return[`grm ${e.level} [${e.loggerName}] ░░ ${e.message}`]}}(r||(r={}))},24634:(e,t,n)=>{n.d(t,{n:()=>s});var r=n(76823),i=n(88872),o=n(76986);class s{constructor(){this._writeFunc=s._commonWriteFunc}shouldWriteLog(e){const t=(0,i.p)(e);return!!(t&&1<=t)}write(e){try{const t=o.g.outputLog(e);e.data&&t.push(e.data),e.exception&&t.push(e.exception),this.shouldWriteLog(e.level)&&this._writeFunc[e.level].apply(null,t)}catch(e){}}}s._commonWriteFunc=function(){const{debug:e,info:t,warn:n,error:o}=(0,r.a)(console);return{[i.i.TRACE]:e,[i.i.DEBUG]:e,[i.i.INFO]:t,[i.i.WARN]:n,[i.i.ERROR]:o,[i.i.FATAL]:o}}()},31219:(e,t,n)=>{n.d(t,{rK:()=>i,rl:()=>o});var r=n(88872);class i{constructor(e){this.name=e,this._isError=e=>{const t=e;return t&&(void 0!==t.message&&void 0!==t.name||void 0!==t.stack)}}trace(e,t,n){this._logMessage(r.i.TRACE,e,t,n)}debug(e,t,n){this._logMessage(r.i.DEBUG,e,t,n)}info(e,t,n){this._logMessage(r.i.INFO,e,t,n)}warn(e,t,n){this._logMessage(r.i.WARN,e,t,n)}error(e,t,n){this._logMessage(r.i.ERROR,e,t,n)}fatal(e,t,n){this._logMessage(r.i.FATAL,e,t,n)}_logMessage(e,t,n,r){const i={level:e,loggerName:this.name,message:t,timestamp:Date.now()};n&&(this._isError(n)?i.exception=n:i.data=n),i.data=i.data||r,this.handleEvent(i)}}class o{constructor(e,t){this.name=e,this._createLogger=t}trace(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.trace(e,t,n)}debug(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.debug(e,t,n)}info(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.info(e,t,n)}warn(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.warn(e,t,n)}error(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.error(e,t,n)}fatal(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.fatal(e,t,n)}isHistoryEnabled(){return!1}isAdvancedHistoryEnabled(){return!1}}},35134:(e,t,n)=>{n.d(t,{J6:()=>r,M$:()=>o,m:()=>i});const r=e=>e.reduce(((e,t,n)=>e+(t-e)/(n+1)),0),i=(e,t)=>{const n=void 0===t?r(e):t;return e.length>1?Math.sqrt(e.reduce(((e,t)=>e+(t-n)**2),0)/(e.length-1)):0};function o(e,t,n=.001){return e===t||Math.abs(e-t)<=n}},30468:(e,t,n)=>{function r(e,t){const n={};return Object.keys(t).forEach((r=>n[r]=e(r,t[r]))),n}function i(e,t){const n={};return Object.keys(t).forEach((r=>{e(r,t[r])&&(n[r]=t[r])})),n}function o(e){return Object.entries(e)}function s(e){const t={};for(const[n,r]of e)t[n]=r;return t}function a(e,t){return t.map((t=>e[t]))}n.d(t,{Kn:()=>c,RH:()=>u,UI:()=>r,Ue:()=>s,X:()=>o,hX:()=>i,jg:()=>a,vZ:()=>l});const c=e=>e===Object(e)&&!Array.isArray(e);function u(e,...t){if(!t.length||!c(e))return e;const n=e,r=t.length;for(let i=0;i<r;i+=1){const r=t[i];if(c(r))for(const t in r)if(r.hasOwnProperty(t)){const i=r[t],o=e[t];c(i)?(o&&c(o)||(n[t]={}),u(n[t],i)):Array.isArray(o)&&Array.isArray(i)?n[t]=Array.from(new Set(o.concat(i))):n[t]=Array.isArray(i)?Array.from(i):i}}return e}function l(e,t){if(e===t)return!0;if(d(e)||d(t))return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){if(!(n in t))return!1;if(!l(e[n],t[n]))return!1}return!0}function d(e){return e!==Object(e)}},27794:(e,t,n)=>{function r(e,t){return new Promise(((n,r)=>{setTimeout((()=>{void 0!==t?r(t):n()}),e)}))}function i(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}}function o(e){return new Promise(((t,n)=>{e.then(n,t)}))}function s(e){return o(Promise.all([...e].map(o)))}n.d(t,{Fb:()=>u,II:()=>i,Wp:()=>s,gw:()=>r});class a extends Error{}function c(e){return new Promise(((t,n)=>setTimeout((()=>n(new a("Promise timed out."))),e)))}function u(e,t){return Promise.race([c(e),t])}},10869:(e,t,n)=>{n.d(t,{Gx:()=>R,Vh:()=>E,WV:()=>C,d5:()=>r,s8:()=>x,yF:()=>S});var r,i=n(30152),o=n(66997),s=n(15574),a=n(90049),c=n(44424),u=n(26130),l=n(33090),d=n(70163),p=n(78008),h=n(73863),f=n(22889),g=n(12171),m=n(93899),b=n(5794),_=n(70989),v=n(55446),y=n(65647),w=n(85438);function x(e){return e instanceof i.y?e:new i.y((t=>e.subscribe(t)))}function E(e){return t=>{const n=t.pipe((0,d.B)()),[r,i]=(0,s.u)(n,((e,t)=>0===t));return(0,a.T)(r.pipe((0,p.V)(e),(0,h.q)(1)),i)}}function S(e,t,n=(e=>(0,c._)(e))){return k(e,{type:"exponentialBackoff",initialDelayMs:t},n)}function C(e,t,n=(e=>(0,c._)(e))){return k(e,{type:"linear",initialDelayMs:t},n)}function k(e,t,n=(e=>(0,c._)(e))){return(0,f.a)((r=>r.pipe((0,g.zg)(((r,i)=>{const o=i+1;return o>e?n(r):(0,u.H)("exponentialBackoff"===t.type?o*o*t.initialDelayMs:"linear"===t.type?t.initialDelayMs:(0,w.vE)(t.type))})))))}function R(e){return t=>{const n=t.pipe((0,d.B)()),r=e.pipe((0,h.q)(1));return(0,l.z)(n.pipe((0,m.f)(r),(0,b.J)()),n).pipe((0,_.M)(r),(0,v.h)((([e,t])=>!0===t)),(0,y.U)((([e,t])=>e)))}}!function(e){e.measure=e=>t=>new i.y((n=>t.subscribe((t=>e((()=>n.next(t)))),(e=>n.error(e)),(()=>n.complete())))),e.using=(e,t)=>(0,o.g)(e,t),e.doNothing=e=>e}(r||(r={}))},78466:(e,t,n)=>{n.d(t,{O:()=>r});var r,i=n(27794);!function(e){class t extends Error{constructor(e,t=1e3){super(`SafePromiseError: ${String(e)}`),this.stack=(super.stack||"").slice(t)}}function n(e){return e.catch((e=>e instanceof Error&&!e.stack?Promise.reject(new t(e.message)):Promise.reject(e)))}e.fromPromise=n,e.fromAsync=function(e){return(...t)=>n(e(...t))},e.noop=e.fromPromise(Promise.resolve()),e.create=function(e){return n(new Promise(e))},e.sync=function(e){return n(new Promise(((t,n)=>t(e()))))},e.createCompletionSource=i.II,e.delay=i.gw}(r||(r={}))},80515:(e,t,n)=>{n.d(t,{pb:()=>i});var r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function i(e){return e instanceof Error?function(e){if(e instanceof Error){const t=e,{name:n,message:i,stack:o,errors:s,suppressed:a,cause:c}=t,u=r(t,["name","message","stack","errors","suppressed","cause"]);return Object.assign(Object.assign({},u),{name:n,message:i,stack:o,errors:s,suppressed:a,cause:c})}return e}(e):e instanceof ErrorEvent?function(e){if(e instanceof ErrorEvent){const{message:t,type:n,lineno:i,colno:o,filename:s,error:a}=e,c=r(e,["message","type","lineno","colno","filename","error"]);return Object.assign(Object.assign({},c),{message:t,type:n,lineno:i,colno:o,filename:s,error:a})}return e}(e):e instanceof PromiseRejectionEvent?function(e){if(e instanceof PromiseRejectionEvent){const{type:t,reason:n}=e,i=r(e,["type","reason"]);return Object.assign(Object.assign({},i),{type:t,reason:n})}return e}(e):e}},28705:(e,t,n)=>{n.d(t,{E0:()=>r,LK:()=>l,Xd:()=>d,Z7:()=>i,an:()=>c,iL:()=>a,m9:()=>u});const r=1e3,i=60*r,o=60*i,s=24*o,a=30*s;function c(e){return e*s}function u(e){return e*r}function l(e){return e*i}function d(e){return r/e}},92876:(e,t,n)=>{function r(e){return Number.isFinite(e)||e===Number.NEGATIVE_INFINITY||e===Number.POSITIVE_INFINITY}function i(e){return"string"==typeof e}n.d(t,{HD:()=>i,hj:()=>r})},14418:(e,t,n)=>{n.d(t,{M0:()=>w});var r=n(43370),i=n(65467),o=n(95907),s=n(77141),a=n(91016),c=n(28464),u=n(19282),l=n(48521),d=n(96254),p=n(43336),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const f=s.Y.create("lib.tracking.telemetry"),g=.1,m=.05,b=.01;var _;!function(e){e.getMapPageCount=e=>void 0===e.mapPageCount?void 0:e.mapPageCount>10?"10+":e.mapPageCount}(_||(_={}));const v=e=>e.substring(0,5),y=(e,t)=>{let n;try{n=JSON.stringify(t)}catch(t){n=`stringify fail: '${String(t)}', '${(0,a.H)(t)?t.message:"undefined"}'`,f.warn(n,e)}return n};class w{constructor(e=o.EI,t=o.EI,n=o.EI,s=o.EI,w=!1,x=c.Rv.dummyFactoryInitialization,E=o.EI,O=o.EI,T=(e=>.01),I=o.EI,F=x(((e,t)=>{var{hideUserInfo:n}=t,r=h(t,["hideUserInfo"]);this._sendEvent(Object.assign({logger:e,level:i.in.INFO,hideUserInfo:n},(0,i._x)(r)))})),A=o.EI,P=o.EI,N=o.EI,j=o.EI,L=o.EI){this._sendFelog=e,this._sendFelogUsage=t,this._setUserInfo=n,this._setContainerId=s,this._sendUsageMetrics=w,this._sendFelogEvent=E,this._sendFelogCrashLogs=O,this._getUsageMetricsRate=T,this._enableDataSharing=I,this._createPerfLogger=F,this._sendFelogMetricEvent=A,this._sendFemetricsRate=P,this._startFemetricsTimer=N,this._endFemetricsTimer=j,this._sendFemetricsTimer=L,this._sendEvent=e=>{try{this._sendFelogEvent(e)}catch(t){f.warn(`Failed to send felog for ${JSON.stringify(e)}`,t)}},this._sendException=e=>(t,n,r,i=!0)=>{let o;o=r||((0,a.H)(t)?t.message:String(t)),this._sendEvent(Object.assign(Object.assign({message:o},e),{sendToFemetrics:i,extra:Object.assign(Object.assign({},e.extra),(0,p.nG)(n,t))}))},this._sendUsageMetricsSamplingRatio=this._getUsageMetricsRate(r.Rd().bundleInfo.browser),this.sendFemetricsRate=(e,t,n)=>{this._sendFemetricsRate(e,t,n)},this.startFemetricsTimer=(e,t,n)=>{this._startFemetricsTimer(e,t,performance.now(),n)},this.endFemetricsTimer=(e,t,n,r)=>{this._endFemetricsTimer(e,t,performance.now(),n,r)},this.sendFemetricsTimer=(e,t,n,r)=>{this._sendFemetricsTimer(e,t,n,r)},this.restoredBgConnection=e=>{this._send("cs.connection.bg.restored",i.in.INFO,{timeWithoutConnection:e})},this.initWithoutBgConnection=()=>{this._send("cs.connection.bg.disconnected",i.in.INFO)},this.fetchDefinitionsFail=()=>{this._send("cs.connection.api.definition.failed",i.in.WARN)},this.tooLongPageConfigInit=e=>{this._send("cs.pageConfig.init.exceeded",i.in.WARN,{initTime:e})},this.tooLongUserUpdateTime=e=>{this._send("bg.state.user.update.exceeded",i.in.WARN,{updateTime:e})},this.lostBgPageConnection=()=>{this._send("cs.gbutton.bgConnection.lost",i.in.INFO)},this.restoreBgPageConnection=e=>{this._send("cs.gbutton.bgConnection.restored",i.in.INFO,{time:e})},this.dynamicConfigLoadFromPrefsError=e=>{this._sendSampled(b,"bg.dynamicConfig.prefs.load.error",i.in.ERROR,{message:e})},this.dynamicConfigSaveToPrefsError=e=>{this._sendSampled(b,"bg.dynamicConfig.prefs.save.error",i.in.ERROR,{message:e})},this.dynamicConfigLoadFromServerError=e=>{this._sendSampled(b,"bg.dynamicConfig.server.load.error",i.in.ERROR,{message:e})},this.pageConfigCDNError=e=>{this._send("cs.pageConfig.cdn.error",i.in.ERROR,{message:e})},this.pageConfigLocalStorageError=(e,t)=>{this._send("cs.pageConfig.localStorage.error",i.in.INFO,{message:e,name:t})},this.pageConfigUpdated=(e,t)=>{this._send("cs.pageConfig.updated",i.in.INFO,{oldVersion:e,newVersion:t})},this.settingsPopupTimeout=()=>{this._send("settings.popup.init.timeout",i.in.WARN)},this.settingsUnsupportedShow=e=>{this._send("settings.popup.state.unsupported.show",i.in.INFO,{popupType:e})},this.gnarClientInitFail=e=>{this._send("gnar.bg.tracking.gnar.init.fail",i.in.WARN,{message:e})},this.bgTrackingInitFail=()=>{this._send("debug.tracking.init.fail",i.in.INFO)},this.userUpgradeClick=e=>{this._send("cs.ui.action.upgradeClick",i.in.INFO,{placement:e})},this.gGbUpHookClick=()=>{this._send("cs.ui.gb.uphook.click",i.in.INFO)},this.gButtonClick=()=>{this._send("cs.ui.gbutton.click",i.in.INFO)},this.unexpectedAnonymous=e=>{this._send("debug.bg.session.unexpectedAnonymous",i.in.INFO,e)},this.getDapiPropError=(e,t)=>{const n="bg.connection.dapi.getProp.error",r=y(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:i.in.WARN,extra:{json:r},sendToFemetrics:!0})},this.getCheetahStatusError=(e,t)=>{const n="bg.connection.cheetahSettings.getStatus.error",r=y(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:i.in.WARN,extra:{json:r},sendToFemetrics:!0})},this.bgApiServiceRequestSuccess=(e,t="GET",n)=>{this.sendFemetricsRate("info",{domain:e,context:n?"accessToken enabled":"accessToken not enabled",logger:"bg.api.service.request.success",message:`[${t.toUpperCase()}]`})},this.bgApiServiceRequestFailed=(e,t="GET",n,r)=>{this.sendFemetricsRate("warn",{domain:e,context:r?"accessToken enabled":"accessToken not enabled",message:`[${t.toUpperCase()}] ${n}`,logger:"bg.api.service.request.failed"})},this.setDapiPropError=(e,t)=>{const n="bg.connection.dapi.setProp.error",r=y(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:i.in.WARN,extra:{json:r},sendToFemetrics:!0})},this.toggleExtensionDefs=e=>{this._send("bg.settings.definitions.toggle",i.in.INFO,{enabled:e})},this.toggleExtension=(e,t,n)=>{const r={enabled:e,placement:t,domain:n};this._sendEvent({logger:"bg.settings.extension.toggle",level:i.in.INFO,sendToFemetrics:!0,extra:{json:(0,p.jA)(r)},femetricsExtra:r})},this.disableUntilNextVisit=()=>{this._send("cs.gbutton.disableUntilNextVisit",i.in.INFO)},this.disableButtonClick=()=>{this._send("cs.gbutton.disableButtonClick",i.in.INFO)},this.cookieOverflow=(e,t)=>{this._send("debug.bg.state.cookie.overflow",i.in.INFO,{size:e,biggestCookie:t})},this.externalChangePlan=()=>{this._send("bg.api.external.changePlan",i.in.INFO)},this.externalChangeDialect=()=>{this._send("bg.api.external.changeDialect",i.in.INFO)},this.externalChangeUser=()=>{this._send("bg.api.external.changeUsed",i.in.INFO)},this.externalLogout=()=>{this._send("bg.api.external.logout",i.in.INFO)},this.safariLogoutFail=e=>{this._sendEvent({logger:"bg.safari.logout.error",level:i.in.INFO,message:e,sendToFemetrics:!0})},this.csInitialized=e=>{if("message"in e){const t=(0,u.FN)();this._sendFemetricsRate("csInitialized",{message:e.message,isIframe:e.isIframe,stage:e.stage,domain:t,context:e.context});const n=(0,l.bo)();this._sendEvent({level:i.in.INFO,logger:"csFailInitializedVersion",extra:{json:JSON.stringify({csVersion:n})}}),this._sendFemetricsRate("csFailInitializedVersion",{csVersion:n}),"facebook.com"===t&&this._sendEvent({level:i.in.INFO,logger:"csInitializedFailed",message:e.message,extra:{json:JSON.stringify({isIframe:e.isIframe,stage:e.stage,url:self.location.href,context:e.context})},hideUserInfo:!0})}else this._sendFemetricsRate("csInitialized",e,["firstInstall","registrationDate"])},this.acceptDataControl=()=>{this._send("bg.dataControl.accepted",i.in.INFO)},this.bgPage={bgStarted:e=>{this._sendFemetricsRate("bgStarted",e),"fail"===e.status&&this._sendException({logger:"bg.start.fail",femetricsExtra:{reason:e.reason},level:i.in.ERROR})(e.error,{reason:e.reason})},bgPageStarted:(e,t)=>{this._sendFemetricsRate("bgPageStarted",{context:e,time:t})},bgPageInitFail:e=>{this._send("bg.state.init.fail",i.in.ERROR,{initAttempts:e})},bgPageInitTimeout:e=>{this._send("bg.state.start.timeout",i.in.WARN,{initTime:e})}},this.popup={popupInitFail:(e,t)=>{this._sendEvent({logger:"popup.init.fail",level:i.in.ERROR,message:e,extra:t,femetricsMessage:v(e)})},fetchTreatmentsFail:e=>{this._sendFemetricsRate("popupFetchTreatmentsFails",{message:v(e)})},popupStateInitFail:e=>{this._sendEvent({logger:"popup.state.init.fail",level:i.in.ERROR,message:e,femetricsMessage:v(e)})},initSuccess:()=>{this._sendEvent({logger:"popup.init.success",level:i.in.INFO,sendToFemetrics:!0})}},this.extensionUpdated=(e,t)=>{this._send("bg.state.updated",i.in.INFO,{currentVersion:e,previousVersion:t})},this.extensionUpdateFail=e=>{this._send("bg.state.update.fail",i.in.INFO,{previousVersion:e})},this.cannotGetInstallSource=()=>{this._send("bg.getSource.fail",i.in.WARN)},this.extensionInstall=e=>{this._sendEvent({logger:"bg.state.install",level:i.in.INFO,extra:{json:JSON.stringify({source:e})},sendToFemetrics:!0})},this.chromeContentScriptLoadError=(e,t)=>{this._send("bg.chrome.cs.load.error",i.in.WARN,{message:e,type:t})},this.reloadNotificationShow=()=>{this._send("bg.ui.notification.tabsReload.show",i.in.WARN)},this.reloadNotificationClick=()=>{this._send("bg.ui.notification.tabsReload.click",i.in.INFO)},this.fetchUserFail=(e,t,n,r)=>{const o="bg.user.fetch.fail",s=y(o,{body:t,statusCode:n,reason:e,fromAuthRequest:!!r});this._sendEvent({logger:o,level:i.in.WARN,extra:{json:s},sendToFemetrics:!0})},this.getAccessTokenError=e=>this.sendFemetricsRate("oauthGetAccessTokenError",e),this.getAccessTokenSuccess=e=>this.sendFemetricsRate("oauthGetAccessTokenSuccess",e),this.initializeAccessTokenSuccess=()=>this._sendEvent({logger:"bg.api.service.getAccessToken",message:"initialize access token",level:i.in.INFO}),this.oauthLogout=e=>this.sendFemetricsRate("oauthLogout",e),this.compareUserInUserUpdate=e=>this.sendFemetricsRate("compareUserInUserUpdate",e),this.frequentCookieChanges=e=>{this._send("debug.cookie.onChange.error",i.in.INFO,{canceled:e})},this.initializePropFromDapi=e=>{this._send("bg.state.dapi.prop.initialize",i.in.INFO,{name:e})},this.onboardingPopupShow=()=>{this._send("cs.onboarding.popup.show",i.in.INFO)},this.onboardingPopupCancel=()=>{this._send("cs.onboarding.popup.cancel",i.in.INFO)},this.onboardingTutorialShow=()=>{this._send("cs.onboarding.tutorial.show",i.in.INFO)},this.loginReminderPopupShow=()=>{this._send("cs.gbutton.popup.loginReminder.show",i.in.INFO)},this.loginReminderBadgeShow=()=>{this._send("bg.state.user.loginReminder.enable",i.in.INFO)},this.loginReminderCanceled=e=>{this._sendFelog("bg.state.user.loginReminder.canceled",e,i.in.ERROR)},this.unhandledExceptions={unhandledBgPageException:(e,t)=>{const n="bg.unhandledException";f.error(n,new Error(e),t),this._sendSampledEvent(m,{logger:n,level:i.in.ERROR,message:C(e),extra:t})},unhandledBgPageRejection:(e,t)=>{const n="bg.unhandledRejection";f.error(n,new Error(e),t),this._sendSampledEvent(m,{logger:n,level:i.in.ERROR,message:S(e),extra:t})},unhandledPopupException:(e,t)=>{const n="popup.unhandledException";f.error(n,new Error(e),t),this._sendEvent({logger:n,level:i.in.ERROR,message:e,extra:t,femetricsMessage:v(e)})},unhandledPopupRejection:(e,t)=>{const n="popup.unhandledRejection";f.error(n,new Error(e),t),this._sendEvent({logger:n,level:i.in.ERROR,message:e,extra:t,femetricsMessage:v(e)})}},this.csUnhandled=({message:e,femetricsExtra:t,error:n,printAsWarning:r})=>{const o="cs.unhandled";r?f.warn(o,new Error(e)):f.error(o,new Error(e)),this._sendEvent({logger:o,level:r?i.in.WARN:i.in.ERROR,message:e,femetricsExtra:t,sendToFemetrics:!0,extra:n?(0,p.nG)({},n):void 0})},this.csCrash=(0,o.hz)(((e,t)=>{f.error("cs.crash",new Error(e)),this._sendEvent({logger:"cs.crash",level:i.in.ERROR,message:e,femetricsExtra:t})})),this.storageMigrationSucceeded=()=>{this._send("bg.storageMigration.success",i.in.INFO,{})},this.storageMigrationFailed=this._sendException({logger:"bg.storageMigration.failure",level:i.in.ERROR}),this.storageApplyChangesFailed=this._sendException({logger:"bg.storage.applyChanges.failure",level:i.in.ERROR}),this.cardShowAction=()=>{this._sendSampled(g,"cs.editor.card.show",i.in.INFO)},this.cardHideAction=()=>{this._sendSampled(g,"cs.editor.card.hide",i.in.INFO)},this.cardReplacementAction=()=>{this._sendSampled(g,"cs.editor.card.replacement",i.in.INFO)},this.cardAddToDictAction=()=>{this._sendSampled(g,"cs.editor.card.addToDict",i.in.INFO)},this.cardIgnoreAction=()=>{this._sendSampled(g,"cs.editor.card.ignore",i.in.INFO)},this.synonymCardShowAction=e=>{this._sendSampled(g,"cs.editor.synonym.show",i.in.INFO,{notFoundCard:e})},this.synonymCardHideAction=e=>{this._sendSampled(g,"cs.editor.synonym.hide",i.in.INFO,{notFoundCard:e})},this.synonymReplacementAction=()=>{this._sendSampled(g,"cs.editor.synonym.replacement",i.in.INFO)},this.dictCardShowAction=()=>{this._sendSampled(g,"cs.editor.dict.show",i.in.INFO)},this.dictCardHideAction=()=>{this._sendSampled(g,"cs.editor.dict.hide",i.in.INFO)},this.couldNotParseTransform=(e,t)=>{this._send("cs.cards.transforms.parse.error",i.in.WARN,{transformHTML:e,fallbackParseSuccessful:t})},this.disabledTabLoad=e=>{this._sendUsage("usage.loadOnDisabledTab",i.in.INFO,{accountType:e})},this.disabledTabByUserLoad=e=>{this._sendUsage("usage.loadOnDisabledByUserTab",i.in.INFO,{accountType:e})},this.initSession=(e,t,n,r)=>{this._sendUsage("usage.session.init",i.in.INFO,{isTopSite:(0,u.ZE)(e),accountType:t,fieldType:n,fieldSupported:r}),this._sendMetric("usage.session.init",{domain:e,accountType:t,fieldType:n,fieldSupported:r})},this.cardFirstInteraction=(e,t)=>{this._sendUsage("usage.card.interaction",i.in.INFO,{accountType:e,fieldType:t})},this.gnar={nextPingDateWriteError:e=>this._send("bg.gnarTracker.nextPingDateWriteError",i.in.ERROR,{error:e}),sendError:(e,t)=>this._sendException({logger:"bg.gnarTracker.sendError",level:i.in.ERROR,femetricsExtra:{context:t}})(e,{eventName:t}),trackBeforeSetUser:e=>this._send("bg.gnarTracker.trackBeforeSetUser",i.in.INFO,{millisSinceInit:e}),errorSetUser:this._sendException({logger:"bg.gnarTracker.errorSetUser",level:i.in.ERROR})},this.productMetricsClient={updateConfigurationFailed:(e,t)=>{this._sendException({logger:"bg.productMetricsClient.setUserInfoFailed",level:i.in.ERROR,femetricsExtra:{context:t}})(e,{error:e,context:t})}},this._sendGdocsPageExecutionException=this._sendException({logger:"cs.gdocs.pageExecution.exception",level:i.in.ERROR}),this.gdocs={nonDocumentPage:e=>{this._sendEvent({logger:"cs.gdocs.canvas.nonDocumentPage",level:i.in.WARN,sendToFemetrics:!0,femetricsMessage:`isViewMode: ${e.isViewMode}`,femetricsExtra:{context:e.pageType}})},documentTabInfo:(0,o.hz)((e=>{this.sendFemetricsRate("gdocsDocumentTabInfo",{hasTabQuery:e})})),pageExecutionException:(e,t)=>this._sendGdocsPageExecutionException(e,{isGDocsCanvas:t}),disabledBeforeForceEnable:(0,o.hz)((e=>this._send("cs.gdocs.disabledBeforeForceEnable",i.in.INFO,{disabledDate:e}))),enabledBeforeForceEnable:(0,o.hz)((()=>this._send("cs.gdocs.enabledBeforeForceEnable",i.in.INFO))),replacementSelectionErrorInfo:e=>{this._sendFemetricsRate("gdocsReplacementSelectionErrorInfo",e)},textChangeTime:e=>{this.sendFemetricsRate("gdocsTextChangeTime",e,["os"])},eventTargetFail:(0,o.hz)(this._sendException({logger:"cs.gdocs.eventTargetFail",level:i.in.ERROR})),sidebarFail:(0,o.hz)(((e,t)=>this._sendException({logger:"cs.gdocs.getSidebarFail",level:i.in.ERROR})(e,{type:t}))),layoutTreeAvailability:e=>{this.sendFemetricsRate("gdocsInternalsLayoutTreeAvailability",e)}},this.canvasGdocs={injectedException:(0,o.hz)(this._sendException({logger:"cs.gdocs.canvas.injected.exception",level:i.in.ERROR})),injectedError:(0,o.HO)(((e,t,n,r)=>this._sendEvent({logger:"cs.gdocs.canvas.injected.error",level:i.in.ERROR,message:t,extra:{json:(0,p.jA)({context:e,data:n})},gdocsExtra:r,femetricsExtra:{context:e}})),(e=>e)),injectedInfo:(0,o.HO)(((e,t,n)=>this._sendEvent({logger:"cs.gdocs.canvas.injected.info",eventContext:e,level:i.in.INFO,sendToFemetrics:!0,gdocsExtra:t,extra:{json:(0,p.jA)({context:e,data:n})},femetricsExtra:{context:e}})),(e=>e)),initializationException:(0,o.hz)(((e,t,n)=>this._sendException({logger:"cs.gdocs.canvas.init.exception",level:i.in.ERROR,gdocsExtra:n,femetricsExtra:{type:t}})(e,{type:t}))),initializationTimeout:(0,o.hz)(((e,t,n)=>this._sendEvent({logger:"cs.gdocs.canvas.init.timeout",level:i.in.ERROR,message:`Initialization for ${t} timeout: ${e}ms`,extra:{json:(0,p.jA)({type:t})},gdocsExtra:n,femetricsExtra:{type:t}}))),creatingException:(0,o.hz)(((e,t)=>this._sendEvent({logger:"cs.gdocs.canvas.creating.exception",level:i.in.ERROR,message:e,gdocsExtra:t}))),initInterrupted:(0,o.hz)((e=>this._sendEvent({logger:"cs.gdocs.canvas.interrupted",level:i.in.ERROR,message:"Interrupted",gdocsExtra:e}))),dataSourceException:(0,o.hz)(((e,t)=>this._sendException({logger:"cs.gdocs.canvas.dataSource.exception",level:i.in.ERROR,femetricsExtra:{type:t}})(e,{type:t}))),error:(0,o.HO)(((e,t,n,r,o)=>this._sendEvent({logger:"cs.gdocs.canvas.error",level:i.in.ERROR,message:t,extra:(0,p.nG)({type:e,message:t,data:r},n),femetricsExtra:{type:e,mappingName:null==o?void 0:o.mappingName}})),(e=>e),((e,t,n,r,i)=>{this._sendFemetricsRate("gdocsError",{type:e,message:t&&t.substring(0,20)||"other",mappingName:null==i?void 0:i.mappingName,selectionDiff:"selectionService"===e?null==r?void 0:r.selectionDiff:void 0})})),warning:(0,o.HO)(((e,t,n)=>this._sendEvent({logger:"cs.gdocs.canvas.warning",level:i.in.WARN,message:t,extra:(0,p.nG)({type:e,message:t,data:n})})),(e=>e)),trackSessionFinalResult:(0,o.hz)(((e,t)=>this._sendEvent({logger:"cs.gdocs.canvas.start.result",level:i.in.INFO,gdocsExtra:t,sendToFemetrics:!0,femetricsExtra:{type:e}}))),started:e=>this._sendEvent({logger:"cs.gdocs.canvas.started",level:i.in.INFO,sendToFemetrics:!0,gdocsExtra:e}),creating:e=>this._sendEvent({logger:"cs.gdocs.canvas.creating",level:i.in.INFO,sendToFemetrics:!0,gdocsExtra:e}),showLongDocPopup:e=>this._sendEvent({logger:"cs.gdocs.canvas.longDocPopup",level:i.in.INFO,sendToFemetrics:!0,gdocsExtra:e}),showSharedDocPopup:e=>this._sendEvent({logger:"cs.gdocs.canvas.sharedDocPopup",level:i.in.INFO,sendToFemetrics:!0,gdocsExtra:e}),debugPageSearchFail:(0,o.hz)((e=>this._sendEvent({logger:"cs.gdocs.canvas.pageSearch.debug",level:i.in.INFO,extra:{json:(0,p.jA)({data:e})}}))),debugMappingFail:(0,o.hz)((e=>this._sendEvent({logger:"cs.gdocs.canvas.mapping.debug",level:i.in.INFO,extra:{json:(0,p.jA)({data:e})}}))),buildTextMapPerf:this._createPerfLogger("cs.gdocs.canvas.perf.textMap",30),findPage:this._createPerfLogger("cs.gdocs.canvas.perf.findPage",100),mappingPerf:e=>new d.W((t=>{1e-4>Math.random()&&this._sendFemetricsTimer("gdocsMapping",t,"summary",Object.assign(Object.assign({},e),{mapPageCount:_.getMapPageCount(e)}))})),fullTextNotFound:(0,o.hz)((()=>this._send("cs.gdocs.canvas.fullTextNotFound",i.in.WARN))),equationsRenderInfo:e=>{this._sendFemetricsRate("gdocsEquationsRenderInfo",e)},mapping:({mapPageCount:e,attempts:t,mappingName:n,mode:r,tableMode:i,partialRenderMode:o,renderRTL:s})=>{this._sendFemetricsRate("gdocsMapping",Object.assign({mappingMode:r,mappingName:n,tableMode:i,mapPageCount:e>5?"5+":e,mappingAttempts:t.length,partialRenderMode:o,renderRTL:s},t.reduce(((e,t,n)=>Object.assign(Object.assign({},e),{[`mapping${n}_name`]:t.name,[`mapping${n}_success`]:t.success,[`mapping${n}_mappedPages`]:"number"==typeof t.mappedPageCount&&t.mappedPageCount>5?"5+":t.mappedPageCount})))),["os","userOrganizationType"]),this._sendFemetricsRate("gdocsMapping.short",{mappingName:n},["os","userOrganizationType"])},mappingFailedInfo:e=>{this._sendFemetricsRate("gdocsMappingFailedInfo",e)},mappings:{advanced:{byFeatures:e=>{var{mapPageCount:t,injectedFeatures:n}=e,r=h(e,["mapPageCount","injectedFeatures"]);this._sendFemetricsRate("gdocs.mapping.advanced.byFeatures",Object.assign(Object.assign(Object.assign({},r),R(n)),{mapPageCount:t>5?"5+":t}),["os"])},textCoverage:e=>{this._sendFemetricsRate("gdocs.mapping.advanced.coverage",e)},textCoverageShort:e=>{this._sendFemetricsRate("gdocs.mapping.advanced.coverage.short",e)}}},mappingStats:e=>{this._sendFemetricsRate("gdocsMappingStats",e,["os"])},mappingPageStats:e=>{this._sendFemetricsRate("gdocsMappingPageStats",e,["os"])},mappingStatsByTextLength:e=>{this._sendFemetricsRate("gdocsMappingStatsByTextLength",e,["os"])},mappingPageStatsByTextLength:e=>{this._sendFemetricsRate("gdocsMappingPageStatsByTextLength",e,["os"])},mappingStatsByTableMode:e=>{this._sendFemetricsRate("gdocsMappingStatsByTableMode",e,["os"])},mappingPageStatsByTableMode:e=>{this._sendFemetricsRate("gdocsMappingPageStatsByTableMode",e,["os"])},mappingMinPageGapsStats:e=>{this._sendFemetricsRate("gdocsMappingMinPageGapsStats",e,["os"])},mappingMaxPageGapsStats:e=>{this._sendFemetricsRate("gdocsMappingMaxPageGapsStats",e,["os"])},mappingSearchStats:e=>{this._sendFemetricsRate("gdocsMappingSearchStats",e,["os"])},partialMappingByPageExperimentUsage:e=>{this._sendFemetricsRate("gdocsPartialMappingByPageExperimentUsage",e,["os"])},atmMappingPerformance:e=>{this._sendFemetricsRate("gdocsATMMappingPerformance",e,["os"])},selectionPatched:e=>{this._sendFemetricsRate("gdocsSelectionPatched",e)},trackFatalPopup:(e,t)=>{this._sendFemetricsRate("gdocsTrackFatalPopup",{reason:(null==e?void 0:e.isBrowserExtFault)?"extension":"google",content:String(null==e?void 0:e.textContent).slice(0,10),context:t?"started":"notStarted"})}},this.gmailThreadContext={warning:(0,o.HO)(((e,t,n)=>this._sendEvent({logger:"cs.threadContext.gmail.warning",level:i.in.WARN,message:t,extra:{json:(0,p.jA)({type:e,message:t,data:n})}})),(e=>e))},this.autoFix={featureToggleClick:(e,t)=>{this._sendFemetricsRate("autoFixFeatureToggleClick",{autoFixFeatureState:e,autoFixFeatureTogglePlacement:t})},attemptToApplyInParallel:e=>{this._sendFemetricsRate("autoFixAttemptToApplyInParallel",{autoAlerApplierVersion:e})},attemptToApplyInParallelError:(0,o.hz)(((e,t)=>this._sendEvent({logger:"cs.autoFix.attemptToApplyInParallelError",level:i.in.ERROR,sendToFemetrics:!0,autoFixExtra:{domain:e,autoAlerApplierVersion:t}})))},this.autoApply={inconsistentRevertAlertError:(0,o.hz)(((e,t)=>this._sendEvent({logger:"cs.autoApply.inconsistentRevertAlert",level:i.in.ERROR,sendToFemetrics:!0,autoApplyExtra:{domain:e,pname:t}}))),triggered:()=>{this._sendFemetricsRate("autoApplyTriggered")},cardLooked:()=>{this._sendFemetricsRate("autoApplyCardLooked")},revertClick:()=>{this._sendFemetricsRate("autoApplyRevertClick")},reverted:()=>{this._sendFemetricsRate("autoApplyReverted")},affectedByTextChange:()=>{this._sendFemetricsRate("autoApplyAffectedByTextChange")},acceptClick:()=>{this._sendFemetricsRate("autoApplyAcceptClick")},settingsClick:e=>{this._sendFemetricsRate("autoApplySettingsClick",{autoApplySettingsMenuState:e})},turnOffUntilNextView:()=>{this._sendFemetricsRate("autoApplyTurnOffUntilNextView")},integrationCreated:()=>{this._sendFemetricsRate("autoApplyIntegrationCreated")}},this.knowledgeHub={error:(0,o.HO)(((e,t,n,r)=>this._sendEvent({logger:"cs.knowledgeHub.error",level:i.in.ERROR,message:t,extra:{json:(0,p.jA)({type:e,message:t,domain:n,data:r})}})),(e=>e)),integrationCreated:(e,t)=>{this._sendFemetricsRate("knowledgeHubIntegrationCreated",{site:e,integrationMode:t})},relatedMaterialsClick:e=>{this._sendFemetricsRate("knowledgeHubRelatedMaterialsClick",{site:e})},pointPeopleClick:(e,t)=>{this._sendFemetricsRate("knowledgeHubPointPeopleClick",{site:e,pointPeopleClickType:t})},descriptionCopyClick:e=>{this._sendFemetricsRate("knowledgeHubDescriptionCopyClick",{site:e})},suggestEditButtonClick:e=>{this._sendFemetricsRate("knowledgeHubSuggestEditButtonClick",{site:e})},featureToggleClick:(e,t)=>{this._sendFemetricsRate("knowledgeHubFeatureToggleClick",{site:e,featureState:t})},bgApiError:(e,t)=>{const n="bg.knowledgeHub.error",r=y(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:i.in.ERROR,extra:{json:r},sendToFemetrics:!0})},onboardingPopupShow:(e,t)=>{this._sendFemetricsRate("knowledgeHubOnboardingPopupShow",{onboardingType:e,site:t})},onboardingNextButtonClick:(e,t,n)=>{this._sendFemetricsRate("knowledgeHubOnboardingNextButtonClick",{onboardingType:e,site:t,step:n})},onboardingSkipButtonClick:(e,t,n)=>{this._sendFemetricsRate("knowledgeHubOnboardingSkipButtonClick",{onboardingType:e,site:t,step:n})},onboardingCloseButtonClick:(e,t,n)=>{this._sendFemetricsRate("knowledgeHubOnboardingCloseButtonClick",{onboardingType:e,site:t,step:n})}},this._cbLog=e=>(0,o.HO)(((t,n,r,i)=>this._sendEvent({logger:"cs.citationBuilder",level:e,citationBuilderExtra:r,message:n,extra:(0,p.nG)(void 0,i)})),(e=>e)),this.citationBuilder={error:this._cbLog(i.in.ERROR),warning:this._cbLog(i.in.WARN),info:this._cbLog(i.in.INFO)},this.g2LoggerFactory=({integrationName:e,level:t})=>({message:n,data:r={},error:i})=>{this._sendEvent({logger:"cs.g2",level:t,message:n,extra:Object.assign({},i?(0,p.nG)(r,i):{json:(0,p.jA)(r)}),g2Extra:{integrationName:e}})},this.performance={processInput:this._createPerfLogger("cs.fluid.processInput",100),processAlerts:this._createPerfLogger("cs.fluid.processAlerts",10),processFilterChange:this._createPerfLogger("cs.fluid.processFilterChange",10),csInitialized:(e,t,n,r,i)=>{this._createPerfLogger("cs.initialized").custom({_tag:c.mW.Data.Tagged.Types.csInit,domain:self.location.host,hideUserInfo:!0,loadTime:e,initTime:t,pageLoadTime:n,injectTime:r,error:i?{message:i.message,stack:i.stack}:void 0})},viewInjection:e=>{this._createPerfLogger("cs.viewInjection").custom(Object.assign({_tag:c.mW.Data.Tagged.Types.viewInjection},e))}},this.autocorrect={responseTime:this._createPerfLogger("cs.autocorrect.responseTime",10),predictTime:this._createPerfLogger("cs.autocorrect.predictTime",10),integrationCreated:()=>{this._sendFemetricsRate("autoCorrectIntegrationCreated")},triggered:()=>{this._sendFemetricsRate("autoCorrectTriggered")},cardLooked:()=>{this._sendFemetricsRate("autoCorrectCardLooked")},revertClick:()=>{this._sendFemetricsRate("autoCorrectRevertClick")},reverted:()=>{this._sendFemetricsRate("autoCorrectReverted")},acceptClick:()=>{this._sendFemetricsRate("autoCorrectAcceptClick")},settingsClick:e=>{this._sendFemetricsRate("autoCorrectSettingsClick",{autoCorrectSettingsMenuState:e})},turnOffUntilNextView:()=>{this._sendFemetricsRate("autoCorrectTurnOffUntilNextView")},affectedByTextChange:()=>{this._sendFemetricsRate("autoCorrectAffectedByTextChange")}},this.assistant={initTime:this._createPerfLogger("cs.assistant.initTime",1),renderTime:this._createPerfLogger("cs.assistant.renderTime",1),openTime:this._createPerfLogger("cs.assistant.openTime",1),alertManagerError:this._sendException({logger:"cs.assistant.alertManagerError",level:i.in.ERROR})},this.proofit={availabilityQuotaError:e=>{this._sendEvent({logger:"cs.proofit.availability_quota_error",level:i.in.ERROR,extra:{json:JSON.stringify(e)}})},submitResponseError:e=>{this._sendEvent({logger:"cs.proofit.submit_response_error",level:i.in.ERROR,extra:{json:JSON.stringify(e)}})},progressError:e=>{this._sendEvent({logger:"cs.proofit.progress_error",level:i.in.ERROR,extra:{json:JSON.stringify(e)}})},progressRejected:e=>{this._sendEvent({logger:"cs.proofit.progress_rejected",level:i.in.WARN,extra:{json:JSON.stringify(e)}})}},this.oauthExchangeError=e=>{this._send("bg.oauth.exchange.error",i.in.ERROR,{message:e})},this.chipmunkAPIError=e=>{this._send("bg.chipmunk.api.error",i.in.ERROR,{message:e})},this.iterable={sideEffectGetIterableClientAccessToken:(e,t,n)=>{this._sendFemetricsRate("sideEffectGetIterableClientAccessToken",{status:e,type:t,statusCode:n})},refreshIterableClientAccessToken:(e,t)=>{this._sendFemetricsRate("refreshIterableClientAccessToken",{status:e,statusCode:t})},iterableGetIPMByTrigger:e=>{this._sendFemetricsRate("iterableGetIPMByTrigger",{trigger:e})},iterableGetIPM:(e,t,n)=>{this._sendFemetricsRate("iterableGetIPM",{status:e,statusCode:t,retryCount:n})},iterableIPMOpen:(e,t,n)=>{this._sendFemetricsRate("iterableIPMOpen",{status:e,statusCode:t,retryCount:n})},iterableIPMDelete:(e,t,n,r)=>{this._sendFemetricsRate("iterableIPMDelete",{status:e,action:t,statusCode:n,retryCount:r})},iterableIPMExpired:()=>{this._sendFemetricsRate("iterableIPMExpired")},iterableIPMClick:(e,t,n)=>{this._sendFemetricsRate("iterableIPMClick",{status:e,statusCode:t,retryCount:n})},iterableIPMClose:(e,t,n,r)=>{this._sendFemetricsRate("iterableIPMClose",{status:e,action:t,statusCode:n,retryCount:r})},iterableCustomEvent:(e,t,n)=>{this._sendFemetricsRate("iterableCustomEvent",{status:e,statusCode:t,retryCount:n})},iterableUserUpdate:(e,t,n)=>{this._sendFemetricsRate("iterableUserUpdate",{status:e,statusCode:t,retryCount:n})},iterableIPMFailed:()=>{this._sendFemetricsRate("iterableIPMFailed")},logIterableApi:e=>{this._sendEvent({logger:"bg.iterable.api",level:i.in.WARN,extra:{json:e},sendToFemetrics:!0})}},this.mise={getIterableAccessToken:(e,t)=>{this._sendFemetricsRate("getIterableClientAccessToken",{status:e,statusCode:t})},logMISeApi:e=>{this._sendEvent({logger:"bg.mise.api",level:i.in.WARN,extra:{json:e},sendToFemetrics:!0})}},this.alerts={inconsistentAlertWithText:(e,t)=>{this._sendFemetricsRate("inconsistentAlertWithText",{context:e,source:t})},cannotShowInlineCard:(e,t)=>{this._sendFemetricsRate("cannotShowInlineCard",{context:e,domain:(0,u.FN)(t)})},showInlineCard:e=>{this._sendFemetricsRate("showInlineCard",{domain:(0,u.FN)(e)})}},this.upgradeHooks={showUpgradeHook:(e,t,n)=>{this._sendFemetricsRate("showPremiumButton",{upgradeHookName:e,upgradeHookSlot:t,upgradeHookVariant:n})},clickUpgradeHook:(e,t,n)=>{this._sendFemetricsRate("clickPremiumButton",{upgradeHookName:e,upgradeHookSlot:t,upgradeHookVariant:n})}},this.upgradeHooksExp={upgradeHookExperimentPeek:(e,t,n)=>{this._sendFemetricsRate("upgradeHookExperiment",{experimentName:e,experimentGroup:t,domain:(0,u.FN)(n)})},upgradeHookFirstHiddenPremiumAlertReceived:(e,t,n)=>{this._sendFemetricsRate("upgradeHookFirstHiddenPremiumAlertReceived",{experimentName:e,experimentGroup:t,domain:(0,u.FN)(n)})},upgradeHookFirstSDUIReceivedFromCAPI:(e,t,n)=>{this._sendFemetricsRate("upgradeHookFirstSDUIReceivedFromCAPI",{experimentName:e,experimentGroup:t,domain:(0,u.FN)(n)})},upgradeHookFeedRendered:(e,t,n)=>{this._sendFemetricsRate("upgradeHookFeedRenderedWithUpgradeCard",{experimentName:e,experimentGroup:t,domain:(0,u.FN)(n)})},upgradeHookCardShown:(e,t,n)=>{this._sendFemetricsRate("upgradeHookCardShown",{experimentName:e,experimentGroup:t,domain:(0,u.FN)(n)})}},this.sendToTabFailed=(e,t)=>{this._sendSampledEvent(m,{logger:"bg.connection.sendToTabFailed",level:i.in.ERROR,message:"send message to tab emit an error",extra:(0,p.nG)(e,t)})},this.debugReports={downloadSuccessfully:(e,t)=>{const n="debugReports.downloadSuccessfully",r=y(n,{envContext:e,downloadEnvContext:t});this._sendEvent({logger:n,level:i.in.INFO,extra:{json:r},sendToFemetrics:!0})},downloadTimeout:(e,t)=>{const n="debugReports.downloadTimeout",r=y(n,{envContext:e,downloadEnvContext:t});this._sendEvent({logger:n,level:i.in.WARN,extra:{json:r},sendToFemetrics:!0})},downloadError:(e,t)=>{const n="debugReports.downloadError",r=y(n,{envContext:e,downloadEnvContext:t});this._sendEvent({logger:n,level:i.in.WARN,extra:{json:r},sendToFemetrics:!0})}},this.dialectSettingsError=e=>{this._sendException({logger:"bg.api.dialectService",level:i.in.ERROR})(e)},this.debugSelectiveLogoutGate=()=>{this._sendEvent({logger:"bg.user.debugSelectiveLogoutGate",level:i.in.INFO})},this.logoutSuccess=(e,t)=>{this._sendEvent({logger:"bg.user.logoutSuccess",level:i.in.INFO,extra:{json:JSON.stringify({oauth2ApiGate:e,reason:t})}})},this.logoutError=e=>{this._sendException({logger:"bg.user.logout",level:i.in.ERROR})(e)},this.logoutLastAuthnEventError=e=>{this._sendException({logger:"bg.user.logout.lastAuthnEvent",level:i.in.ERROR})(e)},this.serializeTransportMsgFailed=()=>{this._sendFemetricsRate("error",{logger:"bg.serialize.transport.message.failed",level:i.in.ERROR,message:"Failed to serialize rpc message"})},this.hiddenFieldInjectionFailed=()=>{this._sendFemetricsRate("error",{logger:"cs.hiddenField.injection.failed",level:i.in.ERROR,domain:(0,u.FN)()})},this.skipIntegrationForNonHtmlPage=()=>{this._sendFemetricsRate("info",{logger:"cs.skip.integration.for.non.html.page",domain:k(self.location.hostname)})},this.backendManagedStorage={error:(e,t)=>{this._sendException({logger:"bg.backendManagedStorage",level:i.in.ERROR})(t,void 0,e)},warn:(e,t)=>{const n=y("backendManagedStorage.warn",t);this._sendEvent({logger:"bg.backendManagedStorage",level:i.in.WARN,message:e,extra:{json:n}})},info:e=>{this._sendEvent({logger:"bg.backendManagedStorage",level:i.in.INFO,message:e})}},this.cookiesAccessibility={enabled:()=>{this.sendFemetricsRate("cookiesAccessibility",{enabled:!0},["os","osVersion","userOrganizationType"])},disabled:(e,t)=>{this.sendFemetricsRate("cookiesAccessibility",{enabled:!1,reason:e},["os","osVersion","userOrganizationType"]),t&&this._sendEvent({logger:"bg.cookiesInaccessibile",level:i.in.ERROR,message:t})}},this.replacement={info:e=>{this.sendFemetricsRate("replacementInfo",e,["os","userOrganizationType"])},infoShort:e=>{this.sendFemetricsRate("replacementInfoShort",e)},infoShortExtended:e=>{this.sendFemetricsRate("replacementInfoShortExtended",e)},approximateMatched:e=>{this.sendFemetricsRate("replacementInfo.approximateMatched",e)},format:{short:e=>{this.sendFemetricsRate("replacementInfo.format.short",e)},alert:e=>{this.sendFemetricsRate("replacementInfo.format.alert",e)},style:e=>{this.sendFemetricsRate("replacementInfo.format.style",e)},hyperlinks:e=>{this.sendFemetricsRate("replacementInfo.format.hyperlinks",e)},smartChips:e=>{this.sendFemetricsRate("replacementInfo.format.smartChips",e)},footnotes:e=>{this.sendFemetricsRate("replacementInfo.format.footnotes",e)}},gOSInfo:e=>{this.sendFemetricsRate("replacementInfo.gOS",e)},gdocs:(e,t)=>{this.sendFemetricsRate("replacementInfo.gdocs",e,["os"]);for(const[n,r]of t)this.sendFemetricsRate(`replacementInfo.gdocs.byGate.${n}`,Object.assign(Object.assign({},e),{enabled:r}),["os"])},gdocsByFeatures:e=>{var{injectedFeatures:t}=e,n=h(e,["injectedFeatures"]);this.sendFemetricsRate("replacementInfo.gdocs.advanced.byFeatures",Object.assign(Object.assign(Object.assign({},n),R(t)),{hasLayout:void 0}),["os"])},contentEditable:e=>{this.sendFemetricsRate("replacementInfo.contentEditable",e)},sessionCount:e=>{this.sendFemetricsRate("replacementSessionCount",e)},sessionStats:e=>{this.sendFemetricsRate("replacementSessionStats",e)},sessionStatsBySource:e=>{this.sendFemetricsRate("replacementSessionStatsBySource",e)},sessionStatsByReplacementType:e=>{this.sendFemetricsRate("replacementSessionStatsByReplacementType",e)},alert:e=>{this.sendFemetricsRate("replacementInfo.alert",e)},alertExtended:e=>{this.sendFemetricsRate("replacementInfo.alertExtended",e)}},this.gOS={info:(e,t,n)=>{this._sendEvent({logger:`gOS.${e}`,level:i.in.INFO,message:t,extra:n})},warn:(e,t,n)=>{this._sendEvent({logger:`gOS.${e}`,level:i.in.WARN,message:t,extra:n})},error:(e,t,n)=>{this._sendEvent({logger:`gOS.${e}`,level:i.in.ERROR,message:t,extra:(0,p.nG)(n)})}}}_send(e,t,n){const r=y(e,n);try{this._sendFelog(e,String(null==n?void 0:n.message),t,n?{json:r}:void 0)}catch(t){f.warn(`Failed to send felog for ${e}: '${(0,a.H)(t)?t.message:"undefined"}'`,t)}}_sendUsage(e,t,n){if(this._sendUsageMetrics&&this._sendUsageMetricsSamplingRatio>Math.random())try{this._sendFelogUsage(e,"",t,n)}catch(t){f.warn(`Failed to send usage felog for ${e}: '${(0,a.H)(t)?t.message:"undefined"}'`,t)}}_sendSampled(e,t,n,r){e>Math.random()&&this._send(t,n,r)}_sendSampledEvent(e,t){e>Math.random()&&this._sendEvent(t)}_sendMetric(e,t){this._sendFelogMetricEvent({metricName:e,data:t})}sendCrashLogs(e,t){try{this._sendFelogCrashLogs(t)}catch(t){f.warn(`Failed to send crash data data for ${e}: '${(0,a.H)(t)?t.message:"undefined"}'`,t)}}setUserInfo(e){this._setUserInfo(e)}setContainerId(e){this._setContainerId(e)}enableDataSharing(){this._enableDataSharing()}notificationShown(e){this._send("cs.notification.show",i.in.INFO,{type:e})}notificationHide(e){this._send("cs.notification.hide",i.in.INFO,{type:e})}}var x,E;function S(e){return e?"Failed to fetch"===e?x.FAILED_FETCH:"Could not establish connection. Receiving end does not exist."===e||e.includes("No frame with id")||e.includes("No tab with id")||e.startsWith("Frame with ID")&&e.endsWith("was removed.")?x.TAB_NOT_EXISTS:e.startsWith("IO error:")?x.IO_ERROR:"The browser is shutting down."===e?x.BROWSER_SHUTTING_DOWN:"No available storage method found."===e?x.NO_STORAGE_METHOD_FOUND:"this._firefox is undefined"===e?x.FIREFOX_UNDEFINED:"Load failed"===e?x.LOAD_FAILED:"Unexpected user type for login reminder"===e?x.UNEXPECTED_USER_TYPE:x.OTHER:x.EMPTY}function C(e){return e?e.includes("executing a cancelled action")?E.ACTION_CANCELED:"Script error."===e?E.SCRIPT_ERROR:"object unsubscribed"===e?E.OBJECT_UNSUBSCRIBED:e.includes("is not a function")?E.INVALID_FUNCTION:E.OTHER:E.EMPTY}function k(e){const t=t=>e.endsWith(t),n=(0,u.FN)(e);if("other"===n){const e=["pubmatic.com","quantumdex.io","gumgum.com","aniview.com","amazon-adsystem","nextmillmedia.com","doubleclick.net","adsrvr.org","adnxs.com","msn.com"].find(t);if(e)return e}return n}function R(e){return{strikethrough:e.useStrikethroughFiltering,codeBlocks:e.useCodeBlockFiltering}}!function(e){let t;!function(e){e.fromPartial=e=>e}(t=e.Mock||(e.Mock={}))}(w||(w={})),function(e){e.FAILED_FETCH="FailedToFetch",e.TAB_NOT_EXISTS="TabNotExists",e.IO_ERROR="IOError",e.BROWSER_SHUTTING_DOWN="BrowserShuttingDown",e.FIREFOX_UNDEFINED="FirefoxUndefined",e.LOAD_FAILED="LoadFailed",e.UNEXPECTED_USER_TYPE="UnexpectedUserType",e.NO_STORAGE_METHOD_FOUND="NoStorageMethodFound",e.EMPTY="Empty",e.OTHER="Other"}(x||(x={})),function(e){e.ACTION_CANCELED="ActionCanceled",e.SCRIPT_ERROR="ScriptError",e.OBJECT_UNSUBSCRIBED="ObjectUnsubscribed",e.INVALID_FUNCTION="InValidFunction",e.EMPTY="Empty",e.OTHER="Other"}(E||(E={}))},65054:(e,t,n)=>{n.d(t,{r:()=>r});const r="tracking/RPC"},78461:(e,t,n)=>{n.d(t,{_:()=>s});var r=n(27794),i=n(77141),o=n(65054);function s(e,t=i.Y.create("lib.tracking.call.transport")){return new Proxy({},{get:(n,i)=>{if("enableDataSharing"!==i)return(...n)=>{Promise.race([e.api.trackCall(o.r,[i,...n]).then((()=>null)),(0,r.gw)(1e4).then((()=>new Error("timeout call through bg page")))]).then((e=>e&&t.warn("tracking call timeout",e))).catch((e=>t.warn("tracking call failed, reason:",e)))}}})}},96254:(e,t,n)=>{n.d(t,{W:()=>r});class r{constructor(e){this._onMeasure=e}measure(e){const t=performance.now();let n=!1;try{const r=e();return n=!0,r}finally{this._onMeasure(performance.now()-t,n)}}async measureAsync(e){const t=performance.now();let n=!1;try{const r=await e();return n=!0,r}finally{this._onMeasure(performance.now()-t,n)}}}},28464:(e,t,n)=>{n.d(t,{Rv:()=>r,mW:()=>o});var r,i,o,s=n(95907),a=n(35134);!function(e){function t(){return{dummy:!0,startMeasure:()=>({endMeasure:()=>{},cancelMeasure:s.EI}),measure:e=>e(),measureAsync:e=>e(),custom:s.EI}}e.dummy=t,e.dummyFactoryInitialization=()=>()=>t()}(r||(r={})),function(e){e.dummy={flushMeasures:e=>[],measure:(e,t)=>t(),startMeasure:e=>({endMeasure(){},cancelMeasure(){}})}}(i||(i={})),function(e){let t;!function(e){let t;!function(e){let t;!function(e){e.stats="stats",e.csInit="csInit",e.viewInjection="viewInjection"}(t=e.Types||(e.Types={}))}(t=e.Tagged||(e.Tagged={}))}(t=e.Data||(e.Data={})),e.getStats=function(e){if(0===e.length)return{ct:0};{const t=e.reduce(((e,t)=>Math.min(e,t)),Number.MAX_VALUE),n=e.reduce(((e,t)=>Math.max(e,t)),Number.MIN_VALUE),r=e.length>=6?(0,a.J6)(e):void 0;return{ct:e.length,min:t,max:n,range:n-t,avg:r,stddev:void 0!==r&&e.length>1?(0,a.m)(e,r):void 0}}}}(o||(o={}))},19282:(e,t,n)=>{n.d(t,{FN:()=>o,ZE:()=>i});var r=n(90655);function i(e){return s.includes(e)}function o(e=(0,r.ge)(),t="other"){var n;return i(e)?null!==(n=function(e){return s.getTopSiteId(e)}(e))&&void 0!==n?n:"null":t}const s=new class{constructor(e){function t(e){return`Invalid pattern "${e}": "*" is allowed only at start and/or end position`}this._equal=new Set,this._prefix=[],this._suffix=[],this._infix=[],this._domain=[];for(const n of e)if(n.startsWith("**."))this._domain.push(n.substring(3));else{const e=n.indexOf("*");if(-1===e)this._equal.add(n);else if(e===n.length-1)this._prefix.push(n.substring(0,e));else{if(0!==e)throw new Error(t(n));{const e=n.indexOf("*",1);if(-1===e)this._suffix.push(n.substring(1));else{if(e!==n.length-1)throw new Error(t(n));this._infix.push(n.substring(1,e))}}}}}getTopSiteId(e){var t,n,r,i,o,s,a;return null!==(s=null!==(o=null!==(i=null!==(r=null!==(n=null!==(t=this._equal.has(e)?e:void 0)&&void 0!==t?t:this._domain.find((t=>t===e)))&&void 0!==n?n:(a=this._domain.find((t=>e.endsWith("."+t))))?"**."+a:void 0)&&void 0!==r?r:this._prefix.find((t=>e.startsWith(t))))&&void 0!==i?i:this._suffix.find((t=>e.endsWith(t))))&&void 0!==o?o:this._infix.find((t=>e.includes(t))))&&void 0!==s?s:null}includes(e){return null!==this.getTopSiteId(e)}}(["mail.google.com","translate.google.*","docs.google.com","web.whatsapp.com","facebook.com","outlook.*","linkedin.com","zendesk.*","youtube.com","twitter.com","x.com","messenger.com","*.slack.*","*canvas*","*instructure*","trello.com","editor.wix.com","quizlet.com","mail.yahoo.com","*.force.*","keep.google.com","vk.com","fanyi.baidu.com","app.bullhornstaffing.com","app.qa-world.com","calendar.google.com","papago.naver.com","wordcounter.net","blogger.*","wattpad.com","**.wordpress.com","amazon.*","smallseotools.com","create.kahoot.it","apps.rackspace.com","basecamp.com","varsitytutors.com","canva.com","fanyi.youdao.com","reverso.net","message.alibaba.com","*schoology*","*.blackboard.*","classroom.google.com","*upwork*","business.facebook.com","medium.com","mail.aol.com","workhub.transcribeme.com","github.com","overleaf.com","chat.openai.com","chatgpt.com","**.substack.com","**.atlassian.net","**.greenhouse.io","**.lattice.com","**.latticehq.com","**.salesforce.com","**.force.com","**.zendesk.com","**.microsoftonline.com","**.outlook.com","**.facebook.com","**.messenger.com","**.genesys.com","**.cisco.com","**.avaya.com","**.oraclecloud.com","**.five9.com","**.tawk.to","**.helpscout.com","**.livechat.com","**.intercom.com","**.freshdesk.com","**.liveagent.com","**.hubspot.com","google.com","chat.google.com","classroom.google.com","quillbot.com","notion.so","**.peardeck.com","discord.com","**.officeapps.live.com","student.desmos.com","web.kamihq.com","deepl.com","upwork.com","app.nearpod.com","bard.google.com","instagram.com","teams.microsoft.com","studio.youtube.com","learning.amplify.com","commonlit.org","**.asana.com","reddit.com","forms.office.com","sites.google.com","*amazon.co*","apps.studysync.com","fiverr.com"])},43336:(e,t,n)=>{n.d(t,{jA:()=>a,nG:()=>c});var r=n(9186),i=n(95907),o=n(30468),s=n(80515);function a(e){try{return JSON.stringify(e,((e,t)=>(0,s.pb)(t)))}catch(e){return JSON.stringify({json_error:"Cannot json stringify"})}}function c(e,t){return{json:a(e),exception:t?Object.assign({name:t.name,message:t.message,stack:t.stack?d(t.stack):void 0},(0,o.Kn)(t.extra)?t.extra:{}):void 0}}function u(){return(0,r.O)().browserApi.baseUri}const l={chromium:["<anonymous>","native","unknown location"],firefox:[],safari:["[native code]"]};function d(e,{browser:t=(0,r.O)().config.bundleInfo.browser,extensionBaseUri:n=u()}={}){if(!e)return e;const o=l["chrome"===t||"edge"===t?"chromium":t],s=e=>o.some((t=>e.startsWith(t)))||n&&e.startsWith(n),a=e.split("\n");if("chrome"===t||"edge"===t){const e=[];let t=0;for(;t<a.length&&!a[t].startsWith("    at ");)e.push(a[t]),t++;for(;t<a.length;){const n=(c=a[t],d=void 0,b=void 0,_=void 0,null===(_=null!==(b=null!==(d=p.exec(c))&&void 0!==d?d:h.exec(c))&&void 0!==b?b:f.exec(c))||void 0===_?void 0:_[1]);n?s(n)?e.push(a[t]):e.push("    at <hidden>"):e.push("    <unparsed>"),t++}return e.join("\n")}if("firefox"===t||"safari"===t)return a.map((e=>[e,"firefox"===t?g(e):m(e)])).map((([e,t])=>void 0===t?"<unparsed>":s(t)?e:"<hidden>")).join("\n");var c,d,b,_;(0,i.vE)(t)}const p=/^ {4}at ([^(]*)$/,h=/^ {4}at [^(]* \(([^()]*)\)$/,f=/^ {4}at eval \([^(]* \(([^()]*)\)\)$/;function g(e){return e.split("@",2)[1]}function m(e){var t;return null!==(t=e.split("@",2)[1])&&void 0!==t?t:e}},6686:(e,t,n)=>{function r(){return self.matchMedia&&self.matchMedia("(prefers-color-scheme: dark)").matches}n.d(t,{Y:()=>r})},50796:(e,t,n)=>{n.d(t,{r:()=>l});var r=n(9186),i=n(80510),o=n(27794),s=n(77141),a=n(88872),c=n(8865),u=n(72804);class l{constructor(e,t,n,r=s.Y.create("DebugReportsGetterImpl")){this._envName=e,this._getLogsDefault=t,this._getLogsFallback=n,this._log=r}_getLogMessage(e,t){return t===u.l.fallback?`${e} from ${t}`:e}async _getLogs(e,t,n){const s=(0,r.O)().context;this._log.debug(this._getLogMessage(`start get ${this._envName} logs`,t));try{const r=await Promise.race([e(),(0,o.gw)(n).then((()=>{(0,i.Tb)().debugReports.downloadTimeout(s,this._envName),this._log.warn(this._getLogMessage(`get ${this._envName} logs timeout`,t))}))]);return r?((0,i.Tb)().debugReports.downloadSuccessfully(s,this._envName),this._log.debug(this._getLogMessage(`successfully get ${this._envName}`,t)),r.map((e=>Object.assign(Object.assign({},e),{loggerName:`${this._envName}.${e.loggerName}`})))):void this._log.warn(this._getLogMessage(`${this._envName} logs is not defined`,t))}catch(e){return(0,i.Tb)().debugReports.downloadError(s,this._envName),void this._log.warn(this._getLogMessage(`fail to get ${this._envName} logs`,t),e)}}get envName(){return this._envName}async getLogs(){return await this._getLogs(this._getLogsDefault,u.l.default,c.EU)||(this._getLogsFallback?await this._getLogs(this._getLogsFallback,u.l.fallback,c.q7):void 0)}static getLogsFromSessionStorageFallbackGetter(e,t=(()=>(0,r.O)().browserApi.sessionStorage)){return()=>t().get(e).then((t=>{const n=t[e];return Array.isArray(n)?n.map((e=>{try{return JSON.parse(e)}catch(t){return{level:a.i.WARN,loggerName:l.name,message:"Cannot parsed backup data!",timestamp:e.timestamp,data:{json:e},exeption:t}}})):void 0}))}}},8865:(e,t,n)=>{n.d(t,{EU:()=>i,o1:()=>s,q7:()=>o});var r=n(28705);const i=r.m9(3),o=r.E0,s='Click on "OK," will attempt to download a file with the information needed to investigate the issue you are experiencing. This archive may include domains you have recently visited and the text from the document you are typing in. To minimize the amount of sensitive information you share with us, we recommend that you (1) open a new browser window, (2) visit only the website where you can reproduce this issue, and (3) type in a document that includes only text you are comfortable sharing. For more details, see our Privacy Policy (https://www.grammarly.com/privacy-policy).'},72804:(e,t,n)=>{var r,i;n.d(t,{l:()=>r,v:()=>i}),function(e){e.default="default",e.fallback="fallback"}(r||(r={})),function(e){e.bgHistoryLogs="bgHistoryLogs",e.popupHistoryLogs="popupHistoryLogs",e.csHistoryLogs="csHistoryLogs"}(i||(i={}))},53516:(e,t,n)=>{n.d(t,{E:()=>o,O:()=>i});var r=n(9186);class i extends r.P{static getInstance(){if(void 0===this._instanceCSShared)throw new Error("nonBG Env not inited yet");return this._instanceCSShared}static get isInited(){return void 0!==this._instanceCSShared}static initShared(e){if(void 0!==this._instanceCSShared)throw new Error("nonBG Env already inited");this._instanceCSShared=e,r.P.initShared(e)}}function o(){return i.getInstance()}},62098:(e,t,n)=>{var r=n(59976),i=n(97251)(r);i.push([e.id,"._cWTM9-animatedUnderline{visibility:hidden;position:fixed;}._cWTM9-animatedUnderline:after{content:'';position:absolute;visibility:visible;height:3px;bottom:0;border-radius:10px;background:#488cc8;animation:_Axb1F-showUnderline 1.3s ease forwards}._cWTM9-animatedUnderline._qSuCO-completeAnimation:after{animation:_Axb1F-showUnderline .2s ease forwards}@keyframes _Axb1F-showUnderline{0%{width:0%}100%{width:100%}}._hoLGP-checkAnimatedUnderline{animation:_Axb1F-showUnderline 2s ease forwards;}._hoLGP-checkAnimatedUnderline._qSuCO-completeAnimation{animation:_Axb1F-showUnderline .2s ease forwards}",""]),i.locals={animatedUnderline:"_cWTM9-animatedUnderline",showUnderline:"_Axb1F-showUnderline",completeAnimation:"_qSuCO-completeAnimation",checkAnimatedUnderline:"_hoLGP-checkAnimatedUnderline"},e.exports=i},97251:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&s[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},59976:e=>{e.exports=function(e){return e[1]}},18117:(e,t,n)=>{n.d(t,{N:()=>s,Qt:()=>c,Yt:()=>f,a1:()=>a,ap:()=>o,gM:()=>u,gz:()=>h});var r=n(90023),i=n(72816);function o(e,t){return function(n){return function(r){return e.ap(e.map(r,(function(e){return function(n){return t.ap(e,n)}})),n)}}}function s(e){return function(t){return function(n){return e.ap(e.map(n,(function(e){return function(){return e}})),t)}}}function a(e){return function(t){return function(n){return e.ap(e.map(n,(function(){return function(e){return e}})),t)}}}function c(e){return function(t,n){return function(r){return e.ap(e.map(r,(function(e){return function(n){var r;return Object.assign({},e,((r={})[t]=n,r))}})),n)}}}function u(e){return function(t){return{concat:function(n,r){return e.ap(e.map(n,(function(e){return function(n){return t.concat(e,n)}})),r)}}}}function l(e,t,n){return function(r){for(var i=Array(n.length+1),o=0;o<n.length;o++)i[o]=n[o];return i[n.length]=r,0===t?e.apply(null,i):l(e,t-1,i)}}var d={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(n){return[e,t,n]}}},4:function(e){return function(t){return function(n){return function(r){return[e,t,n,r]}}}},5:function(e){return function(t){return function(n){return function(r){return function(i){return[e,t,n,r,i]}}}}}};function p(e){return i.e$.call(d,e)||(d[e]=l(r.bc,e-1,[])),d[e]}function h(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=t.length,i=p(r),o=e.map(t[0],i),s=1;s<r;s++)o=e.ap(o,t[s]);return o}}function f(e){return function(t){for(var n=Object.keys(t),r=n.length,i=function(e){var t=e.length;switch(t){case 1:return function(t){var n;return(n={})[e[0]]=t,n};case 2:return function(t){return function(n){var r;return(r={})[e[0]]=t,r[e[1]]=n,r}};case 3:return function(t){return function(n){return function(r){var i;return(i={})[e[0]]=t,i[e[1]]=n,i[e[2]]=r,i}}};case 4:return function(t){return function(n){return function(r){return function(i){var o;return(o={})[e[0]]=t,o[e[1]]=n,o[e[2]]=r,o[e[3]]=i,o}}}};case 5:return function(t){return function(n){return function(r){return function(i){return function(o){var s;return(s={})[e[0]]=t,s[e[1]]=n,s[e[2]]=r,s[e[3]]=i,s[e[4]]=o,s}}}}};default:return l((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i={},o=0;o<t;o++)i[e[o]]=n[o];return i}),t-1,[])}}(n),o=e.map(t[n[0]],i),s=1;s<r;s++)o=e.ap(o,t[n[s]]);return o}}},81346:(e,t,n)=>{function r(e){var t=i(e);return function(e){return function(n){return t(n,e)}}}function i(e){return function(t,n){return e.chain(t,(function(t){return e.map(n(t),(function(){return t}))}))}}function o(e){return function(t,n){return function(r){return e.chain(r,(function(r){return e.map(n(r),(function(e){var n;return Object.assign({},r,((n={})[t]=e,n))}))}))}}}n.d(t,{ak:()=>o,bw:()=>i,mU:()=>r})},21147:(e,t,n)=>{n.d(t,{IP:()=>u,MW:()=>l,Uz:()=>i,f7:()=>r,lr:()=>h,ov:()=>o,uZ:()=>c,vD:()=>d,w4:()=>s,yv:()=>p});n(90023);var r=function(e){return{equals:function(t,n){return t===n||e(t,n)}}},i=function(e){return function(t){return r((function(n,r){return t.equals(e(n),e(r))}))}},o="Eq",s={equals:function(e,t){return e===t}},a={equals:function(){return!0}},c=function(){return{concat:function(e,t){return r((function(n,r){return e.equals(n,r)&&t.equals(n,r)}))},empty:a}},u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r((function(t,n){return e.every((function(e,r){return e.equals(t[r],n[r])}))}))},l=function(e){return r((function(t,n){for(var r in e)if(!e[r].equals(t[r],n[r]))return!1;return!0}))},d=(s.equals,s),p=s,h=s},10522:(e,t,n)=>{n.d(t,{DT:()=>a,WB:()=>l,Y$:()=>u,Yo:()=>s});var r=n(81346),i=n(90023),o=n(72816);function s(e){return function(t){return function(n){return e.fromEither(o.Wi(n)?o.t$(t()):o.F2(n.value))}}}function a(e){return function(t,n){return function(r){return e.fromEither(t(r)?o.F2(r):o.t$(n(r)))}}}function c(e){return function(t){return(0,i.ls)(t,e.fromEither)}}function u(e,t){return function(n,r){return function(i){return t.chain(i,(function(t){return e.fromEither(n(t)?o.F2(t):o.t$(r(t)))}))}}}function l(e,t){var n=c(e),i=(0,r.bw)(t);return function(e,t){return i(e,n(t))}}},50271:(e,t,n)=>{function r(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.map(e,n)}))}}}function i(e){return function(t){return function(n){return e.map(n,(function(e){var n;return(n={})[t]=e,n}))}}}function o(e){return function(t,n){return function(r){return e.map(r,(function(e){var r;return Object.assign({},e,((r={})[t]=n(e),r))}))}}}function s(e){return function(t,n){return e.map(t,(function(){return n}))}}function a(e){var t=s(e);return function(e){return t(e,void 0)}}n.d(t,{Ep:()=>a,Hr:()=>o,UI:()=>r,YO:()=>i,as:()=>s})},14231:(e,t,n)=>{n.d(t,{GY:()=>r,ur:()=>i});var r=function(e){return{concat:function(t,n){return e.concat(n,t)}}},i=function(e){return function(t){return function(n){return n.reduce((function(t,n){return e.concat(t,n)}),t)}}}},58303:(e,t,n)=>{n.d(t,{DT:()=>g,DZ:()=>te,Do:()=>ke,EQ:()=>ge,Eh:()=>F,FS:()=>Se,G:()=>f,G5:()=>U,Gg:()=>Ce,Gk:()=>q,Kw:()=>Ne,NG:()=>xe,Qt:()=>Te,RD:()=>Ae,UI:()=>N,Uo:()=>le,WG:()=>Ee,Wi:()=>he,Y3:()=>we,YO:()=>Re,YP:()=>h,ZN:()=>I,ak:()=>Oe,dO:()=>j,fS:()=>_e,g1:()=>M,gW:()=>je,g_:()=>me,hX:()=>ee,ij:()=>ye,of:()=>L,pC:()=>pe,pF:()=>be,pR:()=>A,tS:()=>Pe,uZ:()=>P,wp:()=>$,xH:()=>ve});var r=n(18117),i=n(81346),o=n(10522),s=n(90023),a=n(50271),c=n(72816),u=n(61179),l=n(56164),d=n(25262),p=n(6609),h=c.YP,f=c.G;function g(e){return function(t){return e(t)?f(t):h}}var m=function(e){return"Left"===e._tag?h:f(e.right)},b=function(e,t){return(0,s.zG)(e,N(t))},_=function(e,t){return(0,s.zG)(e,D(t))},v=function(e,t,n){return(0,s.zG)(e,W(t,n))},y=function(e){var t=H(e);return function(e,n){return(0,s.zG)(e,t(n))}},w=function(e,t,n){return(0,s.zG)(e,z(t,n))},x=function(e){var t=ie(e);return function(e,n){return(0,s.zG)(e,t(n))}},E=function(e,t){return(0,s.zG)(e,$(t))},S=function(e,t){return(0,s.zG)(e,ee(t))},C=function(e,t){return(0,s.zG)(e,te(t))},k=function(e,t){return(0,s.zG)(e,Y(t))},R=function(e,t){return(0,s.zG)(e,ne(t))},O=function(e,t){return(0,s.zG)(e,re(t))},T="Option",I=function(e){return{show:function(t){return he(t)?"none":"some(".concat(e.show(t.value),")")}}},F=function(e){return{equals:function(t,n){return t===n||(he(t)?he(n):!he(n)&&e.equals(t.value,n.value))}}},A=function(e){return{equals:F(e).equals,compare:function(t,n){return t===n?0:pe(t)?pe(n)?e.compare(t.value,n.value):1:-1}}},P=function(e){return{concat:function(t,n){return he(t)?n:he(n)?t:f(e.concat(t.value,n.value))},empty:h}},N=function(e){return function(t){return he(t)?h:f(e(t.value))}},j={URI:T,map:b},L=((0,s.OB)(2,(0,a.as)(j)),(0,a.Ep)(j),f),D=function(e){return function(t){return he(t)||he(e)?h:f(t.value(e.value))}},U={URI:T,map:b,ap:_},M={URI:T,map:b,ap:_,of:L},G=(0,s.OB)(2,(function(e,t){return he(e)?h:t(e.value)})),B={URI:T,map:b,ap:_,chain:G},W=function(e,t){return function(n){return he(n)?e:t(e,n.value)}},H=function(e){return function(t){return function(n){return he(n)?e.empty:t(n.value)}}},z=function(e,t){return function(n){return he(n)?e:t(n.value,e)}},V=(0,s.OB)(2,(function(e,t){return he(e)?t():e})),q=V,$=V,K=function(){return h},Y=function(e){return function(t){return he(t)?h:f(e(t))}},Z=G(s.yR),J=(0,d.s4)(h,h),X=function(e){return he(e)?J:(0,d.s4)(function(e){return"Right"===e._tag?h:f(e.left)}(e.value),m(e.value))},Q={URI:T,compact:Z,separate:X},ee=function(e){return function(t){return he(t)?h:e(t.value)?t:h}},te=function(e){return function(t){return he(t)?h:e(t.value)}},ne=function(e){return function(t){return(0,d.s4)(S(t,(0,u.ff)(e)),S(t,e))}},re=function(e){return(0,s.ls)(N(e),X)},ie=function(e){return function(t){return function(n){return he(n)?e.of(h):e.map(t(n.value),f)}}},oe=function(e){return function(t){return he(t)?e.of(h):e.map(t.value,f)}},se={URI:T,map:b,reduce:v,foldMap:y,reduceRight:w,traverse:x,sequence:oe},ae=(0,p.BL)(se,Q),ce=(0,p.Fj)(se,Q),ue=function(){return h},le=m,de={URI:T,fromEither:le},pe=c.pC,he=function(e){return"None"===e._tag},fe=function(e,t){return function(n){return he(n)?e():t(n.value)}},ge=fe,me=ge,be=function(e){return function(t){return he(t)?e():t.value}},_e=be,ve=Z,ye=(i.bw(B),(0,o.WB)(de,B),function(e){return null==e?h:f(e)}),we=function(e){try{return f(e())}catch(e){return h}},xe=function(e){return function(t){return he(t)?h:ye(e(t.value))}},Ee=ge(s.gn,s.yR),Se=ge(s.r5,s.yR);var Ce=function(e){return function(t){return!he(t)&&e(t.value)}},ke=L(c.F4),Re=(0,a.YO)(j),Oe=i.ak(B),Te=(0,r.Qt)(U),Ie=L(c.Xl),Fe=function(e){var t=function(e){return function(t){var n=e(0,c.YM(t));if(he(n))return h;for(var r=[n.value],i=1;i<t.length;i++){var o=e(i,t[i]);if(he(o))return h;r.push(o.value)}return f(r)}}(e);return function(e){return c.Od(e)?t(e):Ie}},Ae=function(e){return Fe((function(t,n){return e(n)}))}(s.yR),Pe=G;var Ne={URI:T,map:b,of:L,ap:_,chain:G,reduce:v,foldMap:y,reduceRight:w,traverse:x,sequence:oe,zero:K,alt:E,extend:k,compact:Z,separate:X,filter:S,filterMap:C,partition:R,partitionMap:O,wither:ae,wilt:ce,throwError:ue},je=function(){return P((0,l.Ps)())}},14944:(e,t,n)=>{n.d(t,{C2:()=>_,Fp:()=>h,Mh:()=>y,N2:()=>g,Uz:()=>a,VV:()=>p,Zt:()=>s,Zy:()=>m,gt:()=>d,iP:()=>u,jG:()=>c,lt:()=>l,r9:()=>v,vX:()=>f});var r=n(21147),i=n(90023),o=function(e){return function(t,n){return t===n||0===e(t,n)}},s=function(e){return{equals:o(e),compare:function(t,n){return t===n?0:e(t,n)}}},a=function(e){return function(t){return s((function(n,r){return t.compare(e(n),e(r))}))}},c=function(){return{concat:function(e,t){return s((function(n,r){var i=e.compare(n,r);return 0!==i?i:t.compare(n,r)}))}}},u=function(){return{concat:c().concat,empty:s((function(){return 0}))}},l=(i.W8,function(e){return function(t,n){return-1===e.compare(t,n)}}),d=function(e){return function(t,n){return 1===e.compare(t,n)}},p=function(e){return function(t,n){return t===n||e.compare(t,n)<1?t:n}},h=function(e){return function(t,n){return t===n||e.compare(t,n)>-1?t:n}},f=function(e){var t=l(e),n=d(e);return function(e,r){return function(i){return!t(i,e)&&!n(i,r)}}},g=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s((function(t,n){for(var r=0;r<e.length-1;r++){var i=e[r].compare(t[r],n[r]);if(0!==i)return i}return e[r].compare(t[r],n[r])}))},m=function(e){return s((function(t,n){return e.compare(n,t)}))};var b={equals:r.w4.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},_=b,v=b,y=b},61179:(e,t,n)=>{n.d(t,{ff:()=>r});n(90023);var r=function(e){return function(t){return!e(t)}}},56164:(e,t,n)=>{n.d(t,{D8:()=>x,DU:()=>g,Fp:()=>u,GY:()=>l,Ps:()=>p,VV:()=>c,g_:()=>b,l7:()=>y,lG:()=>_,mL:()=>m,n_:()=>d,ny:()=>v,ur:()=>h,xk:()=>w,xx:()=>f});var r,i=n(90023),o=n(72816),s=n(14231),a=n(14944),c=function(e){return{concat:a.VV(e)}},u=function(e){return{concat:a.Fp(e)}},l=s.GY,d=function(e){return{concat:function(t,n){var r={};for(var i in e)o.e$.call(e,i)&&(r[i]=e[i].concat(t[i],n[i]));return r}}},p=function(){return{concat:i.yR}},h=s.ur,f=(r=void 0,{concat:function(){return r}}),g=function(){return{concat:function(e,t){return Object.assign({},e,t)}}},m=p;function b(e){var t=h(e);return function(e,n){return void 0===n?t(e):t(e)(n)}}var _={concat:function(e,t){return e&&t}},v={concat:function(e,t){return e||t}},y={concat:function(e,t){return e+t}},w={concat:function(e,t){return e+t}},x={concat:function(e,t){return e*t}}},25262:(e,t,n)=>{n.d(t,{s4:()=>r});n(90023);var r=function(e,t){return{left:e,right:t}}},6609:(e,t,n)=>{function r(e,t){return function(n){var r=e.traverse(n);return function(e,i){return n.map(r(e,i),t.separate)}}}function i(e,t){return function(n){var r=e.traverse(n);return function(e,i){return n.map(r(e,i),t.compact)}}}n.d(t,{BL:()=>i,Fj:()=>r})},90023:(e,t,n)=>{n.d(t,{MZ:()=>s,OB:()=>y,Q1:()=>p,Rz:()=>g,SK:()=>_,W8:()=>c,a9:()=>a,bc:()=>f,ff:()=>v,gn:()=>l,jv:()=>u,ls:()=>h,og:()=>m,r5:()=>d,uZ:()=>i,yR:()=>o,zG:()=>b});var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=function(e){var t,n=(t=e,function(){return{concat:function(e,n){return function(r){return t.concat(e(r),n(r))}}}});return function(){return{concat:n().concat,empty:function(){return e.empty}}}};function o(e){return e}var s=o;function a(e){return function(){return e}}var c=a(!0),u=a(!1),l=a(null),d=a(void 0),p=d;function h(e,t,n,r,i,o,s,a,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return i(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return o(i(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return s(o(i(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return a(s(o(i(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return c(a(s(o(i(r(n(t(e.apply(this,arguments)))))))))}}}function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function g(e){throw new Error("Called `absurd` function which should be uncallable")}function m(e){return function(t){return e.apply(void 0,t)}}function b(e,t,n,r,i,o,s,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return o(i(r(n(t(e)))));case 7:return s(o(i(r(n(t(e))))));case 8:return a(s(o(i(r(n(t(e)))))));case 9:return c(a(s(o(i(r(n(t(e))))))));default:for(var u=arguments[0],l=1;l<arguments.length;l++)u=arguments[l](u);return u}}var _=function(e,t){return t};function v(e){return function(t){return!e(t)}}var y=function(e,t){var n="number"==typeof e?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return n(arguments)?t.apply(this,e):function(n){return t.apply(void 0,r([n],e,!1))}}}},72816:(e,t,n)=>{n.d(t,{F2:()=>p,F4:()=>_,G:()=>c,Gb:()=>m,Od:()=>f,Wi:()=>o,Xl:()=>b,YM:()=>g,YP:()=>a,e$:()=>v,nM:()=>u,pC:()=>s,r1:()=>y,ri:()=>h,t$:()=>d,tO:()=>l,we:()=>w});var r=n(90023),i=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},o=function(e){return"None"===e._tag},s=function(e){return"Some"===e._tag},a={_tag:"None"},c=function(e){return{_tag:"Some",value:e}},u=function(e){return"Left"===e._tag},l=function(e){return"Right"===e._tag},d=function(e){return{_tag:"Left",left:e}},p=function(e){return{_tag:"Right",right:e}},h=function(e){return[e]},f=function(e){return e.length>0},g=function(e){return e[0]},m=function(e){return e.slice(1)},b=[],_={},v=Object.prototype.hasOwnProperty,y=function(e){return i([e[0]],e.slice(1),!0)},w=function(e,t){return(0,r.OB)(2,(function(n,r){return t.flatMap(n,(function(t){return e.fromIO(r(t))}))}))}},39953:(e,t,n)=>{n.d(t,{iz:()=>s,zG:()=>a});var r=n(18117),i=n(81346),o=n(90023);function s(e){var t,n={};if(function(e){return"function"==typeof e.map}(e)&&(n.map=(t=e,function(e){return function(n){return t.map(n,e)}})),function(e){return"function"==typeof e.contramap}(e)&&(n.contramap=function(e){return function(t){return function(n){return e.contramap(n,t)}}}(e)),function(e){return"function"==typeof e.mapWithIndex}(e)&&(n.mapWithIndex=function(e){return function(t){return function(n){return e.mapWithIndex(n,t)}}}(e)),function(e){return"function"==typeof e.ap}(e)&&(n.ap=function(e){return function(t){return function(n){return e.ap(n,t)}}}(e),n.apFirst=(0,r.N)(e),n.apSecond=(0,r.a1)(e)),function(e){return"function"==typeof e.chain}(e)&&(n.chain=function(e){return function(t){return function(n){return e.chain(n,t)}}}(e),n.chainFirst=(0,i.mU)(e),n.flatten=n.chain(o.yR)),function(e){return"function"==typeof e.bimap}(e)&&(n.bimap=function(e){return function(t,n){return function(r){return e.bimap(r,t,n)}}}(e),n.mapLeft=function(e){return function(t){return function(n){return e.mapLeft(n,t)}}}(e)),function(e){return"function"==typeof e.extend}(e)&&(n.extend=function(e){return function(t){return function(n){return e.extend(n,t)}}}(e),n.duplicate=n.extend(o.yR)),function(e){return"function"==typeof e.reduce}(e)&&(n.reduce=function(e){return function(t,n){return function(r){return e.reduce(r,t,n)}}}(e),n.foldMap=function(e){return function(t){var n=e.foldMap(t);return function(e){return function(t){return n(t,e)}}}}(e),n.reduceRight=function(e){return function(t,n){return function(r){return e.reduceRight(r,t,n)}}}(e)),function(e){return"function"==typeof e.reduceWithIndex}(e)&&(n.reduceWithIndex=function(e){return function(t,n){return function(r){return e.reduceWithIndex(r,t,n)}}}(e),n.foldMapWithIndex=function(e){return function(t){var n=e.foldMapWithIndex(t);return function(e){return function(t){return n(t,e)}}}}(e),n.reduceRightWithIndex=function(e){return function(t,n){return function(r){return e.reduceRightWithIndex(r,t,n)}}}(e)),function(e){return"function"==typeof e.alt}(e)&&(n.alt=function(e){return function(t){return function(n){return e.alt(n,t)}}}(e)),function(e){return"function"==typeof e.compact}(e)&&(n.compact=e.compact,n.separate=e.separate),function(e){return"function"==typeof e.filter}(e)&&(n.filter=function(e){return function(t){return function(n){return e.filter(n,t)}}}(e),n.filterMap=function(e){return function(t){return function(n){return e.filterMap(n,t)}}}(e),n.partition=function(e){return function(t){return function(n){return e.partition(n,t)}}}(e),n.partitionMap=function(e){return function(t){return function(n){return e.partitionMap(n,t)}}}(e)),function(e){return"function"==typeof e.filterWithIndex}(e)&&(n.filterWithIndex=function(e){return function(t){return function(n){return e.filterWithIndex(n,t)}}}(e),n.filterMapWithIndex=function(e){return function(t){return function(n){return e.filterMapWithIndex(n,t)}}}(e),n.partitionWithIndex=function(e){return function(t){return function(n){return e.partitionWithIndex(n,t)}}}(e),n.partitionMapWithIndex=function(e){return function(t){return function(n){return e.partitionMapWithIndex(n,t)}}}(e)),function(e){return"function"==typeof e.promap}(e)&&(n.promap=function(e){return function(t,n){return function(r){return e.promap(r,t,n)}}}(e)),function(e){return"function"==typeof e.compose}(e)&&(n.compose=function(e){return function(t){return function(n){return e.compose(n,t)}}}(e)),function(e){return"function"==typeof e.throwError}(e)){n.fromOption=function(t){return function(n){return"None"===n._tag?e.throwError(t()):e.of(n.value)}},n.fromEither=function(t){return"Left"===t._tag?e.throwError(t.left):e.of(t.right)},n.fromPredicate=function(t,n){return function(r){return t(r)?e.of(r):e.throwError(n(r))}},n.filterOrElse=function(t,n){return function(r){return e.chain(r,(function(r){return t(r)?e.of(r):e.throwError(n(r))}))}}}return n}var a=o.zG},39416:e=>{e.exports={animatedUnderline:"ymqHP",showUnderline:"JQguZ",completeAnimation:"ExcM8"}},44675:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,c=[],u=!1,l=-1;function d(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},49144:(e,t,n)=>{n.d(t,{X:()=>s});var r=n(59190),i=n(36072),o=n(87801),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.ZT(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.N;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.xQ)},78173:(e,t,n)=>{n.d(t,{d:()=>i});var r=n(59190),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(48822).L)},10138:(e,t,n)=>{n.d(t,{P:()=>a});var r,i=n(8748),o=n(20715),s=n(44424);r||(r={});var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},30152:(e,t,n)=>{n.d(t,{y:()=>c});var r=n(52637),i=n(14854),o=n(89211),s=n(97934),a=n(61349),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=(0,i.Y)(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||a.v.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.v.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),(0,r._)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=u(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,s.U)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=u(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function u(e){if(e||(e=a.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},25240:(e,t,n)=>{n.d(t,{c:()=>o});var r=n(61349),i=n(28797),o={closed:!0,next:function(e){},error:function(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete:function(){}}},48154:(e,t,n)=>{n.d(t,{L:()=>i});var r=n(59190),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(48822).L)},51191:(e,t,n)=>{n.d(t,{b:()=>r});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},36072:(e,t,n)=>{n.d(t,{Yc:()=>l,xQ:()=>d});var r=n(59190),i=n(30152),o=n(48822),s=n(82823),a=n(87801),c=n(223),u=n(47506),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.ZT(t,e),t}(o.L),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.ZT(t,e),t.prototype[u.b]=function(){return new l(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.N;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.N;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.N;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new c.W(this,e))},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(i.y),p=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.ZT(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.w.EMPTY},t}(d)},223:(e,t,n)=>{n.d(t,{W:()=>i});var r=n(59190),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.ZT(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(82823).w)},48822:(e,t,n)=>{n.d(t,{L:()=>l});var r=n(59190),i=n(70960),o=n(25240),s=n(82823),a=n(47506),c=n(61349),u=n(28797),l=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.c;break;case 1:if(!n){s.destination=o.c;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new d(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new d(s,n,r,i)}return s}return r.ZT(t,e),t.prototype[a.b]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.w),d=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return(0,i.m)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.c&&(u=Object.create(n),(0,i.m)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=s,c}return r.ZT(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.v.useDeprecatedSynchronousErrorHandling)throw e;(0,u.z)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):((0,u.z)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},82823:(e,t,n)=>{n.d(t,{w:()=>a});var r=n(81777),i=n(33328),o=n(70960),s=n(15054),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,a=n._parentOrParents,u=n._ctorUnsubscribe,l=n._unsubscribe,d=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof e)a.remove(this);else if(null!==a)for(var p=0;p<a.length;++p){a[p].remove(this)}if((0,o.m)(l)){u&&(this._unsubscribe=void 0);try{l.call(this)}catch(e){t=e instanceof s.B?c(e.errors):[e]}}if((0,r.k)(d)){p=-1;for(var h=d.length;++p<h;){var f=d[p];if((0,i.K)(f))try{f.unsubscribe()}catch(e){t=t||[],e instanceof s.B?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new s.B(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof s.B?t.errors:t)}),[])}},61349:(e,t,n)=>{n.d(t,{v:()=>i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},36569:(e,t,n)=>{n.d(t,{Ds:()=>c,IY:()=>a,ft:()=>u});var r=n(59190),i=n(48822),o=n(30152),s=n(37737),a=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return r.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(i.L),c=(i.L,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(i.L));i.L;function u(e,t){if(!t.closed)return e instanceof o.y?e.subscribe(t):(0,s.s)(e)(t)}},77094:(e,t,n)=>{n.d(t,{N:()=>l,c:()=>u});var r=n(59190),i=n(36072),o=n(30152),s=n(48822),a=n(82823),c=n(74568),u=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.ZT(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.w).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.w.EMPTY)),e},t.prototype.refCount=function(){return(0,c.x)()(this)},t}(o.y),l=function(){var e=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.ZT(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.Yc);s.L},65882:(e,t,n)=>{n.d(t,{Ms:()=>d,aj:()=>l});var r=n(59190),i=n(71340),o=n(81777),s=n(48154),a=n(45614),c=n(33029),u={};function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return(0,i.K)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,o.k)(e[0])&&(e=e[0]),(0,c.n)(e,r).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}(),p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.ZT(t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add((0,a.D)(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,i=r[n],o=this.toRespond?i===u?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.L)},33090:(e,t,n)=>{n.d(t,{z:()=>o});var r=n(20715),i=n(67223);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.u)()(r.of.apply(void 0,e))}},78084:(e,t,n)=>{n.d(t,{P:()=>s});var r=n(30152),i=n(25989),o=n(8748);function s(e){return new r.y((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?(0,i.D)(n):(0,o.c)()).subscribe(t)}))}},8748:(e,t,n)=>{n.d(t,{E:()=>i,c:()=>o});var r=n(30152),i=new r.y((function(e){return e.complete()}));function o(e){return e?function(e){return new r.y((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},25989:(e,t,n)=>{n.d(t,{D:()=>s});var r=n(30152),i=n(37737),o=n(91015);function s(e,t){return t?(0,o.x)(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},33029:(e,t,n)=>{n.d(t,{n:()=>s});var r=n(30152),i=n(56260),o=n(55238);function s(e,t){return t?(0,o.r)(e,t):new r.y((0,i.V)(e))}},64965:(e,t,n)=>{n.d(t,{R:()=>a});var r=n(30152),i=n(81777),o=n(70960),s=n(65647);function a(e,t,n,u){return(0,o.m)(n)&&(u=n,n=void 0),u?a(e,t,n).pipe((0,s.U)((function(e){return(0,i.k)(e)?u.apply(void 0,e):u(e)}))):new r.y((function(r){c(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function c(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var s=e;e.addEventListener(t,n,i),o=function(){return s.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var a=e;e.on(t,n),o=function(){return a.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var u=e;e.addListener(t,n),o=function(){return u.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,d=e.length;l<d;l++)c(e[l],t,n,r,i)}r.add(o)}},64439:(e,t,n)=>{n.d(t,{R:()=>a});var r=n(30152),i=n(81777),o=n(70960),s=n(65647);function a(e,t,n){return n?a(e,t).pipe((0,s.U)((function(e){return(0,i.k)(e)?n.apply(void 0,e):n(e)}))):new r.y((function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(e){return void n.error(e)}if((0,o.m)(t))return function(){return t(i,r)}}))}},57188:(e,t,n)=>{n.d(t,{F:()=>s});var r=n(30152),i=n(40158),o=n(86184);function s(e,t){return void 0===e&&(e=0),void 0===t&&(t=i.P),(!(0,o.k)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=i.P),new r.y((function(n){return n.add(t.schedule(a,e,{subscriber:n,counter:0,period:e})),n}))}function a(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}},90049:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(30152),i=n(71340),o=n(5794),s=n(33029);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return(0,i.K)(c)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof c&&(n=e.pop()),null===a&&1===e.length&&e[0]instanceof r.y?e[0]:(0,o.J)(n)((0,s.n)(e,a))}},20715:(e,t,n)=>{n.d(t,{of:()=>s});var r=n(71340),i=n(33029),o=n(55238);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,r.K)(n)?(e.pop(),(0,o.r)(e,n)):(0,i.n)(e)}},15574:(e,t,n)=>{n.d(t,{u:()=>a});var r=n(28374),i=n(37737),o=n(55446),s=n(30152);function a(e,t,n){return[(0,o.h)(t,n)(new s.y((0,i.s)(e))),(0,o.h)((0,r.f)(t,n))(new s.y((0,i.s)(e)))]}},44424:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(30152);function i(e,t){return t?new r.y((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new r.y((function(t){return t.error(e)}))}function o(e){var t=e.error;e.subscriber.error(t)}},26130:(e,t,n)=>{n.d(t,{H:()=>a});var r=n(30152),i=n(40158),o=n(86184),s=n(71340);function a(e,t,n){void 0===e&&(e=0);var a=-1;return(0,o.k)(t)?a=Number(t)<1?1:Number(t):(0,s.K)(t)&&(n=t),(0,s.K)(n)||(n=i.P),new r.y((function(t){var r=(0,o.k)(e)?e:+e-n.now();return n.schedule(c,r,{index:0,period:a,subscriber:t})}))}function c(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},66997:(e,t,n)=>{n.d(t,{g:()=>s});var r=n(30152),i=n(25989),o=n(8748);function s(e,t){return new r.y((function(n){var r,s;try{r=e()}catch(e){return void n.error(e)}try{s=t(r)}catch(e){return void n.error(e)}var a=(s?(0,i.D)(s):o.E).subscribe(n);return function(){a.unsubscribe(),r&&r.unsubscribe()}}))}},93899:(e,t,n)=>{n.d(t,{f:()=>o});var r=n(59190),i=n(36569);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.closingNotifier))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add((0,i.ft)(n,new i.IY(r))),r}return r.ZT(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(i.Ds)},67223:(e,t,n)=>{n.d(t,{u:()=>i});var r=n(5794);function i(){return(0,r.J)(1)}},13195:(e,t,n)=>{n.d(t,{b:()=>i});var r=n(12171);function i(e,t){return(0,r.zg)(e,t,1)}},74857:(e,t,n)=>{n.d(t,{b:()=>s});var r=n(59190),i=n(48822),o=n(40158);function s(e,t){return void 0===t&&(t=o.P),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.ZT(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i.L);function u(e){e.debouncedNext()}},86812:(e,t,n)=>{n.d(t,{d:()=>o});var r=n(59190),i=n(48822);function o(e){return void 0===e&&(e=null),function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.defaultValue))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.ZT(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i.L)},60165:(e,t,n)=>{n.d(t,{x:()=>o});var r=n(59190),i=n(48822);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compare,this.keySelector))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.ZT(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(e){return this.destination.error(e)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(i.L)},55446:(e,t,n)=>{n.d(t,{h:()=>o});var r=n(59190),i=n(48822);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.L)},18615:(e,t,n)=>{n.d(t,{P:()=>u});var r=n(56794),i=n(55446),o=n(73863),s=n(86812),a=n(54518),c=n(40189);function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?(0,i.h)((function(t,n){return e(t,n,u)})):c.y,(0,o.q)(1),n?(0,s.d)(t):(0,a.T)((function(){return new r.K})))}}},65647:(e,t,n)=>{n.d(t,{U:()=>o});var r=n(59190),i=n(48822);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.L)},34859:(e,t,n)=>{n.d(t,{h:()=>o});var r=n(59190),i=n(48822);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.value))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r.ZT(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(i.L)},5794:(e,t,n)=>{n.d(t,{J:()=>o});var r=n(12171),i=n(40189);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),(0,r.zg)(i.y,e)}},12171:(e,t,n)=>{n.d(t,{VS:()=>l,zg:()=>a});var r=n(59190),i=n(65647),o=n(25989),s=n(36569);function a(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(a((function(n,r){return(0,o.D)(e(n,r)).pipe((0,i.U)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new c(e,n))})}var c=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent))},e}(),u=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.ZT(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new s.IY(this),n=this.destination;n.add(t);var r=(0,s.ft)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(s.Ds),l=a},33516:(e,t,n)=>{n.d(t,{O:()=>i});var r=n(77094);function i(e,t){return function(n){var i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new o(i,t));var s=Object.create(n,r.N);return s.source=n,s.subjectFactory=i,s}}var o=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}()},44252:(e,t,n)=>{n.d(t,{QV:()=>s,ht:()=>c});var r=n(59190),i=n(48822),o=n(10138);function s(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler,this.delay))},e}(),c=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.ZT(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.P.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.P.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.P.createComplete()),this.unsubscribe()},t}(i.L),u=function(){return function(e,t){this.notification=e,this.destination=t}}()},74568:(e,t,n)=>{n.d(t,{x:()=>o});var r=n(59190),i=n(48822);function o(){return function(e){return e.lift(new s(e))}}var s=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.ZT(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.L)},22889:(e,t,n)=>{n.d(t,{a:()=>s});var r=n(59190),i=n(36072),o=n(36569);function s(e){return function(t){return t.lift(new a(e,t))}}var a=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,this.source))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return r.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,s=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new i.xQ;try{r=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}s=(0,o.ft)(r,new o.IY(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=s,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(o.Ds)},70163:(e,t,n)=>{n.d(t,{B:()=>a});var r=n(33516),i=n(74568),o=n(36072);function s(){return new o.xQ}function a(){return function(e){return(0,i.x)()((0,r.O)(s)(e))}}},14765:(e,t,n)=>{n.d(t,{O:()=>o});var r=n(33090),i=n(71340);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,i.K)(n)?(e.pop(),function(t){return(0,r.z)(e,t,n)}):function(t){return(0,r.z)(e,t)}}},60841:(e,t,n)=>{n.d(t,{w:()=>a});var r=n(59190),i=n(65647),o=n(25989),s=n(36569);function a(e,t){return"function"==typeof t?function(n){return n.pipe(a((function(n,r){return(0,o.D)(e(n,r)).pipe((0,i.U)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.ZT(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new s.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,s.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(s.Ds)},73863:(e,t,n)=>{n.d(t,{q:()=>a});var r=n(59190),i=n(48822),o=n(7631),s=n(8748);function a(e){return function(t){return 0===e?(0,s.c)():t.lift(new c(e))}}var c=function(){function e(e){if(this.total=e,this.total<0)throw new o.W}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.ZT(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(i.L)},78488:(e,t,n)=>{n.d(t,{b:()=>a});var r=n(59190),i=n(48822),o=n(89242),s=n(70960);function a(e,t,n){return function(r){return r.lift(new c(e,t,n))}}var c=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))},e}(),u=function(e){function t(t,n,r,i){var a=e.call(this,t)||this;return a._tapNext=o.Z,a._tapError=o.Z,a._tapComplete=o.Z,a._tapError=r||o.Z,a._tapComplete=i||o.Z,(0,s.m)(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||o.Z,a._tapError=n.error||o.Z,a._tapComplete=n.complete||o.Z),a}return r.ZT(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(i.L)},54518:(e,t,n)=>{n.d(t,{T:()=>s});var r=n(59190),i=n(56794),o=n(48822);function s(e){return void 0===e&&(e=u),function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.errorFactory))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.ZT(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(o.L);function u(){return new i.K}},78008:(e,t,n)=>{n.d(t,{V:()=>a});var r=n(40158),i=n(1774),o=n(10595),s=n(44424);function a(e,t){return void 0===t&&(t=r.P),(0,o.L)(e,(0,s._)(new i.W),t)}},10595:(e,t,n)=>{n.d(t,{L:()=>a});var r=n(59190),i=n(40158),o=n(79563),s=n(36569);function a(e,t,n){return void 0===n&&(n=i.P),function(r){var i=(0,o.J)(e),s=i?+e-n.now():Math.abs(e);return r.lift(new c(s,i,t,n))}}var c=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),u=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.scheduleTimeout(),s}return r.ZT(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add((0,s.ft)(t,new s.IY(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(s.Ds)},70989:(e,t,n)=>{n.d(t,{M:()=>s});var r=n(59190),i=n(48154),o=n(45614);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new a(r,n))}}var a=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.observables,this.project))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var s=n.length;i.values=new Array(s);for(var a=0;a<s;a++)i.toRespond.push(a);for(a=0;a<s;a++){var c=n[a];i.add((0,o.D)(i,c,void 0,a))}return i}return r.ZT(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.L)},55238:(e,t,n)=>{n.d(t,{r:()=>o});var r=n(30152),i=n(82823);function o(e,t){return new r.y((function(n){var r=new i.w,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},28960:(e,t,n)=>{n.d(t,{Q:()=>s});var r=n(30152),i=n(82823),o=n(58209);function s(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y((function(n){var r,s=new i.w;return s.add((function(){r&&"function"==typeof r.return&&r.return()})),s.add(t.schedule((function(){r=e[o.hZ](),s.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),s}))}},51538:(e,t,n)=>{n.d(t,{l:()=>s});var r=n(30152),i=n(82823),o=n(89211);function s(e,t){return new r.y((function(n){var r=new i.w;return r.add(t.schedule((function(){var i=e[o.L]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}},23798:(e,t,n)=>{n.d(t,{c:()=>o});var r=n(30152),i=n(82823);function o(e,t){return new r.y((function(n){var r=new i.w;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}},91015:(e,t,n)=>{n.d(t,{x:()=>d});var r=n(51538),i=n(23798),o=n(55238),s=n(28960),a=n(19798),c=n(29565),u=n(9118),l=n(27263);function d(e,t){if(null!=e){if((0,a.c)(e))return(0,r.l)(e,t);if((0,c.t)(e))return(0,i.c)(e,t);if((0,u.z)(e))return(0,o.r)(e,t);if((0,l.T)(e)||"string"==typeof e)return(0,s.Q)(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},37044:(e,t,n)=>{n.d(t,{a:()=>i});var r=n(59190),i=function(e){function t(t,n){return e.call(this)||this}return r.ZT(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(82823).w)},72587:(e,t,n)=>{n.d(t,{t:()=>o});var r=n(59190),i=n(82941),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.ZT(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=i.H.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(i.H.clearImmediate(n),t.scheduled=void 0)},t}(n(99472).o)},38662:(e,t,n)=>{n.d(t,{E:()=>i});var r=n(59190),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(77693).v)},99472:(e,t,n)=>{n.d(t,{o:()=>i});var r=n(59190),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.ZT(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n(37044).a)},77693:(e,t,n)=>{n.d(t,{v:()=>o});var r=n(59190),i=n(51191),o=function(e){function t(n,r){void 0===r&&(r=i.b.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.ZT(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.b)},93667:(e,t,n)=>{n.d(t,{E:()=>i,e:()=>o});var r=n(72587),i=new(n(38662).E)(r.t),o=i},40158:(e,t,n)=>{n.d(t,{P:()=>o,z:()=>i});var r=n(99472),i=new(n(77693).v)(r.o),o=i},58209:(e,t,n)=>{function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>i});var i=r()},89211:(e,t,n)=>{n.d(t,{L:()=>r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},47506:(e,t,n)=>{n.d(t,{b:()=>r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},7631:(e,t,n)=>{n.d(t,{W:()=>r});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},56794:(e,t,n)=>{n.d(t,{K:()=>r});var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},82941:(e,t,n)=>{n.d(t,{H:()=>a});var r=1,i=function(){return Promise.resolve()}(),o={};function s(e){return e in o&&(delete o[e],!0)}var a={setImmediate:function(e){var t=r++;return o[t]=!0,i.then((function(){return s(t)&&e()})),t},clearImmediate:function(e){s(e)}}},87801:(e,t,n)=>{n.d(t,{N:()=>r});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},1774:(e,t,n)=>{n.d(t,{W:()=>r});var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},15054:(e,t,n)=>{n.d(t,{B:()=>r});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},52637:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(48822);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.L?i:null}return!0}},28797:(e,t,n)=>{function r(e){setTimeout((function(){throw e}),0)}n.d(t,{z:()=>r})},40189:(e,t,n)=>{function r(e){return e}n.d(t,{y:()=>r})},81777:(e,t,n)=>{n.d(t,{k:()=>r});var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},9118:(e,t,n)=>{n.d(t,{z:()=>r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},79563:(e,t,n)=>{function r(e){return e instanceof Date&&!isNaN(+e)}n.d(t,{J:()=>r})},70960:(e,t,n)=>{function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},19798:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(89211);function i(e){return e&&"function"==typeof e[r.L]}},27263:(e,t,n)=>{n.d(t,{T:()=>i});var r=n(58209);function i(e){return e&&"function"==typeof e[r.hZ]}},86184:(e,t,n)=>{n.d(t,{k:()=>i});var r=n(81777);function i(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},33328:(e,t,n)=>{function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},29565:(e,t,n)=>{function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},71340:(e,t,n)=>{function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},89242:(e,t,n)=>{function r(){}n.d(t,{Z:()=>r})},28374:(e,t,n)=>{function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,{f:()=>r})},97934:(e,t,n)=>{n.d(t,{U:()=>o,z:()=>i});var r=n(40189);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return 0===e.length?r.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},37737:(e,t,n)=>{n.d(t,{s:()=>p});var r=n(56260),i=n(20216),o=n(7753),s=n(58102),a=n(9118),c=n(29565),u=n(33328),l=n(58209),d=n(89211),p=function(e){if(e&&"function"==typeof e[d.L])return(0,s.h)(e);if((0,a.z)(e))return(0,r.V)(e);if((0,c.t)(e))return(0,i.A)(e);if(e&&"function"==typeof e[l.hZ])return(0,o.u)(e);var t=(0,u.K)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},56260:(e,t,n)=>{n.d(t,{V:()=>r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},7753:(e,t,n)=>{n.d(t,{u:()=>i});var r=n(58209),i=function(e){return function(t){for(var n=e[r.hZ]();;){var i=void 0;try{i=n.next()}catch(e){return t.error(e),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},58102:(e,t,n)=>{n.d(t,{h:()=>i});var r=n(89211),i=function(e){return function(t){var n=e[r.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},20216:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(28797),i=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.z),t}}},45614:(e,t,n)=>{n.d(t,{D:()=>s});var r=n(78173),i=n(37737),o=n(30152);function s(e,t,n,s,a){if(void 0===a&&(a=new r.d(e,n,s)),!a.closed)return t instanceof o.y?t.subscribe(a):(0,i.s)(t)(a)}},14854:(e,t,n)=>{n.d(t,{Y:()=>s});var r=n(48822),i=n(47506),o=n(25240);function s(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(o.c)}},59190:(e,t,n)=>{n.d(t,{ZT:()=>i,ev:()=>s,pi:()=>o});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.create;function s(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create},94100:function(e,t,n){var r;!function(i,o){var s="function",a="undefined",c="object",u="string",l="model",d="name",p="type",h="vendor",f="version",g="architecture",m="console",b="mobile",_="tablet",v="smarttv",y="wearable",w="embedded",x="Amazon",E="Apple",S="ASUS",C="BlackBerry",k="Firefox",R="Google",O="Huawei",T="LG",I="Microsoft",F="Motorola",A="Opera",P="Samsung",N="Sharp",j="Sony",L="Xiaomi",D="Zebra",U="Facebook",M=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},G=function(e,t){return typeof e===u&&-1!==B(t).indexOf(B(e))},B=function(e){return e.toLowerCase()},W=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===a?e:e.substring(0,350)},H=function(e,t){for(var n,r,i,a,u,l,d=0;d<t.length&&!u;){var p=t[d],h=t[d+1];for(n=r=0;n<p.length&&!u;)if(u=p[n++].exec(e))for(i=0;i<h.length;i++)l=u[++r],typeof(a=h[i])===c&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):o:this[a[0]]=l?a[1].call(this,l,a[2]):o:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):o):this[a]=l||o;d+=2}},z=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(G(t[n][r],e))return"?"===n?o:n}else if(G(t[n],e))return"?"===n?o:n;return e},V={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,f],[/opios[\/ ]+([\w\.]+)/i],[f,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[f,[d,A]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[d,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],f],[/\bfocus\/([\w\.]+)/i],[f,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[f,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[f,[d,k]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,U],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[f,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,B]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",B]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,B]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,P],[p,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,P],[p,b]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,E],[p,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,E],[p,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,O],[p,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,O],[p,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,L],[p,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,L],[p,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[p,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[p,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,F],[p,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,F],[p,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,T],[p,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,T],[p,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[p,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[p,b]],[/(pixel c)\b/i],[l,[h,R],[p,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,R],[p,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,j],[p,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,j],[p,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[p,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,x],[p,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,x],[p,b]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[p,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,C],[p,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,S],[p,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,S],[p,b]],[/(nexus 9)/i],[l,[h,"HTC"],[p,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[p,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[p,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[p,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,N],[p,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[p,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[p,_]],[/(surface duo)/i],[l,[h,I],[p,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[p,b]],[/(u304aa)/i],[l,[h,"AT&T"],[p,b]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[p,b]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[p,_]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[p,_]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[p,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[p,_]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[p,_]],[/\b(k88) b/i],[l,[h,"ZTE"],[p,_]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[p,b]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[p,b]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[p,_]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[p,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[p,_]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[p,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[p,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[p,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[p,b]],[/\b(ph-1) /i],[l,[h,"Essential"],[p,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[p,_]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[p,_]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[p,_]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[p,_]],[/(sprint) (\w+)/i],[h,l,[p,b]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,I],[p,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,D],[p,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,D],[p,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[p,m]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[p,m]],[/(playstation [345portablevi]+)/i],[l,[h,j],[p,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,I],[p,m]],[/smart-tv.+(samsung)/i],[h,[p,v]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,P],[p,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,T],[p,v]],[/(apple) ?tv/i],[h,[l,"Apple TV"],[p,v]],[/crkey/i],[[l,"Chromecast"],[h,R],[p,v]],[/droid.+aft(\w)( bui|\))/i],[l,[h,x],[p,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,N],[p,v]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,j],[p,v]],[/(mitv-\w{5}) bui/i],[l,[h,L],[p,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,W],[l,W],[p,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,v]],[/((pebble))app/i],[h,l,[p,y]],[/droid.+; (glass) \d/i],[l,[h,R],[p,y]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,D],[p,y]],[/(quest( 2)?)/i],[l,[h,U],[p,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[p,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[p,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,b]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[f,z,V]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[f,z,V]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,f],[/\(bb(10);/i],[f,[d,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,f],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,f]]},$=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof $))return new $(e,t).getResult();var n=e||(typeof i!==a&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(q,t):q;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,H.call(t,n,r.browser),t.major=typeof(e=t.version)===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e.architecture=o,H.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,H.call(e,n,r.device),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,H.call(e,n,r.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,H.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===u&&e.length>350?W(e,350):e,this},this.setUA(n),this};$.VERSION="1.0.32",$.BROWSER=M([d,f,"major"]),$.CPU=M([g]),$.DEVICE=M([l,h,p,m,b,v,_,y,w]),$.ENGINE=$.OS=M([d,f]),typeof t!==a?(e.exports&&(t=e.exports=$),t.UAParser=$):n.amdO?(r=function(){return $}.call(t,n,t,e))===o||(e.exports=r):typeof i!==a&&(i.UAParser=$);var K=typeof i!==a&&(i.jQuery||i.Zepto);if(K&&!K.ua){var Y=new $;K.ua=Y.getResult(),K.ua.get=function(){return Y.getUA()},K.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var n in t)K.ua[n]=t[n]}}}("object"==typeof self?self:this)},43572:(e,t,n)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{F:()=>r})},18137:(e,t,n)=>{function r(e){if(Array.isArray(e))return e}n.d(t,{o:()=>r})},36059:(e,t,n)=>{function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Q:()=>r,_:()=>r})},81148:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{_:()=>r})},66664:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{_:()=>i})},24134:(e,t,n)=>{n.d(t,{_:()=>s});var r=n(1461),i=n(79597),o=n(31357);function s(e){var t=(0,i.R)();return function(){var n,i=(0,r.X)(e);if(t){var s=(0,r.X)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(0,o.v)(this,n)}}},21101:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{_:()=>r,j:()=>r})},1461:(e,t,n)=>{function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{X:()=>r,_:()=>r})},80880:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(1652);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.b)(e,t)}},79597:(e,t,n)=>{function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{R:()=>r})},92489:(e,t,n)=>{function r(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}n.d(t,{h:()=>r})},76032:(e,t,n)=>{function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{i:()=>r})},46504:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(21101);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){(0,r.j)(e,t,n[t])}))}return e}},38569:(e,t,n)=>{function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.d(t,{_:()=>r})},15384:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(4053);function i(e,t){if(null==e)return{};var n,i,o=(0,r.A)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},4053:(e,t,n)=>{function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{A:()=>r})},31357:(e,t,n)=>{n.d(t,{v:()=>o});var r=n(36059),i=n(9046);function o(e,t){return!t||"object"!==(0,i.j)(t)&&"function"!=typeof t?(0,r.Q)(e):t}},1652:(e,t,n)=>{function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{b:()=>r})},63335:(e,t,n)=>{n.d(t,{_:()=>a});var r=n(18137),i=n(92489),o=n(76032),s=n(44048);function a(e,t){return(0,r.o)(e)||(0,i.h)(e,t)||(0,s.N)(e,t)||(0,o.i)()}},95131:(e,t,n)=>{n.d(t,{E:()=>i});var r=n(9046);function i(e,t){if("object"!==(0,r.j)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.j)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},5055:(e,t,n)=>{n.d(t,{_:()=>o});var r=n(95131),i=n(9046);function o(e){var t=(0,r.E)(e,"string");return"symbol"===(0,i.j)(t)?t:String(t)}},9046:(e,t,n)=>{function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}n.d(t,{_:()=>r,j:()=>r})},44048:(e,t,n)=>{n.d(t,{N:()=>i});var r=n(43572);function i(e,t){if(e){if("string"==typeof e)return(0,r.F)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.F)(e,t):void 0}}}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.exports}a.m=o,a.amdO={},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},e=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(t,n){if(1&n&&(t=this(t)),8&n)return t;if("object"==typeof t&&t){if(4&n&&t.__esModule)return t;if(16&n&&"function"==typeof t.then)return t}var r=Object.create(null);a.r(r);var i={};leafPrototypes=leafPrototypes||[null,e({}),e([]),e(e)];for(var o=2&n&&t;"object"==typeof o&&!~leafPrototypes.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>t[e]));return i.default=()=>t,a.d(r,i),r},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>4659===e?"designSystem.js":7559===e?"7559.vendors.chunk.js":578===e?"578.vendors.chunk.js":2564===e?"2564.vendors.chunk.js":6500===e?"6500.vendors.chunk.js":5383===e?"5383.vendors.chunk.js":4224===e?"4224.vendors.chunk.js":1214===e?"1214.vendors.chunk.js":2035===e?"2035.vendors.chunk.js":6378===e?"6378.vendors.chunk.js":3938===e?"3938.vendors.chunk.js":6588===e?"6588.vendors.chunk.js":7422===e?"7422.vendors.chunk.js":1294===e?"1294.vendors.chunk.js":1278===e?"1278.vendors.chunk.js":4209===e?"4209.vendors.chunk.js":6712===e?"6712.vendors.chunk.js":1109===e?"1109.vendors.chunk.js":122===e?"122.vendors.chunk.js":6769===e?"6769.vendors.chunk.js":6291===e?"6291.vendors.chunk.js":3738===e?"3738.vendors.chunk.js":{47:"workplaceAppBusinessUphookPopup",274:"g2",609:"mainCS",637:"SduiBasicEngineIntegration",751:"standWithUkraineGrammarlySuspendedPopup",902:"knowledgeHubCard",904:"vbarSticker",1090:"iframeHost",1196:"setupSduiManagement",1530:"unifiedFunnelLoginReminderPopup",1599:"notification",2064:"dunningMessagePopup",2378:"simpleMessagePopup",2381:"recapPopup",2826:"brandTonesActivationUphook",2905:"sduiNotification",3384:"sduiInlineCardRenderer",3429:"automaticallyAppliedAlertInlineCardView",3516:"oauthExchange",3587:"extensionConflictPopup",3896:"citationBuilderIntegration",4100:"proofit",4254:"dataControlPopup",4382:"cheetah",4449:"perceptionMetricsSurvey",4628:"gdocsFeedbackUI",5186:"largeDocumentPopup",5275:"SduiInlineEngineIntegration",5519:"loginSSOPopup",5835:"chipmunkPopup",6077:"cheetah-settings",6132:"activationSystem",6332:"accountMigrationNotificationPopup",6413:"autocomplete",6859:"connectorPermissionPopup",7470:"PlagiarismButton",7485:"claimedUserPopup",7690:"onboardingWithReminderPopup",7717:"snippets",7725:"toneAI",7996:"gButtonPopover",8391:"onboardingDialog",8513:"knowledgeHubIntegration",8531:"sessionTimeoutPopup",8600:"loginReminderPopup",8721:"assistant",8839:"freePremiumUphookPopup",8863:"сlickableCard",9209:"piiDetectionAlert",9366:"PlagiarismPage",9414:"automaticallyAppliedAlertView",9425:"tailoredBusinessUphookPopup",9545:"grammarlyBusinessSigninPopup",9704:"newToneDetectedPopup",9822:"disablePopup",9910:"standWithUkraineBannerPopup"}[e]+".common.chunk.js",a.miniCssF=e=>"../css/"+{47:"workplaceAppBusinessUphookPopup",274:"g2",609:"mainCS",751:"standWithUkraineGrammarlySuspendedPopup",902:"knowledgeHubCard",1090:"iframeHost",1388:"Grammarly",1530:"unifiedFunnelLoginReminderPopup",1599:"notification",2064:"dunningMessagePopup",2378:"simpleMessagePopup",2381:"recapPopup",2826:"brandTonesActivationUphook",2905:"sduiNotification",3429:"automaticallyAppliedAlertInlineCardView",3587:"extensionConflictPopup",3896:"citationBuilderIntegration",4100:"proofit",4254:"dataControlPopup",4382:"cheetah",4449:"perceptionMetricsSurvey",4628:"gdocsFeedbackUI",4659:"designSystem",5186:"largeDocumentPopup",5519:"loginSSOPopup",5835:"chipmunkPopup",6077:"cheetah-settings",6132:"activationSystem",6332:"accountMigrationNotificationPopup",6413:"autocomplete",6859:"connectorPermissionPopup",7470:"PlagiarismButton",7485:"claimedUserPopup",7690:"onboardingWithReminderPopup",7717:"snippets",7996:"gButtonPopover",8391:"onboardingDialog",8513:"knowledgeHubIntegration",8531:"sessionTimeoutPopup",8600:"loginReminderPopup",8721:"assistant",8839:"freePremiumUphookPopup",9209:"piiDetectionAlert",9414:"automaticallyAppliedAlertView",9425:"tailoredBusinessUphookPopup",9545:"grammarlyBusinessSigninPopup",9704:"newToneDetectedPopup",9822:"disablePopup",9910:"standWithUkraineBannerPopup"}[e]+".styles.css",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},a.l=(e,n,r,i)=>{if(t[e])t[e].push(n);else{var o,s;if(void 0!==r)for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var u=a[c];if(u.getAttribute("src")==e){o=u;break}}if(!o){s=!0;var l=e,d=(i=r.replace("chunk-",""),function(n){var r={type:n,target:{src:l}},i=t[e];delete t[e],i&&i.forEach((e=>e(r)))});return t[e]=[n],import(l).then((()=>d("load"))).catch((()=>{var e=0,t=setInterval((()=>{var n=window.webpackChunk,r=Array.isArray(n)&&n.some((e=>Array.isArray(e)&&Array.isArray(e[0])&&e[0].includes(i)));r||e>12e4?(clearInterval(t),d(r?"load":"missing")):e+=100}),100)}))}t[e]=[n];var p=(n,r)=>{o.onerror=o.onload=null,clearTimeout(h);var i=t[e];if(delete t[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(r))),n)return n(r)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),s&&document.head.appendChild(o)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j=1388,a.p="/src/js/",a.p=(n=a.p,a.p&&a.p.includes("://")?n:(window.popupInitArgs?window.popupInitArgs.baseURI:safari.extension.baseURI)+n.substring(n.lastIndexOf("/")+1)),r=e=>new Promise(((t,n)=>{var r=a.miniCssF(e),i=a.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===e||i===t))return s}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var s;if((i=(s=o[r]).getAttribute("data-href"))===e||i===t)return s}})(r,i))return t();((e,t,n,r)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=o=>{if(i.onerror=i.onload=null,"load"===o.type)n();else{var s=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=a,i.parentNode.removeChild(i),r(c)}},i.href=t,(e=>{e.dispatchEvent(new Event("load"))})(i)})(e,i,t,n)})),i={1388:0},a.f.miniCss=(e,t)=>{i[e]?t.push(i[e]):0!==i[e]&&{47:1,274:1,609:1,751:1,902:1,1090:1,1530:1,1599:1,2064:1,2378:1,2381:1,2826:1,2905:1,3429:1,3587:1,3896:1,4100:1,4254:1,4382:1,4449:1,4628:1,4659:1,5186:1,5519:1,5835:1,6077:1,6132:1,6332:1,6413:1,6859:1,7470:1,7485:1,7690:1,7717:1,7996:1,8391:1,8513:1,8531:1,8600:1,8721:1,8839:1,9209:1,9414:1,9425:1,9545:1,9704:1,9822:1,9910:1}[e]&&t.push(i[e]=r(e).then((()=>{i[e]=0}),(t=>{throw delete i[e],t})))},(()=>{var e={1388:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else if(4659!=t){var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}else e[t]=0};var t=(t,n)=>{var r,i,[o,s,c]=n,u=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)c(a)}for(t&&t(n);u<o.length;u++)i=o[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{a(48178);var e=a(93164),t=a(1848),n=a(77141);class r{constructor(e){this._logger=e,this._listeners={},this._queue={}}fire(e,t,n){const r=this._listeners[e]||[];r.length?r.forEach((e=>e(t,n))):(this._queue[e]=this._queue[e]||[],this._queue[e].push({data:t,sender:n}))}unlisten(e,t){const n=this._listeners[e]||[],r=n.indexOf(t);-1!==r&&(1===n.length?delete this._listeners[e]:n.splice(r,1))}listenOnce(e,t){const n=(r,i)=>{this.unlisten(e,n),t(r,i)};this.listen(e,n)}listen(e,t){this._listeners[e]=this._listeners[e]||[],-1===this._listeners[e].indexOf(t)&&this._listeners[e].push(t);const n=this._queue[e]||[];for(const e of n)try{t(e.data,e.sender)}catch(e){this._logger.error("Exception during proccesing queued events",e)}delete this._queue[e]}}const i=n.Y.create("extension-api.message.safari-content");class o{constructor(t=!0){this.kind="content-script-message-api",this._messageHelper=new r(i),this._isStarted=!1,self.top!==self&&t||(0,e.Sx)((e=>{this._messageHelper.fire(e.event,e.data)}))}start(){if(this._isStarted)throw new Error("SafariContentScriptMessageImpl is already started");this._isStarted=!0;const e=()=>{this.broadcastBackground("tab-connected")};document.hidden?s(document,"visibilitychange",e):"loading"===document.readyState?s(document,"DOMContentLoaded",e):e()}listen(t,n){this._messageHelper.listen("broadcast",(r=>{null!==t&&t!==r.type||n(r.content,(t=>{r.id&&(0,e.CN)(r.id,t)}))}))}broadcastBackground(e,t,n){this._sendToBackground("broadcast-background",e,t,n)}_sendToBackground(n,r,i,o){const s=(0,t.M8)();o&&this._messageHelper.listenOnce(s,((e,t)=>o(e))),(0,e.CN)(n,{type:r,content:i,id:s})}}function s(e,t,n){e.addEventListener(t,(function r(){e.removeEventListener(t,r),n()}))}var c=a(36072),u=a(78466);class l{constructor(e){this._message=e,this.changes=new c.xQ,e.listen("pref-change",(e=>{this.changes.next(e)}))}get(e){return u.O.create((t=>{this._message.broadcastBackground("pref-get",e,t)}))}set(e){return u.O.create((t=>{this._message.broadcastBackground("pref-set",e,t)}))}getAll(){return u.O.create((e=>{this._message.broadcastBackground("pref-get-all",void 0,((...t)=>{e(t[0])}))}))}remove(e){return u.O.create((t=>{this._message.broadcastBackground("pref-remove",e,t)}))}removeAll(){return u.O.create((e=>{this._message.broadcastBackground("pref-remove-all",e)}))}}var d=a(13826);var p=a(95907);const h="https://www.grammarly.com",f="/signin",g="/api/apple",m="https://www.grammarly.com",b="/social/redirect";function _(){return(document.location.origin===h&&document.location.pathname===f||document.location.origin===h&&document.location.pathname===g)&&(a.e(3516).then(a.bind(a,81259)).then((({initOAuthExchange:e})=>e())),!0)}var v=a(48521),y=a(80510),w=a(64965),x=a(57188),E=a(65882),S=a(55446),C=a(18615),k=a(34859),R=a(14765),O=a(60165),T=a(65647),I=a(19282);var F,A=a(39144),P=a(32355),N=a(19776),j=a(1720),L=a(48240),D=a(10390),U=a(84558),M=a(93307),G=a(3679),B=a(73397);!function(e){e.init=function(e,t){const r=n.Y.create("lib.external");!function(e,t,n,r=document,i=!1,o,s){const a=e,c=r.documentElement;if(i){const e=r.createElement("link");e.href=a,e.rel="preload",e.as="script",e.onload=()=>{e.remove()},c.prepend(e)}const u=r.createElement("script");u.async=!1,u.defer=!1,u.src=a,u.type="text/javascript",t&&u.setAttribute("data-ext-id",t),n&&u.setAttribute("data-ext-version",n),u.onload=()=>{null==o||o(),u.remove()},u.onerror=()=>{null==s||s()},c.prepend(u)}(t("src/js/Grammarly-externalEventsInjectedCs.js"),(0,v.pB)());const i=G.HW.map((t=>{const n=`external:${t}`;return B.on.call(document,n,(({detail:t})=>{r.trace("external event",{event:n,detail:t}),e.sendBackground(n,t)}))}));return{dispose:()=>{i.forEach((e=>e.off()))}}}}(F||(F={}));var W=a(4663),H=a(39416),z=a(90655),V=a(86057),q=a(76449),$=a(25989),K=a(74857),Y=a(60841),Z=a(21595),J=a(22505),X=a(28705);const Q=(e,t)=>{const n={getAll:async()=>await r.getAll(),get:async e=>await r.get(e),view:()=>{throw new Error("not_implemented")},patch:async e=>await r.set(e),changes:(r=e.browserApi.preferences).changes};var r;const i=(0,E.aj)((0,$.D)(n.changes).pipe((0,R.O)(null),(0,K.b)(200),(0,Y.w)((()=>n.getAll()))),(0,$.D)((0,p.XD)(5,X.Xd(2),(()=>e.bgRpc.api.getPageConfig(t,self.location.href))).catch((e=>null))).pipe((0,R.O)(null)),((e,n)=>{var r,i,o,s,a,c;const u=null!==(i=null===(r=e.extensionSettings)||void 0===r?void 0:r[t])&&void 0!==i?i:{},l=(null===(o=null==u?void 0:u.enabled)||void 0===o||o)&&(null===(s=null==n?void 0:n.enabled)||void 0===s||s);return{user:null!==(a=e.user)&&void 0!==a?a:Z.n.defaultUser,settings:e.extensionSettings,dynamicConfig:null!==(c=e.dynamicConfig)&&void 0!==c?c:J.cS,dapi:e.dapi,enabled:l}}));return{storeLite:n,viewStoreLite:i}};var ee,te,ne,re=a(65054),ie=a(27443),oe=a(30164),se=a(62789),ae=a(65467);class ce{constructor(e,t,r,i=n.Y.create("ExtensionIntegrationCheck")){this._csShareStorage=e,this._loadContentScript=t,this._log=i,this._pageEnable=!0,this._citationBuilderEnable=!1,this._enabledDefs=!1,this._isAnonymous=!0,this._wasLoaded=!1,this._isDesktopIntegrationEnable=!1,this._mutations=M.x.createFlattenHot(self.document,{childList:!0,subtree:!0}),this._textFieldsObservable=j.S.createFocusObservable(self.document,this._mutations),this._subs=[this._textFieldsObservable.subscribe((e=>{const t=e.owner.frame||e.element,n=N.T.get(t);if(this._log.debug("detected click",{field:t,fieldType:n}),this._pageEnable&&(n.generic||n.specific)){const e=(0,ie.H)();t.__grammarlyPerformanceTimerId=e,t.__grammarlyPerformanceTimerStartTime=performance.now(),this.load()}})),ce.clickObserver.subscribe((e=>{2===e.detail&&this._enabledDefs&&this._pageEnable&&!this._isAnonymous&&te.isValid()&&(this._log.debug("dictionary event executed",e),this._csShareStorage.set("extensionDictionaryEvent",e),this._subs.push(te.animation()),this.load())}))],r&&!(0,v.n_)()&&this.load()}load(){this._wasLoaded&&!this._isDesktopIntegrationEnable||(this._log.debug("load main content script"),this._wasLoaded=!0,ne.callExecuteContentScript(),this.dispose(),this._loadContentScript())}dispose(){this._subs.forEach((e=>{try{e.unsubscribe()}catch(e){}}))}updateState(e,t,n,r,i){this._isDesktopIntegrationEnable=r,(!this._pageEnable&&t||!this._citationBuilderEnable&&i)&&this.load(),this._citationBuilderEnable=i,this._isAnonymous=e,this._pageEnable=t,this._enabledDefs=n,(0,se.ix)(this._pageEnable?null:"forever")}}!function(e){e.clickObserver=(0,w.R)(self.document,"click",{capture:!0}),e.start=async function(t,r=!0,i,o=!1){ne.checkScriptInitStart();const s=(0,z.ge)(),a=A.Xb.init(Object.assign(Object.assign({},t),{skipInitExtensionApi:r,skipWriteLogsToBackupStorage:!0})),c=n.Y.create("universal.check");if("text/html"!==document.contentType)return c.info("not a html page, skip integration check"),void(0,y.Tb)().skipIntegrationForNonHtmlPage();const u=[],l=new e(a.csShareStorage,(()=>{(null!=i?i:a.bgRpc.api.loadContentScript)(),u.forEach((e=>e&&e.dispose()))}),o),d=new U.x,h=ee.init(a.browserApi,a.message,a.config,s),{viewStoreLite:f}=Q(a,s),g=(0,p.hz)((e=>{(0,y.Tb)().sendFemetricsRate("checkScriptInitialized",{domain:(0,I.FN)(),isExtensionEnabled:e,isIframe:(0,v.n_)()},["firstInstall","registrationDate"])})),m=f.subscribe((e=>{var t,n,r,i;c.debug("check script state is updated",e);const o=null===(t=e.settings)||void 0===t?void 0:t.common;l.updateState(null===(r=null===(n=e.user)||void 0===n?void 0:n.anonymous)||void 0===r||r,e.enabled,null!==(i=null==o?void 0:o.enabledDefs)&&void 0!==i&&i,D.q.isIntegrationEnabled(o,s,e.dynamicConfig),(0,L.PM)(s,e.dynamicConfig,o)),d.updateState(s,e.dynamicConfig,e.enabled,o),g(e.enabled)})),b=[l,h,d];a.message.once("contentScript-disconnected",(()=>{m.unsubscribe(),a.csShareStorage.clean(),b.forEach((e=>e&&e.dispose()))})),a.message.once(q.B.Kind.disableOnTab,(()=>{d.dispose()})),W.B.initSendLogsToPopupHandler(a),u.push(W.B.initKeyboardShortcutHandler(a)),ne.checkScriptInitEnd(a.bgRpc),(e=>{if(self.location.href.includes("grammarly.com/extension-success")){const t=document.getElementById("click-to-run");t&&(t.onclick=()=>{var t,n;confirm("Always allow Grammarly to run on every website")?(e.api.enableClickToRunOnAllWebsites(),null===(t=document.getElementById("click-to-run-success"))||void 0===t||t.click()):null===(n=document.getElementById("click-to-run-fail"))||void 0===n||n.click()})}})(a.bgRpc),c.debug("Check script initialized!")}}(ce||(ce={})),function(e){e.init=function(e,t,n,r){const i=[];return function(e){(0,x.F)(10).pipe((0,S.h)((()=>!!document.body)),(0,C.P)()).subscribe((()=>{document.body.dataset.newGrCSCheckLoaded=e.buildInfo.version,(0,se.vG)()}))}(n),self.location.protocol===n.appConfig.url.grammarlyProtocol&&r.match(`^([a-z\\-0-9]+\\.)*${n.appConfig.url.grammarlyDomain}$`)&&i.push(F.init(t,e.getUrl)),{dispose:()=>{i.forEach((e=>e.dispose()))}}}}(ee||(ee={})),function(e){const t="important";function n(e){return String(e)+"px"}e.isValid=function(){const e=self.document.getSelection();return!(!e||e.toString().match(/[0-9_±!@#$%^&*:"|<>?~().,:}{’='-/ /]/))&&(0,V.F)(e,self.document)},e.animation=function(){const e=document.createElement("div"),r=e.attachShadow({mode:"open"}),i=document.createElement("style");i.innerHTML=oe.__css,r.appendChild(i);const o=self.document.getSelection().getRangeAt(0).getBoundingClientRect(),s=document.createElement("div");s.style.setProperty("top",n(o.top),t),s.style.setProperty("left",n(o.left),t),s.style.setProperty("height",n(o.height),t),s.style.setProperty("max-width",n(o.width),t),s.style.setProperty("z-index",P.U_.toString(),t),s.classList.add(oe.animatedUnderline,oe.checkAnimatedUnderline),r.appendChild(s),document.body.appendChild(e);const a=(0,x.F)(10),c=(0,E.aj)(ce.clickObserver.pipe((0,C.P)(),(0,k.h)(!1),(0,R.O)(!0),(0,O.x)()),a.pipe((0,T.U)((()=>{const e="."+H.completeAnimation;if(document.querySelector(e))return!0;const t=Array.from(document.querySelectorAll("grammarly-extension"));for(const n of t)if(n.shadowRoot&&n.shadowRoot.querySelector(e))return!0;return!1})),(0,R.O)(!1),(0,O.x)())).pipe((0,S.h)((([e,t])=>!e||t)),(0,O.x)()).subscribe(u);return{unsubscribe:u};function u(){c.unsubscribe(),e.remove()}}}(te||(te={})),function(e){const t=Date.now(),n=e=>self.performance.mark("@grammarly-extension:"+e);e.callExecuteContentScript=()=>n("callExecuteContentScript"),e.checkScriptInitEnd=e=>{const r=Math.random()<.01;if(n("checkScriptInitEnd"),r){const n=Date.now();e.api.trackCall(re.r,["sendFelogEvent",{ex_csInitPerf:{domain:self.location.host,initTime:n-t,pageLoadTime:n-self.performance.timing.responseEnd},hideUserInfo:!0,level:ae.in.INFO,logger:"checkScript.initialized"}])}},e.checkScriptInitStart=()=>n("checkScriptInitStart")}(ne||(ne={}));class ue{constructor(e){this._rpc=e,this.type="gate"}getTreatment(){return this._rpc.api.getGateTreatment()}}class le{constructor(e){this._rpc=e,this.type="experiment"}getTreatment(){return this._rpc.api.getExperimentTreatment()}logTreatment(e){return this._rpc.api.logExperimentTreatment(e)}}var de=a(93032),pe=a(61986),he=a(43801),fe=a(21194);const ge=(0,de.VS)(Object.values(he.p),(e=>e instanceof pe.KS?[e]:Object.values(e))),me=Object.values(fe.K),be=(0,X.LK)(30),_e=(e,t)=>new pe.XJ(e,ge,t,me,{ttl:be,useRefreshJitter:!0}),ve={browser:"safari",extensionType:"safariAppExtension",deploymentType:"regular",browserApi:new class{constructor(e=!0){this._dontInitInIFrames=e,this.message=new o(this._dontInitInIFrames),this.baseUri=safari.extension.baseURI,this.getUrl=e=>safari.extension.baseURI+e.substring(e.lastIndexOf("/")+1),this.preferences=new l(this.message),this.sessionStorage=new d.t,this.i18n={detectLanguage:e=>u.O.fromPromise(new Promise((t=>this.message.broadcastBackground("detect-language",{text:e},(e=>t({isReliable:!!e,languages:e?[{language:e.toLowerCase(),percentage:100}]:[]})))))),getUILanguage:()=>navigator.language.toLowerCase(),getAcceptLanguages:()=>u.O.fromPromise(Promise.resolve([this.i18n.getUILanguage()]))}}beginOAuth(){(0,e.IG)()}redirectClaimedUser(){(0,e.Yf)()}}(!1),createExperimentClient:e=>_e(new le(e),new ue(e))};ce.start(ve,!1,(async()=>{const e=n.Y.create("safariApp.dynamicInit");try{const{defaultGetGeneralPurposePageIntegrationRules:t,defaultGetPageIntegrationRules:n,start:r}=await Promise.all([a.e(4659),a.e(7559),a.e(609)]).then(a.bind(a,28250));r(ve,n,t),e.info("load main cs success")}catch(t){e.error("load main cs error",t)}}),["mail.google.com"].includes(self.location.hostname)),document.location.origin===m&&document.location.pathname===b?(0,p.XD)(4,600,(()=>_()?Promise.resolve():Promise.reject())):_()})();